{"version":3,"file":"/js/admin.js","mappings":"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","sources":["webpack:///./node_modules/filepond-plugin-file-validate-size/dist/filepond-plugin-file-validate-size.js","webpack:///./node_modules/filepond-plugin-file-validate-type/dist/filepond-plugin-file-validate-type.js","webpack:///./node_modules/filepond-plugin-image-preview/dist/filepond-plugin-image-preview.js","webpack:///./node_modules/filepond/dist/filepond.js","webpack:///./node_modules/livewire-sortable/dist/livewire-sortable.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/compat get default export","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///./resources/js/admin.js"],"sourcesContent":["/*!\n * FilePondPluginFileValidateSize 2.2.8\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? (module.exports = factory())\n        : typeof define === 'function' && define.amd\n        ? define(factory)\n        : ((global = global || self), (global.FilePondPluginFileValidateSize = factory()));\n})(this, function() {\n    'use strict';\n\n    var plugin = function plugin(_ref) {\n        var addFilter = _ref.addFilter,\n            utils = _ref.utils;\n        // get quick reference to Type utils\n        var Type = utils.Type,\n            replaceInString = utils.replaceInString,\n            toNaturalFileSize = utils.toNaturalFileSize;\n\n        // filtering if an item is allowed in hopper\n        addFilter('ALLOW_HOPPER_ITEM', function(file, _ref2) {\n            var query = _ref2.query;\n            if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n                return true;\n            }\n\n            var sizeMax = query('GET_MAX_FILE_SIZE');\n            if (sizeMax !== null && file.size > sizeMax) {\n                return false;\n            }\n\n            var sizeMin = query('GET_MIN_FILE_SIZE');\n            if (sizeMin !== null && file.size < sizeMin) {\n                return false;\n            }\n\n            return true;\n        });\n\n        // called for each file that is loaded\n        // right before it is set to the item state\n        // should return a promise\n        addFilter('LOAD_FILE', function(file, _ref3) {\n            var query = _ref3.query;\n            return new Promise(function(resolve, reject) {\n                // if not allowed, all fine, exit\n                if (!query('GET_ALLOW_FILE_SIZE_VALIDATION')) {\n                    return resolve(file);\n                }\n\n                // check if file should be filtered\n                var fileFilter = query('GET_FILE_VALIDATE_SIZE_FILTER');\n                if (fileFilter && !fileFilter(file)) {\n                    return resolve(file);\n                }\n\n                // reject or resolve based on file size\n                var sizeMax = query('GET_MAX_FILE_SIZE');\n                if (sizeMax !== null && file.size > sizeMax) {\n                    reject({\n                        status: {\n                            main: query('GET_LABEL_MAX_FILE_SIZE_EXCEEDED'),\n                            sub: replaceInString(query('GET_LABEL_MAX_FILE_SIZE'), {\n                                filesize: toNaturalFileSize(\n                                    sizeMax,\n                                    '.',\n                                    query('GET_FILE_SIZE_BASE'),\n                                    query('GET_FILE_SIZE_LABELS', query)\n                                ),\n                            }),\n                        },\n                    });\n\n                    return;\n                }\n\n                // reject or resolve based on file size\n                var sizeMin = query('GET_MIN_FILE_SIZE');\n                if (sizeMin !== null && file.size < sizeMin) {\n                    reject({\n                        status: {\n                            main: query('GET_LABEL_MIN_FILE_SIZE_EXCEEDED'),\n                            sub: replaceInString(query('GET_LABEL_MIN_FILE_SIZE'), {\n                                filesize: toNaturalFileSize(\n                                    sizeMin,\n                                    '.',\n                                    query('GET_FILE_SIZE_BASE'),\n                                    query('GET_FILE_SIZE_LABELS', query)\n                                ),\n                            }),\n                        },\n                    });\n\n                    return;\n                }\n\n                // returns the current option value\n                var totalSizeMax = query('GET_MAX_TOTAL_FILE_SIZE');\n                if (totalSizeMax !== null) {\n                    // get the current total file size\n                    var currentTotalSize = query('GET_ACTIVE_ITEMS').reduce(function(total, item) {\n                        return total + item.fileSize;\n                    }, 0);\n\n                    // get the size of the new file\n                    if (currentTotalSize > totalSizeMax) {\n                        reject({\n                            status: {\n                                main: query('GET_LABEL_MAX_TOTAL_FILE_SIZE_EXCEEDED'),\n                                sub: replaceInString(query('GET_LABEL_MAX_TOTAL_FILE_SIZE'), {\n                                    filesize: toNaturalFileSize(\n                                        totalSizeMax,\n                                        '.',\n                                        query('GET_FILE_SIZE_BASE'),\n                                        query('GET_FILE_SIZE_LABELS', query)\n                                    ),\n                                }),\n                            },\n                        });\n\n                        return;\n                    }\n                }\n\n                // file is fine, let's pass it back\n                resolve(file);\n            });\n        });\n\n        return {\n            options: {\n                // Enable or disable file type validation\n                allowFileSizeValidation: [true, Type.BOOLEAN],\n\n                // Max individual file size in bytes\n                maxFileSize: [null, Type.INT],\n\n                // Min individual file size in bytes\n                minFileSize: [null, Type.INT],\n\n                // Max total file size in bytes\n                maxTotalFileSize: [null, Type.INT],\n\n                // Filter the files that need to be validated for size\n                fileValidateSizeFilter: [null, Type.FUNCTION],\n\n                // error labels\n                labelMinFileSizeExceeded: ['File is too small', Type.STRING],\n                labelMinFileSize: ['Minimum file size is {filesize}', Type.STRING],\n\n                labelMaxFileSizeExceeded: ['File is too large', Type.STRING],\n                labelMaxFileSize: ['Maximum file size is {filesize}', Type.STRING],\n\n                labelMaxTotalFileSizeExceeded: ['Maximum total size exceeded', Type.STRING],\n                labelMaxTotalFileSize: ['Maximum total file size is {filesize}', Type.STRING],\n            },\n        };\n    };\n\n    // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    if (isBrowser) {\n        document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));\n    }\n\n    return plugin;\n});\n","/*!\n * FilePondPluginFileValidateType 1.2.9\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? (module.exports = factory())\n        : typeof define === 'function' && define.amd\n        ? define(factory)\n        : ((global = global || self), (global.FilePondPluginFileValidateType = factory()));\n})(this, function() {\n    'use strict';\n\n    var plugin = function plugin(_ref) {\n        var addFilter = _ref.addFilter,\n            utils = _ref.utils;\n        // get quick reference to Type utils\n        var Type = utils.Type,\n            isString = utils.isString,\n            replaceInString = utils.replaceInString,\n            guesstimateMimeType = utils.guesstimateMimeType,\n            getExtensionFromFilename = utils.getExtensionFromFilename,\n            getFilenameFromURL = utils.getFilenameFromURL;\n\n        var mimeTypeMatchesWildCard = function mimeTypeMatchesWildCard(mimeType, wildcard) {\n            var mimeTypeGroup = (/^[^/]+/.exec(mimeType) || []).pop(); // image/png -> image\n            var wildcardGroup = wildcard.slice(0, -2); // image/* -> image\n            return mimeTypeGroup === wildcardGroup;\n        };\n\n        var isValidMimeType = function isValidMimeType(acceptedTypes, userInputType) {\n            return acceptedTypes.some(function(acceptedType) {\n                // accepted is wildcard mime type\n                if (/\\*$/.test(acceptedType)) {\n                    return mimeTypeMatchesWildCard(userInputType, acceptedType);\n                }\n\n                // is normal mime type\n                return acceptedType === userInputType;\n            });\n        };\n\n        var getItemType = function getItemType(item) {\n            // if the item is a url we guess the mime type by the extension\n            var type = '';\n            if (isString(item)) {\n                var filename = getFilenameFromURL(item);\n                var extension = getExtensionFromFilename(filename);\n                if (extension) {\n                    type = guesstimateMimeType(extension);\n                }\n            } else {\n                type = item.type;\n            }\n\n            return type;\n        };\n\n        var validateFile = function validateFile(item, acceptedFileTypes, typeDetector) {\n            // no types defined, everything is allowed \\o/\n            if (acceptedFileTypes.length === 0) {\n                return true;\n            }\n\n            // gets the item type\n            var type = getItemType(item);\n\n            // no type detector, test now\n            if (!typeDetector) {\n                return isValidMimeType(acceptedFileTypes, type);\n            }\n\n            // use type detector\n            return new Promise(function(resolve, reject) {\n                typeDetector(item, type)\n                    .then(function(detectedType) {\n                        if (isValidMimeType(acceptedFileTypes, detectedType)) {\n                            resolve();\n                        } else {\n                            reject();\n                        }\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var applyMimeTypeMap = function applyMimeTypeMap(map) {\n            return function(acceptedFileType) {\n                return map[acceptedFileType] === null\n                    ? false\n                    : map[acceptedFileType] || acceptedFileType;\n            };\n        };\n\n        // setup attribute mapping for accept\n        addFilter('SET_ATTRIBUTE_TO_OPTION_MAP', function(map) {\n            return Object.assign(map, {\n                accept: 'acceptedFileTypes',\n            });\n        });\n\n        // filtering if an item is allowed in hopper\n        addFilter('ALLOW_HOPPER_ITEM', function(file, _ref2) {\n            var query = _ref2.query;\n            // if we are not doing file type validation exit\n            if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n                return true;\n            }\n\n            // we validate the file against the accepted file types\n            return validateFile(file, query('GET_ACCEPTED_FILE_TYPES'));\n        });\n\n        // called for each file that is loaded\n        // right before it is set to the item state\n        // should return a promise\n        addFilter('LOAD_FILE', function(file, _ref3) {\n            var query = _ref3.query;\n            return new Promise(function(resolve, reject) {\n                if (!query('GET_ALLOW_FILE_TYPE_VALIDATION')) {\n                    resolve(file);\n                    return;\n                }\n\n                var acceptedFileTypes = query('GET_ACCEPTED_FILE_TYPES');\n\n                // custom type detector method\n                var typeDetector = query('GET_FILE_VALIDATE_TYPE_DETECT_TYPE');\n\n                // if invalid, exit here\n                var validationResult = validateFile(file, acceptedFileTypes, typeDetector);\n\n                var handleRejection = function handleRejection() {\n                    var acceptedFileTypesMapped = acceptedFileTypes\n                        .map(\n                            applyMimeTypeMap(\n                                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES_MAP')\n                            )\n                        )\n                        .filter(function(label) {\n                            return label !== false;\n                        });\n\n                    var acceptedFileTypesMappedUnique = acceptedFileTypesMapped.filter(function(\n                        item,\n                        index\n                    ) {\n                        return acceptedFileTypesMapped.indexOf(item) === index;\n                    });\n\n                    reject({\n                        status: {\n                            main: query('GET_LABEL_FILE_TYPE_NOT_ALLOWED'),\n                            sub: replaceInString(\n                                query('GET_FILE_VALIDATE_TYPE_LABEL_EXPECTED_TYPES'),\n                                {\n                                    allTypes: acceptedFileTypesMappedUnique.join(', '),\n                                    allButLastType: acceptedFileTypesMappedUnique\n                                        .slice(0, -1)\n                                        .join(', '),\n                                    lastType:\n                                        acceptedFileTypesMappedUnique[\n                                            acceptedFileTypesMappedUnique.length - 1\n                                        ],\n                                }\n                            ),\n                        },\n                    });\n                };\n\n                // has returned new filename immidiately\n                if (typeof validationResult === 'boolean') {\n                    if (!validationResult) {\n                        return handleRejection();\n                    }\n                    return resolve(file);\n                }\n\n                // is promise\n                validationResult\n                    .then(function() {\n                        resolve(file);\n                    })\n                    .catch(handleRejection);\n            });\n        });\n\n        // expose plugin\n        return {\n            // default options\n            options: {\n                // Enable or disable file type validation\n                allowFileTypeValidation: [true, Type.BOOLEAN],\n\n                // What file types to accept\n                acceptedFileTypes: [[], Type.ARRAY],\n                // - must be comma separated\n                // - mime types: image/png, image/jpeg, image/gif\n                // - extensions: .png, .jpg, .jpeg ( not enabled yet )\n                // - wildcards: image/*\n\n                // label to show when a type is not allowed\n                labelFileTypeNotAllowed: ['File is of invalid type', Type.STRING],\n\n                // nicer label\n                fileValidateTypeLabelExpectedTypes: [\n                    'Expects {allButLastType} or {lastType}',\n                    Type.STRING,\n                ],\n\n                // map mime types to extensions\n                fileValidateTypeLabelExpectedTypesMap: [{}, Type.OBJECT],\n\n                // Custom function to detect type of file\n                fileValidateTypeDetectType: [null, Type.FUNCTION],\n            },\n        };\n    };\n\n    // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n    var isBrowser = typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    if (isBrowser) {\n        document.dispatchEvent(new CustomEvent('FilePond:pluginloaded', { detail: plugin }));\n    }\n\n    return plugin;\n});\n","/*!\n * FilePondPluginImagePreview 4.6.12\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined'\n    ? (module.exports = factory())\n    : typeof define === 'function' && define.amd\n    ? define(factory)\n    : ((global = global || self),\n      (global.FilePondPluginImagePreview = factory()));\n})(this, function() {\n  'use strict';\n\n  // test if file is of type image and can be viewed in canvas\n  var isPreviewableImage = function isPreviewableImage(file) {\n    return /^image/.test(file.type);\n  };\n\n  function _typeof(obj) {\n    if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n      _typeof = function(obj) {\n        return typeof obj;\n      };\n    } else {\n      _typeof = function(obj) {\n        return obj &&\n          typeof Symbol === 'function' &&\n          obj.constructor === Symbol &&\n          obj !== Symbol.prototype\n          ? 'symbol'\n          : typeof obj;\n      };\n    }\n\n    return _typeof(obj);\n  }\n\n  var REACT_ELEMENT_TYPE;\n\n  function _jsx(type, props, key, children) {\n    if (!REACT_ELEMENT_TYPE) {\n      REACT_ELEMENT_TYPE =\n        (typeof Symbol === 'function' &&\n          Symbol.for &&\n          Symbol.for('react.element')) ||\n        0xeac7;\n    }\n\n    var defaultProps = type && type.defaultProps;\n    var childrenLength = arguments.length - 3;\n\n    if (!props && childrenLength !== 0) {\n      props = {\n        children: void 0\n      };\n    }\n\n    if (props && defaultProps) {\n      for (var propName in defaultProps) {\n        if (props[propName] === void 0) {\n          props[propName] = defaultProps[propName];\n        }\n      }\n    } else if (!props) {\n      props = defaultProps || {};\n    }\n\n    if (childrenLength === 1) {\n      props.children = children;\n    } else if (childrenLength > 1) {\n      var childArray = new Array(childrenLength);\n\n      for (var i = 0; i < childrenLength; i++) {\n        childArray[i] = arguments[i + 3];\n      }\n\n      props.children = childArray;\n    }\n\n    return {\n      $$typeof: REACT_ELEMENT_TYPE,\n      type: type,\n      key: key === undefined ? null : '' + key,\n      ref: null,\n      props: props,\n      _owner: null\n    };\n  }\n\n  function _asyncIterator(iterable) {\n    var method;\n\n    if (typeof Symbol === 'function') {\n      if (Symbol.asyncIterator) {\n        method = iterable[Symbol.asyncIterator];\n        if (method != null) return method.call(iterable);\n      }\n\n      if (Symbol.iterator) {\n        method = iterable[Symbol.iterator];\n        if (method != null) return method.call(iterable);\n      }\n    }\n\n    throw new TypeError('Object is not async iterable');\n  }\n\n  function _AwaitValue(value) {\n    this.wrapped = value;\n  }\n\n  function _AsyncGenerator(gen) {\n    var front, back;\n\n    function send(key, arg) {\n      return new Promise(function(resolve, reject) {\n        var request = {\n          key: key,\n          arg: arg,\n          resolve: resolve,\n          reject: reject,\n          next: null\n        };\n\n        if (back) {\n          back = back.next = request;\n        } else {\n          front = back = request;\n          resume(key, arg);\n        }\n      });\n    }\n\n    function resume(key, arg) {\n      try {\n        var result = gen[key](arg);\n        var value = result.value;\n        var wrappedAwait = value instanceof _AwaitValue;\n        Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n          function(arg) {\n            if (wrappedAwait) {\n              resume('next', arg);\n              return;\n            }\n\n            settle(result.done ? 'return' : 'normal', arg);\n          },\n          function(err) {\n            resume('throw', err);\n          }\n        );\n      } catch (err) {\n        settle('throw', err);\n      }\n    }\n\n    function settle(type, value) {\n      switch (type) {\n        case 'return':\n          front.resolve({\n            value: value,\n            done: true\n          });\n          break;\n\n        case 'throw':\n          front.reject(value);\n          break;\n\n        default:\n          front.resolve({\n            value: value,\n            done: false\n          });\n          break;\n      }\n\n      front = front.next;\n\n      if (front) {\n        resume(front.key, front.arg);\n      } else {\n        back = null;\n      }\n    }\n\n    this._invoke = send;\n\n    if (typeof gen.return !== 'function') {\n      this.return = undefined;\n    }\n  }\n\n  if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n    _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n      return this;\n    };\n  }\n\n  _AsyncGenerator.prototype.next = function(arg) {\n    return this._invoke('next', arg);\n  };\n\n  _AsyncGenerator.prototype.throw = function(arg) {\n    return this._invoke('throw', arg);\n  };\n\n  _AsyncGenerator.prototype.return = function(arg) {\n    return this._invoke('return', arg);\n  };\n\n  function _wrapAsyncGenerator(fn) {\n    return function() {\n      return new _AsyncGenerator(fn.apply(this, arguments));\n    };\n  }\n\n  function _awaitAsyncGenerator(value) {\n    return new _AwaitValue(value);\n  }\n\n  function _asyncGeneratorDelegate(inner, awaitWrap) {\n    var iter = {},\n      waiting = false;\n\n    function pump(key, value) {\n      waiting = true;\n      value = new Promise(function(resolve) {\n        resolve(inner[key](value));\n      });\n      return {\n        done: false,\n        value: awaitWrap(value)\n      };\n    }\n\n    if (typeof Symbol === 'function' && Symbol.iterator) {\n      iter[Symbol.iterator] = function() {\n        return this;\n      };\n    }\n\n    iter.next = function(value) {\n      if (waiting) {\n        waiting = false;\n        return value;\n      }\n\n      return pump('next', value);\n    };\n\n    if (typeof inner.throw === 'function') {\n      iter.throw = function(value) {\n        if (waiting) {\n          waiting = false;\n          throw value;\n        }\n\n        return pump('throw', value);\n      };\n    }\n\n    if (typeof inner.return === 'function') {\n      iter.return = function(value) {\n        return pump('return', value);\n      };\n    }\n\n    return iter;\n  }\n\n  function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n    try {\n      var info = gen[key](arg);\n      var value = info.value;\n    } catch (error) {\n      reject(error);\n      return;\n    }\n\n    if (info.done) {\n      resolve(value);\n    } else {\n      Promise.resolve(value).then(_next, _throw);\n    }\n  }\n\n  function _asyncToGenerator(fn) {\n    return function() {\n      var self = this,\n        args = arguments;\n      return new Promise(function(resolve, reject) {\n        var gen = fn.apply(self, args);\n\n        function _next(value) {\n          asyncGeneratorStep(\n            gen,\n            resolve,\n            reject,\n            _next,\n            _throw,\n            'next',\n            value\n          );\n        }\n\n        function _throw(err) {\n          asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n        }\n\n        _next(undefined);\n      });\n    };\n  }\n\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError('Cannot call a class as a function');\n    }\n  }\n\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if ('value' in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n  }\n\n  function _defineEnumerableProperties(obj, descs) {\n    for (var key in descs) {\n      var desc = descs[key];\n      desc.configurable = desc.enumerable = true;\n      if ('value' in desc) desc.writable = true;\n      Object.defineProperty(obj, key, desc);\n    }\n\n    if (Object.getOwnPropertySymbols) {\n      var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n      for (var i = 0; i < objectSymbols.length; i++) {\n        var sym = objectSymbols[i];\n        var desc = descs[sym];\n        desc.configurable = desc.enumerable = true;\n        if ('value' in desc) desc.writable = true;\n        Object.defineProperty(obj, sym, desc);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defaults(obj, defaults) {\n    var keys = Object.getOwnPropertyNames(defaults);\n\n    for (var i = 0; i < keys.length; i++) {\n      var key = keys[i];\n      var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n      if (value && value.configurable && obj[key] === undefined) {\n        Object.defineProperty(obj, key, value);\n      }\n    }\n\n    return obj;\n  }\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function _extends() {\n    _extends =\n      Object.assign ||\n      function(target) {\n        for (var i = 1; i < arguments.length; i++) {\n          var source = arguments[i];\n\n          for (var key in source) {\n            if (Object.prototype.hasOwnProperty.call(source, key)) {\n              target[key] = source[key];\n            }\n          }\n        }\n\n        return target;\n      };\n\n    return _extends.apply(this, arguments);\n  }\n\n  function _objectSpread(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n      var ownKeys = Object.keys(source);\n\n      if (typeof Object.getOwnPropertySymbols === 'function') {\n        ownKeys = ownKeys.concat(\n          Object.getOwnPropertySymbols(source).filter(function(sym) {\n            return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n          })\n        );\n      }\n\n      ownKeys.forEach(function(key) {\n        _defineProperty(target, key, source[key]);\n      });\n    }\n\n    return target;\n  }\n\n  function _inherits(subClass, superClass) {\n    if (typeof superClass !== 'function' && superClass !== null) {\n      throw new TypeError('Super expression must either be null or a function');\n    }\n\n    subClass.prototype = Object.create(superClass && superClass.prototype, {\n      constructor: {\n        value: subClass,\n        writable: true,\n        configurable: true\n      }\n    });\n    if (superClass) _setPrototypeOf(subClass, superClass);\n  }\n\n  function _inheritsLoose(subClass, superClass) {\n    subClass.prototype = Object.create(superClass.prototype);\n    subClass.prototype.constructor = subClass;\n    subClass.__proto__ = superClass;\n  }\n\n  function _getPrototypeOf(o) {\n    _getPrototypeOf = Object.setPrototypeOf\n      ? Object.getPrototypeOf\n      : function _getPrototypeOf(o) {\n          return o.__proto__ || Object.getPrototypeOf(o);\n        };\n    return _getPrototypeOf(o);\n  }\n\n  function _setPrototypeOf(o, p) {\n    _setPrototypeOf =\n      Object.setPrototypeOf ||\n      function _setPrototypeOf(o, p) {\n        o.__proto__ = p;\n        return o;\n      };\n\n    return _setPrototypeOf(o, p);\n  }\n\n  function isNativeReflectConstruct() {\n    if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n    if (Reflect.construct.sham) return false;\n    if (typeof Proxy === 'function') return true;\n\n    try {\n      Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n\n  function _construct(Parent, args, Class) {\n    if (isNativeReflectConstruct()) {\n      _construct = Reflect.construct;\n    } else {\n      _construct = function _construct(Parent, args, Class) {\n        var a = [null];\n        a.push.apply(a, args);\n        var Constructor = Function.bind.apply(Parent, a);\n        var instance = new Constructor();\n        if (Class) _setPrototypeOf(instance, Class.prototype);\n        return instance;\n      };\n    }\n\n    return _construct.apply(null, arguments);\n  }\n\n  function _isNativeFunction(fn) {\n    return Function.toString.call(fn).indexOf('[native code]') !== -1;\n  }\n\n  function _wrapNativeSuper(Class) {\n    var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n    _wrapNativeSuper = function _wrapNativeSuper(Class) {\n      if (Class === null || !_isNativeFunction(Class)) return Class;\n\n      if (typeof Class !== 'function') {\n        throw new TypeError(\n          'Super expression must either be null or a function'\n        );\n      }\n\n      if (typeof _cache !== 'undefined') {\n        if (_cache.has(Class)) return _cache.get(Class);\n\n        _cache.set(Class, Wrapper);\n      }\n\n      function Wrapper() {\n        return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n      }\n\n      Wrapper.prototype = Object.create(Class.prototype, {\n        constructor: {\n          value: Wrapper,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      });\n      return _setPrototypeOf(Wrapper, Class);\n    };\n\n    return _wrapNativeSuper(Class);\n  }\n\n  function _instanceof(left, right) {\n    if (\n      right != null &&\n      typeof Symbol !== 'undefined' &&\n      right[Symbol.hasInstance]\n    ) {\n      return right[Symbol.hasInstance](left);\n    } else {\n      return left instanceof right;\n    }\n  }\n\n  function _interopRequireDefault(obj) {\n    return obj && obj.__esModule\n      ? obj\n      : {\n          default: obj\n        };\n  }\n\n  function _interopRequireWildcard(obj) {\n    if (obj && obj.__esModule) {\n      return obj;\n    } else {\n      var newObj = {};\n\n      if (obj != null) {\n        for (var key in obj) {\n          if (Object.prototype.hasOwnProperty.call(obj, key)) {\n            var desc =\n              Object.defineProperty && Object.getOwnPropertyDescriptor\n                ? Object.getOwnPropertyDescriptor(obj, key)\n                : {};\n\n            if (desc.get || desc.set) {\n              Object.defineProperty(newObj, key, desc);\n            } else {\n              newObj[key] = obj[key];\n            }\n          }\n        }\n      }\n\n      newObj.default = obj;\n      return newObj;\n    }\n  }\n\n  function _newArrowCheck(innerThis, boundThis) {\n    if (innerThis !== boundThis) {\n      throw new TypeError('Cannot instantiate an arrow function');\n    }\n  }\n\n  function _objectDestructuringEmpty(obj) {\n    if (obj == null) throw new TypeError('Cannot destructure undefined');\n  }\n\n  function _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n\n    for (i = 0; i < sourceKeys.length; i++) {\n      key = sourceKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      target[key] = source[key];\n    }\n\n    return target;\n  }\n\n  function _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n\n    var key, i;\n\n    if (Object.getOwnPropertySymbols) {\n      var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n      for (i = 0; i < sourceSymbolKeys.length; i++) {\n        key = sourceSymbolKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n        target[key] = source[key];\n      }\n    }\n\n    return target;\n  }\n\n  function _assertThisInitialized(self) {\n    if (self === void 0) {\n      throw new ReferenceError(\n        \"this hasn't been initialised - super() hasn't been called\"\n      );\n    }\n\n    return self;\n  }\n\n  function _possibleConstructorReturn(self, call) {\n    if (call && (typeof call === 'object' || typeof call === 'function')) {\n      return call;\n    }\n\n    return _assertThisInitialized(self);\n  }\n\n  function _superPropBase(object, property) {\n    while (!Object.prototype.hasOwnProperty.call(object, property)) {\n      object = _getPrototypeOf(object);\n      if (object === null) break;\n    }\n\n    return object;\n  }\n\n  function _get(target, property, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.get) {\n      _get = Reflect.get;\n    } else {\n      _get = function _get(target, property, receiver) {\n        var base = _superPropBase(target, property);\n\n        if (!base) return;\n        var desc = Object.getOwnPropertyDescriptor(base, property);\n\n        if (desc.get) {\n          return desc.get.call(receiver);\n        }\n\n        return desc.value;\n      };\n    }\n\n    return _get(target, property, receiver || target);\n  }\n\n  function set(target, property, value, receiver) {\n    if (typeof Reflect !== 'undefined' && Reflect.set) {\n      set = Reflect.set;\n    } else {\n      set = function set(target, property, value, receiver) {\n        var base = _superPropBase(target, property);\n\n        var desc;\n\n        if (base) {\n          desc = Object.getOwnPropertyDescriptor(base, property);\n\n          if (desc.set) {\n            desc.set.call(receiver, value);\n            return true;\n          } else if (!desc.writable) {\n            return false;\n          }\n        }\n\n        desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n        if (desc) {\n          if (!desc.writable) {\n            return false;\n          }\n\n          desc.value = value;\n          Object.defineProperty(receiver, property, desc);\n        } else {\n          _defineProperty(receiver, property, value);\n        }\n\n        return true;\n      };\n    }\n\n    return set(target, property, value, receiver);\n  }\n\n  function _set(target, property, value, receiver, isStrict) {\n    var s = set(target, property, value, receiver || target);\n\n    if (!s && isStrict) {\n      throw new Error('failed to set property');\n    }\n\n    return value;\n  }\n\n  function _taggedTemplateLiteral(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    return Object.freeze(\n      Object.defineProperties(strings, {\n        raw: {\n          value: Object.freeze(raw)\n        }\n      })\n    );\n  }\n\n  function _taggedTemplateLiteralLoose(strings, raw) {\n    if (!raw) {\n      raw = strings.slice(0);\n    }\n\n    strings.raw = raw;\n    return strings;\n  }\n\n  function _temporalRef(val, name) {\n    if (val === _temporalUndefined) {\n      throw new ReferenceError(name + ' is not defined - temporal dead zone');\n    } else {\n      return val;\n    }\n  }\n\n  function _readOnlyError(name) {\n    throw new Error('\"' + name + '\" is read-only');\n  }\n\n  function _classNameTDZError(name) {\n    throw new Error(\n      'Class \"' + name + '\" cannot be referenced in computed property keys.'\n    );\n  }\n\n  var _temporalUndefined = {};\n\n  function _slicedToArray(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimit(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _slicedToArrayLoose(arr, i) {\n    return (\n      _arrayWithHoles(arr) ||\n      _iterableToArrayLimitLoose(arr, i) ||\n      _nonIterableRest()\n    );\n  }\n\n  function _toArray(arr) {\n    return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n  }\n\n  function _toConsumableArray(arr) {\n    return (\n      _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread()\n    );\n  }\n\n  function _arrayWithoutHoles(arr) {\n    if (Array.isArray(arr)) {\n      for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++)\n        arr2[i] = arr[i];\n\n      return arr2;\n    }\n  }\n\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n\n  function _iterableToArray(iter) {\n    if (\n      Symbol.iterator in Object(iter) ||\n      Object.prototype.toString.call(iter) === '[object Arguments]'\n    )\n      return Array.from(iter);\n  }\n\n  function _iterableToArrayLimit(arr, i) {\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _e = undefined;\n\n    try {\n      for (\n        var _i = arr[Symbol.iterator](), _s;\n        !(_n = (_s = _i.next()).done);\n        _n = true\n      ) {\n        _arr.push(_s.value);\n\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i['return'] != null) _i['return']();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n\n    return _arr;\n  }\n\n  function _iterableToArrayLimitLoose(arr, i) {\n    var _arr = [];\n\n    for (\n      var _iterator = arr[Symbol.iterator](), _step;\n      !(_step = _iterator.next()).done;\n\n    ) {\n      _arr.push(_step.value);\n\n      if (i && _arr.length === i) break;\n    }\n\n    return _arr;\n  }\n\n  function _nonIterableSpread() {\n    throw new TypeError('Invalid attempt to spread non-iterable instance');\n  }\n\n  function _nonIterableRest() {\n    throw new TypeError('Invalid attempt to destructure non-iterable instance');\n  }\n\n  function _skipFirstGeneratorNext(fn) {\n    return function() {\n      var it = fn.apply(this, arguments);\n      it.next();\n      return it;\n    };\n  }\n\n  function _toPrimitive(input, hint) {\n    if (typeof input !== 'object' || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n\n    if (prim !== undefined) {\n      var res = prim.call(input, hint || 'default');\n      if (typeof res !== 'object') return res;\n      throw new TypeError('@@toPrimitive must return a primitive value.');\n    }\n\n    return (hint === 'string' ? String : Number)(input);\n  }\n\n  function _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, 'string');\n\n    return typeof key === 'symbol' ? key : String(key);\n  }\n\n  function _initializerWarningHelper(descriptor, context) {\n    throw new Error(\n      'Decorating class property failed. Please ensure that ' +\n        'proposal-class-properties is enabled and set to use loose mode. ' +\n        'To use proposal-class-properties in spec mode with decorators, wait for ' +\n        'the next major version of decorators in stage 2.'\n    );\n  }\n\n  function _initializerDefineProperty(target, property, descriptor, context) {\n    if (!descriptor) return;\n    Object.defineProperty(target, property, {\n      enumerable: descriptor.enumerable,\n      configurable: descriptor.configurable,\n      writable: descriptor.writable,\n      value: descriptor.initializer\n        ? descriptor.initializer.call(context)\n        : void 0\n    });\n  }\n\n  function _applyDecoratedDescriptor(\n    target,\n    property,\n    decorators,\n    descriptor,\n    context\n  ) {\n    var desc = {};\n    Object.keys(descriptor).forEach(function(key) {\n      desc[key] = descriptor[key];\n    });\n    desc.enumerable = !!desc.enumerable;\n    desc.configurable = !!desc.configurable;\n\n    if ('value' in desc || desc.initializer) {\n      desc.writable = true;\n    }\n\n    desc = decorators\n      .slice()\n      .reverse()\n      .reduce(function(desc, decorator) {\n        return decorator(target, property, desc) || desc;\n      }, desc);\n\n    if (context && desc.initializer !== void 0) {\n      desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n      desc.initializer = undefined;\n    }\n\n    if (desc.initializer === void 0) {\n      Object.defineProperty(target, property, desc);\n      desc = null;\n    }\n\n    return desc;\n  }\n\n  var id = 0;\n\n  function _classPrivateFieldLooseKey(name) {\n    return '__private_' + id++ + '_' + name;\n  }\n\n  function _classPrivateFieldLooseBase(receiver, privateKey) {\n    if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n      throw new TypeError('attempted to use private field on non-instance');\n    }\n\n    return receiver;\n  }\n\n  function _classPrivateFieldGet(receiver, privateMap) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.get) {\n      return descriptor.get.call(receiver);\n    }\n\n    return descriptor.value;\n  }\n\n  function _classPrivateFieldSet(receiver, privateMap, value) {\n    if (!privateMap.has(receiver)) {\n      throw new TypeError('attempted to set private field on non-instance');\n    }\n\n    var descriptor = privateMap.get(receiver);\n\n    if (descriptor.set) {\n      descriptor.set.call(receiver, value);\n    } else {\n      if (!descriptor.writable) {\n        throw new TypeError('attempted to set read only private field');\n      }\n\n      descriptor.value = value;\n    }\n\n    return value;\n  }\n\n  function _classStaticPrivateFieldSpecGet(\n    receiver,\n    classConstructor,\n    descriptor\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return descriptor.value;\n  }\n\n  function _classStaticPrivateFieldSpecSet(\n    receiver,\n    classConstructor,\n    descriptor,\n    value\n  ) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    if (!descriptor.writable) {\n      throw new TypeError('attempted to set read only private field');\n    }\n\n    descriptor.value = value;\n    return value;\n  }\n\n  function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n    if (receiver !== classConstructor) {\n      throw new TypeError('Private static access of wrong provenance');\n    }\n\n    return method;\n  }\n\n  function _classStaticPrivateMethodSet() {\n    throw new TypeError('attempted to set read only static private field');\n  }\n\n  function _decorate(decorators, factory, superClass, mixins) {\n    var api = _getDecoratorsApi();\n\n    if (mixins) {\n      for (var i = 0; i < mixins.length; i++) {\n        api = mixins[i](api);\n      }\n    }\n\n    var r = factory(function initialize(O) {\n      api.initializeInstanceElements(O, decorated.elements);\n    }, superClass);\n    var decorated = api.decorateClass(\n      _coalesceClassElements(r.d.map(_createElementDescriptor)),\n      decorators\n    );\n    api.initializeClassElements(r.F, decorated.elements);\n    return api.runClassFinishers(r.F, decorated.finishers);\n  }\n\n  function _getDecoratorsApi() {\n    _getDecoratorsApi = function() {\n      return api;\n    };\n\n    var api = {\n      elementsDefinitionOrder: [['method'], ['field']],\n      initializeInstanceElements: function(O, elements) {\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            if (element.kind === kind && element.placement === 'own') {\n              this.defineClassElement(O, element);\n            }\n          }, this);\n        }, this);\n      },\n      initializeClassElements: function(F, elements) {\n        var proto = F.prototype;\n        ['method', 'field'].forEach(function(kind) {\n          elements.forEach(function(element) {\n            var placement = element.placement;\n\n            if (\n              element.kind === kind &&\n              (placement === 'static' || placement === 'prototype')\n            ) {\n              var receiver = placement === 'static' ? F : proto;\n              this.defineClassElement(receiver, element);\n            }\n          }, this);\n        }, this);\n      },\n      defineClassElement: function(receiver, element) {\n        var descriptor = element.descriptor;\n\n        if (element.kind === 'field') {\n          var initializer = element.initializer;\n          descriptor = {\n            enumerable: descriptor.enumerable,\n            writable: descriptor.writable,\n            configurable: descriptor.configurable,\n            value: initializer === void 0 ? void 0 : initializer.call(receiver)\n          };\n        }\n\n        Object.defineProperty(receiver, element.key, descriptor);\n      },\n      decorateClass: function(elements, decorators) {\n        var newElements = [];\n        var finishers = [];\n        var placements = {\n          static: [],\n          prototype: [],\n          own: []\n        };\n        elements.forEach(function(element) {\n          this.addElementPlacement(element, placements);\n        }, this);\n        elements.forEach(function(element) {\n          if (!_hasDecorators(element)) return newElements.push(element);\n          var elementFinishersExtras = this.decorateElement(\n            element,\n            placements\n          );\n          newElements.push(elementFinishersExtras.element);\n          newElements.push.apply(newElements, elementFinishersExtras.extras);\n          finishers.push.apply(finishers, elementFinishersExtras.finishers);\n        }, this);\n\n        if (!decorators) {\n          return {\n            elements: newElements,\n            finishers: finishers\n          };\n        }\n\n        var result = this.decorateConstructor(newElements, decorators);\n        finishers.push.apply(finishers, result.finishers);\n        result.finishers = finishers;\n        return result;\n      },\n      addElementPlacement: function(element, placements, silent) {\n        var keys = placements[element.placement];\n\n        if (!silent && keys.indexOf(element.key) !== -1) {\n          throw new TypeError('Duplicated element (' + element.key + ')');\n        }\n\n        keys.push(element.key);\n      },\n      decorateElement: function(element, placements) {\n        var extras = [];\n        var finishers = [];\n\n        for (\n          var decorators = element.decorators, i = decorators.length - 1;\n          i >= 0;\n          i--\n        ) {\n          var keys = placements[element.placement];\n          keys.splice(keys.indexOf(element.key), 1);\n          var elementObject = this.fromElementDescriptor(element);\n          var elementFinisherExtras = this.toElementFinisherExtras(\n            (0, decorators[i])(elementObject) || elementObject\n          );\n          element = elementFinisherExtras.element;\n          this.addElementPlacement(element, placements);\n\n          if (elementFinisherExtras.finisher) {\n            finishers.push(elementFinisherExtras.finisher);\n          }\n\n          var newExtras = elementFinisherExtras.extras;\n\n          if (newExtras) {\n            for (var j = 0; j < newExtras.length; j++) {\n              this.addElementPlacement(newExtras[j], placements);\n            }\n\n            extras.push.apply(extras, newExtras);\n          }\n        }\n\n        return {\n          element: element,\n          finishers: finishers,\n          extras: extras\n        };\n      },\n      decorateConstructor: function(elements, decorators) {\n        var finishers = [];\n\n        for (var i = decorators.length - 1; i >= 0; i--) {\n          var obj = this.fromClassDescriptor(elements);\n          var elementsAndFinisher = this.toClassDescriptor(\n            (0, decorators[i])(obj) || obj\n          );\n\n          if (elementsAndFinisher.finisher !== undefined) {\n            finishers.push(elementsAndFinisher.finisher);\n          }\n\n          if (elementsAndFinisher.elements !== undefined) {\n            elements = elementsAndFinisher.elements;\n\n            for (var j = 0; j < elements.length - 1; j++) {\n              for (var k = j + 1; k < elements.length; k++) {\n                if (\n                  elements[j].key === elements[k].key &&\n                  elements[j].placement === elements[k].placement\n                ) {\n                  throw new TypeError(\n                    'Duplicated element (' + elements[j].key + ')'\n                  );\n                }\n              }\n            }\n          }\n        }\n\n        return {\n          elements: elements,\n          finishers: finishers\n        };\n      },\n      fromElementDescriptor: function(element) {\n        var obj = {\n          kind: element.kind,\n          key: element.key,\n          placement: element.placement,\n          descriptor: element.descriptor\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        if (element.kind === 'field') obj.initializer = element.initializer;\n        return obj;\n      },\n      toElementDescriptors: function(elementObjects) {\n        if (elementObjects === undefined) return;\n        return _toArray(elementObjects).map(function(elementObject) {\n          var element = this.toElementDescriptor(elementObject);\n          this.disallowProperty(\n            elementObject,\n            'finisher',\n            'An element descriptor'\n          );\n          this.disallowProperty(\n            elementObject,\n            'extras',\n            'An element descriptor'\n          );\n          return element;\n        }, this);\n      },\n      toElementDescriptor: function(elementObject) {\n        var kind = String(elementObject.kind);\n\n        if (kind !== 'method' && kind !== 'field') {\n          throw new TypeError(\n            'An element descriptor\\'s .kind property must be either \"method\" or' +\n              ' \"field\", but a decorator created an element descriptor with' +\n              ' .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        var key = _toPropertyKey(elementObject.key);\n\n        var placement = String(elementObject.placement);\n\n        if (\n          placement !== 'static' &&\n          placement !== 'prototype' &&\n          placement !== 'own'\n        ) {\n          throw new TypeError(\n            'An element descriptor\\'s .placement property must be one of \"static\",' +\n              ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n              ' with .placement \"' +\n              placement +\n              '\"'\n          );\n        }\n\n        var descriptor = elementObject.descriptor;\n        this.disallowProperty(\n          elementObject,\n          'elements',\n          'An element descriptor'\n        );\n        var element = {\n          kind: kind,\n          key: key,\n          placement: placement,\n          descriptor: Object.assign({}, descriptor)\n        };\n\n        if (kind !== 'field') {\n          this.disallowProperty(\n            elementObject,\n            'initializer',\n            'A method descriptor'\n          );\n        } else {\n          this.disallowProperty(\n            descriptor,\n            'get',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'set',\n            'The property descriptor of a field descriptor'\n          );\n          this.disallowProperty(\n            descriptor,\n            'value',\n            'The property descriptor of a field descriptor'\n          );\n          element.initializer = elementObject.initializer;\n        }\n\n        return element;\n      },\n      toElementFinisherExtras: function(elementObject) {\n        var element = this.toElementDescriptor(elementObject);\n\n        var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n        var extras = this.toElementDescriptors(elementObject.extras);\n        return {\n          element: element,\n          finisher: finisher,\n          extras: extras\n        };\n      },\n      fromClassDescriptor: function(elements) {\n        var obj = {\n          kind: 'class',\n          elements: elements.map(this.fromElementDescriptor, this)\n        };\n        var desc = {\n          value: 'Descriptor',\n          configurable: true\n        };\n        Object.defineProperty(obj, Symbol.toStringTag, desc);\n        return obj;\n      },\n      toClassDescriptor: function(obj) {\n        var kind = String(obj.kind);\n\n        if (kind !== 'class') {\n          throw new TypeError(\n            'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n              ' created a class descriptor with .kind \"' +\n              kind +\n              '\"'\n          );\n        }\n\n        this.disallowProperty(obj, 'key', 'A class descriptor');\n        this.disallowProperty(obj, 'placement', 'A class descriptor');\n        this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n        this.disallowProperty(obj, 'initializer', 'A class descriptor');\n        this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n        var finisher = _optionalCallableProperty(obj, 'finisher');\n\n        var elements = this.toElementDescriptors(obj.elements);\n        return {\n          elements: elements,\n          finisher: finisher\n        };\n      },\n      runClassFinishers: function(constructor, finishers) {\n        for (var i = 0; i < finishers.length; i++) {\n          var newConstructor = (0, finishers[i])(constructor);\n\n          if (newConstructor !== undefined) {\n            if (typeof newConstructor !== 'function') {\n              throw new TypeError('Finishers must return a constructor.');\n            }\n\n            constructor = newConstructor;\n          }\n        }\n\n        return constructor;\n      },\n      disallowProperty: function(obj, name, objectType) {\n        if (obj[name] !== undefined) {\n          throw new TypeError(\n            objectType + \" can't have a .\" + name + ' property.'\n          );\n        }\n      }\n    };\n    return api;\n  }\n\n  function _createElementDescriptor(def) {\n    var key = _toPropertyKey(def.key);\n\n    var descriptor;\n\n    if (def.kind === 'method') {\n      descriptor = {\n        value: def.value,\n        writable: true,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'get') {\n      descriptor = {\n        get: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'set') {\n      descriptor = {\n        set: def.value,\n        configurable: true,\n        enumerable: false\n      };\n    } else if (def.kind === 'field') {\n      descriptor = {\n        configurable: true,\n        writable: true,\n        enumerable: true\n      };\n    }\n\n    var element = {\n      kind: def.kind === 'field' ? 'field' : 'method',\n      key: key,\n      placement: def.static\n        ? 'static'\n        : def.kind === 'field'\n        ? 'own'\n        : 'prototype',\n      descriptor: descriptor\n    };\n    if (def.decorators) element.decorators = def.decorators;\n    if (def.kind === 'field') element.initializer = def.value;\n    return element;\n  }\n\n  function _coalesceGetterSetter(element, other) {\n    if (element.descriptor.get !== undefined) {\n      other.descriptor.get = element.descriptor.get;\n    } else {\n      other.descriptor.set = element.descriptor.set;\n    }\n  }\n\n  function _coalesceClassElements(elements) {\n    var newElements = [];\n\n    var isSameElement = function(other) {\n      return (\n        other.kind === 'method' &&\n        other.key === element.key &&\n        other.placement === element.placement\n      );\n    };\n\n    for (var i = 0; i < elements.length; i++) {\n      var element = elements[i];\n      var other;\n\n      if (\n        element.kind === 'method' &&\n        (other = newElements.find(isSameElement))\n      ) {\n        if (\n          _isDataDescriptor(element.descriptor) ||\n          _isDataDescriptor(other.descriptor)\n        ) {\n          if (_hasDecorators(element) || _hasDecorators(other)) {\n            throw new ReferenceError(\n              'Duplicated methods (' + element.key + \") can't be decorated.\"\n            );\n          }\n\n          other.descriptor = element.descriptor;\n        } else {\n          if (_hasDecorators(element)) {\n            if (_hasDecorators(other)) {\n              throw new ReferenceError(\n                \"Decorators can't be placed on different accessors with for \" +\n                  'the same property (' +\n                  element.key +\n                  ').'\n              );\n            }\n\n            other.decorators = element.decorators;\n          }\n\n          _coalesceGetterSetter(element, other);\n        }\n      } else {\n        newElements.push(element);\n      }\n    }\n\n    return newElements;\n  }\n\n  function _hasDecorators(element) {\n    return element.decorators && element.decorators.length;\n  }\n\n  function _isDataDescriptor(desc) {\n    return (\n      desc !== undefined &&\n      !(desc.value === undefined && desc.writable === undefined)\n    );\n  }\n\n  function _optionalCallableProperty(obj, name) {\n    var value = obj[name];\n\n    if (value !== undefined && typeof value !== 'function') {\n      throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n    }\n\n    return value;\n  }\n\n  function _classPrivateMethodGet(receiver, privateSet, fn) {\n    if (!privateSet.has(receiver)) {\n      throw new TypeError('attempted to get private field on non-instance');\n    }\n\n    return fn;\n  }\n\n  function _classPrivateMethodSet() {\n    throw new TypeError('attempted to reassign private method');\n  }\n\n  function _wrapRegExp(re, groups) {\n    _wrapRegExp = function(re, groups) {\n      return new BabelRegExp(re, groups);\n    };\n\n    var _RegExp = _wrapNativeSuper(RegExp);\n\n    var _super = RegExp.prototype;\n\n    var _groups = new WeakMap();\n\n    function BabelRegExp(re, groups) {\n      var _this = _RegExp.call(this, re);\n\n      _groups.set(_this, groups);\n\n      return _this;\n    }\n\n    _inherits(BabelRegExp, _RegExp);\n\n    BabelRegExp.prototype.exec = function(str) {\n      var result = _super.exec.call(this, str);\n\n      if (result) result.groups = buildGroups(result, this);\n      return result;\n    };\n\n    BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n      if (typeof substitution === 'string') {\n        var groups = _groups.get(this);\n\n        return _super[Symbol.replace].call(\n          this,\n          str,\n          substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n            return '$' + groups[name];\n          })\n        );\n      } else if (typeof substitution === 'function') {\n        var _this = this;\n\n        return _super[Symbol.replace].call(this, str, function() {\n          var args = [];\n          args.push.apply(args, arguments);\n\n          if (typeof args[args.length - 1] !== 'object') {\n            args.push(buildGroups(args, _this));\n          }\n\n          return substitution.apply(this, args);\n        });\n      } else {\n        return _super[Symbol.replace].call(this, str, substitution);\n      }\n    };\n\n    function buildGroups(result, re) {\n      var g = _groups.get(re);\n\n      return Object.keys(g).reduce(function(groups, name) {\n        groups[name] = result[g[name]];\n        return groups;\n      }, Object.create(null));\n    }\n\n    return _wrapRegExp.apply(this, arguments);\n  }\n\n  var vectorMultiply = function vectorMultiply(v, amount) {\n    return createVector(v.x * amount, v.y * amount);\n  };\n\n  var vectorAdd = function vectorAdd(a, b) {\n    return createVector(a.x + b.x, a.y + b.y);\n  };\n\n  var vectorNormalize = function vectorNormalize(v) {\n    var l = Math.sqrt(v.x * v.x + v.y * v.y);\n    if (l === 0) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n    return createVector(v.x / l, v.y / l);\n  };\n\n  var vectorRotate = function vectorRotate(v, radians, origin) {\n    var cos = Math.cos(radians);\n    var sin = Math.sin(radians);\n    var t = createVector(v.x - origin.x, v.y - origin.y);\n    return createVector(\n      origin.x + cos * t.x - sin * t.y,\n      origin.y + sin * t.x + cos * t.y\n    );\n  };\n\n  var createVector = function createVector() {\n    var x =\n      arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n    var y =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    return { x: x, y: y };\n  };\n\n  var getMarkupValue = function getMarkupValue(value, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n    var axis = arguments.length > 3 ? arguments[3] : undefined;\n    if (typeof value === 'string') {\n      return parseFloat(value) * scalar;\n    }\n    if (typeof value === 'number') {\n      return value * (axis ? size[axis] : Math.min(size.width, size.height));\n    }\n    return;\n  };\n\n  var getMarkupStyles = function getMarkupStyles(markup, size, scale) {\n    var lineStyle = markup.borderStyle || markup.lineStyle || 'solid';\n    var fill = markup.backgroundColor || markup.fontColor || 'transparent';\n    var stroke = markup.borderColor || markup.lineColor || 'transparent';\n    var strokeWidth = getMarkupValue(\n      markup.borderWidth || markup.lineWidth,\n      size,\n      scale\n    );\n    var lineCap = markup.lineCap || 'round';\n    var lineJoin = markup.lineJoin || 'round';\n    var dashes =\n      typeof lineStyle === 'string'\n        ? ''\n        : lineStyle\n            .map(function(v) {\n              return getMarkupValue(v, size, scale);\n            })\n            .join(',');\n    var opacity = markup.opacity || 1;\n    return {\n      'stroke-linecap': lineCap,\n      'stroke-linejoin': lineJoin,\n      'stroke-width': strokeWidth || 0,\n      'stroke-dasharray': dashes,\n      stroke: stroke,\n      fill: fill,\n      opacity: opacity\n    };\n  };\n\n  var isDefined = function isDefined(value) {\n    return value != null;\n  };\n\n  var getMarkupRect = function getMarkupRect(rect, size) {\n    var scalar =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var left =\n      getMarkupValue(rect.x, size, scalar, 'width') ||\n      getMarkupValue(rect.left, size, scalar, 'width');\n    var top =\n      getMarkupValue(rect.y, size, scalar, 'height') ||\n      getMarkupValue(rect.top, size, scalar, 'height');\n    var width = getMarkupValue(rect.width, size, scalar, 'width');\n    var height = getMarkupValue(rect.height, size, scalar, 'height');\n    var right = getMarkupValue(rect.right, size, scalar, 'width');\n    var bottom = getMarkupValue(rect.bottom, size, scalar, 'height');\n\n    if (!isDefined(top)) {\n      if (isDefined(height) && isDefined(bottom)) {\n        top = size.height - height - bottom;\n      } else {\n        top = bottom;\n      }\n    }\n\n    if (!isDefined(left)) {\n      if (isDefined(width) && isDefined(right)) {\n        left = size.width - width - right;\n      } else {\n        left = right;\n      }\n    }\n\n    if (!isDefined(width)) {\n      if (isDefined(left) && isDefined(right)) {\n        width = size.width - left - right;\n      } else {\n        width = 0;\n      }\n    }\n\n    if (!isDefined(height)) {\n      if (isDefined(top) && isDefined(bottom)) {\n        height = size.height - top - bottom;\n      } else {\n        height = 0;\n      }\n    }\n\n    return {\n      x: left || 0,\n      y: top || 0,\n      width: width || 0,\n      height: height || 0\n    };\n  };\n\n  var pointsToPathShape = function pointsToPathShape(points) {\n    return points\n      .map(function(point, index) {\n        return ''\n          .concat(index === 0 ? 'M' : 'L', ' ')\n          .concat(point.x, ' ')\n          .concat(point.y);\n      })\n      .join(' ');\n  };\n\n  var setAttributes = function setAttributes(element, attr) {\n    return Object.keys(attr).forEach(function(key) {\n      return element.setAttribute(key, attr[key]);\n    });\n  };\n\n  var ns = 'http://www.w3.org/2000/svg';\n  var svg = function svg(tag, attr) {\n    var element = document.createElementNS(ns, tag);\n    if (attr) {\n      setAttributes(element, attr);\n    }\n    return element;\n  };\n\n  var updateRect = function updateRect(element) {\n    return setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles)\n    );\n  };\n\n  var updateEllipse = function updateEllipse(element) {\n    var cx = element.rect.x + element.rect.width * 0.5;\n    var cy = element.rect.y + element.rect.height * 0.5;\n    var rx = element.rect.width * 0.5;\n    var ry = element.rect.height * 0.5;\n    return setAttributes(\n      element,\n      Object.assign(\n        {\n          cx: cx,\n          cy: cy,\n          rx: rx,\n          ry: ry\n        },\n        element.styles\n      )\n    );\n  };\n\n  var IMAGE_FIT_STYLE = {\n    contain: 'xMidYMid meet',\n    cover: 'xMidYMid slice'\n  };\n\n  var updateImage = function updateImage(element, markup) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        preserveAspectRatio: IMAGE_FIT_STYLE[markup.fit] || 'none'\n      })\n    );\n  };\n\n  var TEXT_ANCHOR = {\n    left: 'start',\n    center: 'middle',\n    right: 'end'\n  };\n\n  var updateText = function updateText(element, markup, size, scale) {\n    var fontSize = getMarkupValue(markup.fontSize, size, scale);\n    var fontFamily = markup.fontFamily || 'sans-serif';\n    var fontWeight = markup.fontWeight || 'normal';\n    var textAlign = TEXT_ANCHOR[markup.textAlign] || 'start';\n\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        'stroke-width': 0,\n        'font-weight': fontWeight,\n        'font-size': fontSize,\n        'font-family': fontFamily,\n        'text-anchor': textAlign\n      })\n    );\n\n    // update text\n    if (element.text !== markup.text) {\n      element.text = markup.text;\n      element.textContent = markup.text.length ? markup.text : ' ';\n    }\n  };\n\n  var updateLine = function updateLine(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.rect, element.styles, {\n        fill: 'none'\n      })\n    );\n\n    var line = element.childNodes[0];\n    var begin = element.childNodes[1];\n    var end = element.childNodes[2];\n\n    var origin = element.rect;\n\n    var target = {\n      x: element.rect.x + element.rect.width,\n      y: element.rect.y + element.rect.height\n    };\n\n    setAttributes(line, {\n      x1: origin.x,\n      y1: origin.y,\n      x2: target.x,\n      y2: target.y\n    });\n\n    if (!markup.lineDecoration) return;\n\n    begin.style.display = 'none';\n    end.style.display = 'none';\n\n    var v = vectorNormalize({\n      x: target.x - origin.x,\n      y: target.y - origin.y\n    });\n\n    var l = getMarkupValue(0.05, size, scale);\n\n    if (markup.lineDecoration.indexOf('arrow-begin') !== -1) {\n      var arrowBeginRotationPoint = vectorMultiply(v, l);\n      var arrowBeginCenter = vectorAdd(origin, arrowBeginRotationPoint);\n      var arrowBeginA = vectorRotate(origin, 2, arrowBeginCenter);\n      var arrowBeginB = vectorRotate(origin, -2, arrowBeginCenter);\n\n      setAttributes(begin, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowBeginA.x, ',')\n          .concat(arrowBeginA.y, ' L')\n          .concat(origin.x, ',')\n          .concat(origin.y, ' L')\n          .concat(arrowBeginB.x, ',')\n          .concat(arrowBeginB.y)\n      });\n    }\n\n    if (markup.lineDecoration.indexOf('arrow-end') !== -1) {\n      var arrowEndRotationPoint = vectorMultiply(v, -l);\n      var arrowEndCenter = vectorAdd(target, arrowEndRotationPoint);\n      var arrowEndA = vectorRotate(target, 2, arrowEndCenter);\n      var arrowEndB = vectorRotate(target, -2, arrowEndCenter);\n\n      setAttributes(end, {\n        style: 'display:block;',\n        d: 'M'\n          .concat(arrowEndA.x, ',')\n          .concat(arrowEndA.y, ' L')\n          .concat(target.x, ',')\n          .concat(target.y, ' L')\n          .concat(arrowEndB.x, ',')\n          .concat(arrowEndB.y)\n      });\n    }\n  };\n\n  var updatePath = function updatePath(element, markup, size, scale) {\n    setAttributes(\n      element,\n      Object.assign({}, element.styles, {\n        fill: 'none',\n        d: pointsToPathShape(\n          markup.points.map(function(point) {\n            return {\n              x: getMarkupValue(point.x, size, scale, 'width'),\n              y: getMarkupValue(point.y, size, scale, 'height')\n            };\n          })\n        )\n      })\n    );\n  };\n\n  var createShape = function createShape(node) {\n    return function(markup) {\n      return svg(node, { id: markup.id });\n    };\n  };\n\n  var createImage = function createImage(markup) {\n    var shape = svg('image', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round',\n      opacity: '0'\n    });\n\n    shape.onload = function() {\n      shape.setAttribute('opacity', markup.opacity || 1);\n    };\n    shape.setAttributeNS(\n      'http://www.w3.org/1999/xlink',\n      'xlink:href',\n      markup.src\n    );\n    return shape;\n  };\n\n  var createLine = function createLine(markup) {\n    var shape = svg('g', {\n      id: markup.id,\n      'stroke-linecap': 'round',\n      'stroke-linejoin': 'round'\n    });\n\n    var line = svg('line');\n    shape.appendChild(line);\n\n    var begin = svg('path');\n    shape.appendChild(begin);\n\n    var end = svg('path');\n    shape.appendChild(end);\n\n    return shape;\n  };\n\n  var CREATE_TYPE_ROUTES = {\n    image: createImage,\n    rect: createShape('rect'),\n    ellipse: createShape('ellipse'),\n    text: createShape('text'),\n    path: createShape('path'),\n    line: createLine\n  };\n\n  var UPDATE_TYPE_ROUTES = {\n    rect: updateRect,\n    ellipse: updateEllipse,\n    image: updateImage,\n    text: updateText,\n    path: updatePath,\n    line: updateLine\n  };\n\n  var createMarkupByType = function createMarkupByType(type, markup) {\n    return CREATE_TYPE_ROUTES[type](markup);\n  };\n\n  var updateMarkupByType = function updateMarkupByType(\n    element,\n    type,\n    markup,\n    size,\n    scale\n  ) {\n    if (type !== 'path') {\n      element.rect = getMarkupRect(markup, size, scale);\n    }\n    element.styles = getMarkupStyles(markup, size, scale);\n    UPDATE_TYPE_ROUTES[type](element, markup, size, scale);\n  };\n\n  var MARKUP_RECT = [\n    'x',\n    'y',\n    'left',\n    'top',\n    'right',\n    'bottom',\n    'width',\n    'height'\n  ];\n\n  var toOptionalFraction = function toOptionalFraction(value) {\n    return typeof value === 'string' && /%/.test(value)\n      ? parseFloat(value) / 100\n      : value;\n  };\n\n  // adds default markup properties, clones markup\n  var prepareMarkup = function prepareMarkup(markup) {\n    var _markup = _slicedToArray(markup, 2),\n      type = _markup[0],\n      props = _markup[1];\n\n    var rect = props.points\n      ? {}\n      : MARKUP_RECT.reduce(function(prev, curr) {\n          prev[curr] = toOptionalFraction(props[curr]);\n          return prev;\n        }, {});\n\n    return [\n      type,\n      Object.assign(\n        {\n          zIndex: 0\n        },\n        props,\n        rect\n      )\n    ];\n  };\n\n  var sortMarkupByZIndex = function sortMarkupByZIndex(a, b) {\n    if (a[1].zIndex > b[1].zIndex) {\n      return 1;\n    }\n    if (a[1].zIndex < b[1].zIndex) {\n      return -1;\n    }\n    return 0;\n  };\n\n  var createMarkupView = function createMarkupView(_) {\n    return _.utils.createView({\n      name: 'image-preview-markup',\n      tag: 'svg',\n      ignoreRect: true,\n      mixins: {\n        apis: ['width', 'height', 'crop', 'markup', 'resize', 'dirty']\n      },\n\n      write: function write(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n\n        if (!props.dirty) return;\n        var crop = props.crop,\n          resize = props.resize,\n          markup = props.markup;\n\n        var viewWidth = props.width;\n        var viewHeight = props.height;\n\n        var cropWidth = crop.width;\n        var cropHeight = crop.height;\n\n        if (resize) {\n          var _size = resize.size;\n\n          var outputWidth = _size && _size.width;\n          var outputHeight = _size && _size.height;\n          var outputFit = resize.mode;\n          var outputUpscale = resize.upscale;\n\n          if (outputWidth && !outputHeight) outputHeight = outputWidth;\n          if (outputHeight && !outputWidth) outputWidth = outputHeight;\n\n          var shouldUpscale =\n            cropWidth < outputWidth && cropHeight < outputHeight;\n\n          if (!shouldUpscale || (shouldUpscale && outputUpscale)) {\n            var scalarWidth = outputWidth / cropWidth;\n            var scalarHeight = outputHeight / cropHeight;\n\n            if (outputFit === 'force') {\n              cropWidth = outputWidth;\n              cropHeight = outputHeight;\n            } else {\n              var scalar;\n              if (outputFit === 'cover') {\n                scalar = Math.max(scalarWidth, scalarHeight);\n              } else if (outputFit === 'contain') {\n                scalar = Math.min(scalarWidth, scalarHeight);\n              }\n              cropWidth = cropWidth * scalar;\n              cropHeight = cropHeight * scalar;\n            }\n          }\n        }\n\n        var size = {\n          width: viewWidth,\n          height: viewHeight\n        };\n\n        root.element.setAttribute('width', size.width);\n        root.element.setAttribute('height', size.height);\n\n        var scale = Math.min(viewWidth / cropWidth, viewHeight / cropHeight);\n\n        // clear\n        root.element.innerHTML = '';\n\n        // get filter\n        var markupFilter = root.query('GET_IMAGE_PREVIEW_MARKUP_FILTER');\n\n        // draw new\n        markup\n          .filter(markupFilter)\n          .map(prepareMarkup)\n          .sort(sortMarkupByZIndex)\n          .forEach(function(markup) {\n            var _markup = _slicedToArray(markup, 2),\n              type = _markup[0],\n              settings = _markup[1];\n\n            // create\n            var element = createMarkupByType(type, settings);\n\n            // update\n            updateMarkupByType(element, type, settings, size, scale);\n\n            // add\n            root.element.appendChild(element);\n          });\n      }\n    });\n  };\n\n  var createVector$1 = function createVector(x, y) {\n    return { x: x, y: y };\n  };\n\n  var vectorDot = function vectorDot(a, b) {\n    return a.x * b.x + a.y * b.y;\n  };\n\n  var vectorSubtract = function vectorSubtract(a, b) {\n    return createVector$1(a.x - b.x, a.y - b.y);\n  };\n\n  var vectorDistanceSquared = function vectorDistanceSquared(a, b) {\n    return vectorDot(vectorSubtract(a, b), vectorSubtract(a, b));\n  };\n\n  var vectorDistance = function vectorDistance(a, b) {\n    return Math.sqrt(vectorDistanceSquared(a, b));\n  };\n\n  var getOffsetPointOnEdge = function getOffsetPointOnEdge(length, rotation) {\n    var a = length;\n\n    var A = 1.5707963267948966;\n    var B = rotation;\n    var C = 1.5707963267948966 - rotation;\n\n    var sinA = Math.sin(A);\n    var sinB = Math.sin(B);\n    var sinC = Math.sin(C);\n    var cosC = Math.cos(C);\n    var ratio = a / sinA;\n    var b = ratio * sinB;\n    var c = ratio * sinC;\n\n    return createVector$1(cosC * b, cosC * c);\n  };\n\n  var getRotatedRectSize = function getRotatedRectSize(rect, rotation) {\n    var w = rect.width;\n    var h = rect.height;\n\n    var hor = getOffsetPointOnEdge(w, rotation);\n    var ver = getOffsetPointOnEdge(h, rotation);\n\n    var tl = createVector$1(rect.x + Math.abs(hor.x), rect.y - Math.abs(hor.y));\n\n    var tr = createVector$1(\n      rect.x + rect.width + Math.abs(ver.y),\n      rect.y + Math.abs(ver.x)\n    );\n\n    var bl = createVector$1(\n      rect.x - Math.abs(ver.y),\n      rect.y + rect.height - Math.abs(ver.x)\n    );\n\n    return {\n      width: vectorDistance(tl, tr),\n      height: vectorDistance(tl, bl)\n    };\n  };\n\n  var calculateCanvasSize = function calculateCanvasSize(\n    image,\n    canvasAspectRatio\n  ) {\n    var zoom =\n      arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n    var imageAspectRatio = image.height / image.width;\n\n    // determine actual pixels on x and y axis\n    var canvasWidth = 1;\n    var canvasHeight = canvasAspectRatio;\n    var imgWidth = 1;\n    var imgHeight = imageAspectRatio;\n    if (imgHeight > canvasHeight) {\n      imgHeight = canvasHeight;\n      imgWidth = imgHeight / imageAspectRatio;\n    }\n\n    var scalar = Math.max(canvasWidth / imgWidth, canvasHeight / imgHeight);\n    var width = image.width / (zoom * scalar * imgWidth);\n    var height = width * canvasAspectRatio;\n\n    return {\n      width: width,\n      height: height\n    };\n  };\n\n  var getImageRectZoomFactor = function getImageRectZoomFactor(\n    imageRect,\n    cropRect,\n    rotation,\n    center\n  ) {\n    // calculate available space round image center position\n    var cx = center.x > 0.5 ? 1 - center.x : center.x;\n    var cy = center.y > 0.5 ? 1 - center.y : center.y;\n    var imageWidth = cx * 2 * imageRect.width;\n    var imageHeight = cy * 2 * imageRect.height;\n\n    // calculate rotated crop rectangle size\n    var rotatedCropSize = getRotatedRectSize(cropRect, rotation);\n\n    // calculate scalar required to fit image\n    return Math.max(\n      rotatedCropSize.width / imageWidth,\n      rotatedCropSize.height / imageHeight\n    );\n  };\n\n  var getCenteredCropRect = function getCenteredCropRect(\n    container,\n    aspectRatio\n  ) {\n    var width = container.width;\n    var height = width * aspectRatio;\n    if (height > container.height) {\n      height = container.height;\n      width = height / aspectRatio;\n    }\n    var x = (container.width - width) * 0.5;\n    var y = (container.height - height) * 0.5;\n\n    return {\n      x: x,\n      y: y,\n      width: width,\n      height: height\n    };\n  };\n\n  var getCurrentCropSize = function getCurrentCropSize(imageSize) {\n    var crop =\n      arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var zoom = crop.zoom,\n      rotation = crop.rotation,\n      center = crop.center,\n      aspectRatio = crop.aspectRatio;\n\n    if (!aspectRatio) aspectRatio = imageSize.height / imageSize.width;\n\n    var canvasSize = calculateCanvasSize(imageSize, aspectRatio, zoom);\n\n    var canvasCenter = {\n      x: canvasSize.width * 0.5,\n      y: canvasSize.height * 0.5\n    };\n\n    var stage = {\n      x: 0,\n      y: 0,\n      width: canvasSize.width,\n      height: canvasSize.height,\n      center: canvasCenter\n    };\n\n    var shouldLimit = typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n    var stageZoomFactor = getImageRectZoomFactor(\n      imageSize,\n      getCenteredCropRect(stage, aspectRatio),\n      rotation,\n      shouldLimit ? center : { x: 0.5, y: 0.5 }\n    );\n\n    var scale = zoom * stageZoomFactor;\n\n    // start drawing\n    return {\n      widthFloat: canvasSize.width / scale,\n      heightFloat: canvasSize.height / scale,\n      width: Math.round(canvasSize.width / scale),\n      height: Math.round(canvasSize.height / scale)\n    };\n  };\n\n  var IMAGE_SCALE_SPRING_PROPS = {\n    type: 'spring',\n    stiffness: 0.5,\n    damping: 0.45,\n    mass: 10\n  };\n\n  // does horizontal and vertical flipping\n  var createBitmapView = function createBitmapView(_) {\n    return _.utils.createView({\n      name: 'image-bitmap',\n      ignoreRect: true,\n      mixins: { styles: ['scaleX', 'scaleY'] },\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        root.appendChild(props.image);\n      }\n    });\n  };\n\n  // shifts and rotates image\n  var createImageCanvasWrapper = function createImageCanvasWrapper(_) {\n    return _.utils.createView({\n      name: 'image-canvas-wrapper',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['crop', 'width', 'height'],\n\n        styles: [\n          'originX',\n          'originY',\n          'translateX',\n          'translateY',\n          'scaleX',\n          'scaleY',\n          'rotateZ'\n        ],\n\n        animations: {\n          originX: IMAGE_SCALE_SPRING_PROPS,\n          originY: IMAGE_SCALE_SPRING_PROPS,\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateX: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          rotateZ: IMAGE_SCALE_SPRING_PROPS\n        }\n      },\n\n      create: function create(_ref2) {\n        var root = _ref2.root,\n          props = _ref2.props;\n        props.width = props.image.width;\n        props.height = props.image.height;\n        root.ref.bitmap = root.appendChildView(\n          root.createChildView(createBitmapView(_), { image: props.image })\n        );\n      },\n      write: function write(_ref3) {\n        var root = _ref3.root,\n          props = _ref3.props;\n        var flip = props.crop.flip;\n        var bitmap = root.ref.bitmap;\n        bitmap.scaleX = flip.horizontal ? -1 : 1;\n        bitmap.scaleY = flip.vertical ? -1 : 1;\n      }\n    });\n  };\n\n  // clips canvas to correct aspect ratio\n  var createClipView = function createClipView(_) {\n    return _.utils.createView({\n      name: 'image-clip',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: [\n          'crop',\n          'markup',\n          'resize',\n          'width',\n          'height',\n          'dirty',\n          'background'\n        ],\n\n        styles: ['width', 'height', 'opacity'],\n        animations: {\n          opacity: { type: 'tween', duration: 250 }\n        }\n      },\n\n      didWriteView: function didWriteView(_ref4) {\n        var root = _ref4.root,\n          props = _ref4.props;\n        if (!props.background) return;\n        root.element.style.backgroundColor = props.background;\n      },\n      create: function create(_ref5) {\n        var root = _ref5.root,\n          props = _ref5.props;\n\n        root.ref.image = root.appendChildView(\n          root.createChildView(\n            createImageCanvasWrapper(_),\n            Object.assign({}, props)\n          )\n        );\n\n        root.ref.createMarkup = function() {\n          if (root.ref.markup) return;\n          root.ref.markup = root.appendChildView(\n            root.createChildView(createMarkupView(_), Object.assign({}, props))\n          );\n        };\n\n        root.ref.destroyMarkup = function() {\n          if (!root.ref.markup) return;\n          root.removeChildView(root.ref.markup);\n          root.ref.markup = null;\n        };\n\n        // set up transparency grid\n        var transparencyIndicator = root.query(\n          'GET_IMAGE_PREVIEW_TRANSPARENCY_INDICATOR'\n        );\n        if (transparencyIndicator === null) return;\n\n        // grid pattern\n        if (transparencyIndicator === 'grid') {\n          root.element.dataset.transparencyIndicator = transparencyIndicator;\n        }\n        // basic color\n        else {\n          root.element.dataset.transparencyIndicator = 'color';\n        }\n      },\n      write: function write(_ref6) {\n        var root = _ref6.root,\n          props = _ref6.props,\n          shouldOptimize = _ref6.shouldOptimize;\n        var crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty,\n          width = props.width,\n          height = props.height;\n\n        root.ref.image.crop = crop;\n\n        var stage = {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height,\n          center: {\n            x: width * 0.5,\n            y: height * 0.5\n          }\n        };\n\n        var image = {\n          width: root.ref.image.width,\n          height: root.ref.image.height\n        };\n\n        var origin = {\n          x: crop.center.x * image.width,\n          y: crop.center.y * image.height\n        };\n\n        var translation = {\n          x: stage.center.x - image.width * crop.center.x,\n          y: stage.center.y - image.height * crop.center.y\n        };\n\n        var rotation = Math.PI * 2 + (crop.rotation % (Math.PI * 2));\n\n        var cropAspectRatio = crop.aspectRatio || image.height / image.width;\n\n        var shouldLimit =\n          typeof crop.scaleToFit === 'undefined' || crop.scaleToFit;\n\n        var stageZoomFactor = getImageRectZoomFactor(\n          image,\n          getCenteredCropRect(stage, cropAspectRatio),\n\n          rotation,\n          shouldLimit ? crop.center : { x: 0.5, y: 0.5 }\n        );\n\n        var scale = crop.zoom * stageZoomFactor;\n\n        // update markup view\n        if (markup && markup.length) {\n          root.ref.createMarkup();\n          root.ref.markup.width = width;\n          root.ref.markup.height = height;\n          root.ref.markup.resize = resize;\n          root.ref.markup.dirty = dirty;\n          root.ref.markup.markup = markup;\n          root.ref.markup.crop = getCurrentCropSize(image, crop);\n        } else if (root.ref.markup) {\n          root.ref.destroyMarkup();\n        }\n\n        // update image view\n        var imageView = root.ref.image;\n\n        // don't update clip layout\n        if (shouldOptimize) {\n          imageView.originX = null;\n          imageView.originY = null;\n          imageView.translateX = null;\n          imageView.translateY = null;\n          imageView.rotateZ = null;\n          imageView.scaleX = null;\n          imageView.scaleY = null;\n          return;\n        }\n\n        imageView.originX = origin.x;\n        imageView.originY = origin.y;\n        imageView.translateX = translation.x;\n        imageView.translateY = translation.y;\n        imageView.rotateZ = rotation;\n        imageView.scaleX = scale;\n        imageView.scaleY = scale;\n      }\n    });\n  };\n\n  var createImageView = function createImageView(_) {\n    return _.utils.createView({\n      name: 'image-preview',\n      tag: 'div',\n      ignoreRect: true,\n      mixins: {\n        apis: ['image', 'crop', 'markup', 'resize', 'dirty', 'background'],\n\n        styles: ['translateY', 'scaleX', 'scaleY', 'opacity'],\n\n        animations: {\n          scaleX: IMAGE_SCALE_SPRING_PROPS,\n          scaleY: IMAGE_SCALE_SPRING_PROPS,\n          translateY: IMAGE_SCALE_SPRING_PROPS,\n          opacity: { type: 'tween', duration: 400 }\n        }\n      },\n\n      create: function create(_ref7) {\n        var root = _ref7.root,\n          props = _ref7.props;\n        root.ref.clip = root.appendChildView(\n          root.createChildView(createClipView(_), {\n            id: props.id,\n            image: props.image,\n            crop: props.crop,\n            markup: props.markup,\n            resize: props.resize,\n            dirty: props.dirty,\n            background: props.background\n          })\n        );\n      },\n      write: function write(_ref8) {\n        var root = _ref8.root,\n          props = _ref8.props,\n          shouldOptimize = _ref8.shouldOptimize;\n        var clip = root.ref.clip;\n        var image = props.image,\n          crop = props.crop,\n          markup = props.markup,\n          resize = props.resize,\n          dirty = props.dirty;\n\n        clip.crop = crop;\n        clip.markup = markup;\n        clip.resize = resize;\n        clip.dirty = dirty;\n\n        // don't update clip layout\n        clip.opacity = shouldOptimize ? 0 : 1;\n\n        // don't re-render if optimizing or hidden (width will be zero resulting in weird animations)\n        if (shouldOptimize || root.rect.element.hidden) return;\n\n        // calculate scaled preview image size\n        var imageAspectRatio = image.height / image.width;\n        var aspectRatio = crop.aspectRatio || imageAspectRatio;\n\n        // calculate container size\n        var containerWidth = root.rect.inner.width;\n        var containerHeight = root.rect.inner.height;\n\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n\n        if (panelAspectRatio && !allowMultiple) {\n          fixedPreviewHeight = containerWidth * panelAspectRatio;\n          aspectRatio = panelAspectRatio;\n        }\n\n        // determine clip width and height\n        var clipHeight =\n          fixedPreviewHeight !== null\n            ? fixedPreviewHeight\n            : Math.max(\n                minPreviewHeight,\n                Math.min(containerWidth * aspectRatio, maxPreviewHeight)\n              );\n\n        var clipWidth = clipHeight / aspectRatio;\n        if (clipWidth > containerWidth) {\n          clipWidth = containerWidth;\n          clipHeight = clipWidth * aspectRatio;\n        }\n\n        if (clipHeight > containerHeight) {\n          clipHeight = containerHeight;\n          clipWidth = containerHeight / aspectRatio;\n        }\n\n        clip.width = clipWidth;\n        clip.height = clipHeight;\n      }\n    });\n  };\n\n  var SVG_MASK =\n    '<svg width=\"500\" height=\"200\" viewBox=\"0 0 500 200\" preserveAspectRatio=\"none\">\\n    <defs>\\n        <radialGradient id=\"gradient-__UID__\" cx=\".5\" cy=\"1.25\" r=\"1.15\">\\n            <stop offset=\\'50%\\' stop-color=\\'#000000\\'/>\\n            <stop offset=\\'56%\\' stop-color=\\'#0a0a0a\\'/>\\n            <stop offset=\\'63%\\' stop-color=\\'#262626\\'/>\\n            <stop offset=\\'69%\\' stop-color=\\'#4f4f4f\\'/>\\n            <stop offset=\\'75%\\' stop-color=\\'#808080\\'/>\\n            <stop offset=\\'81%\\' stop-color=\\'#b1b1b1\\'/>\\n            <stop offset=\\'88%\\' stop-color=\\'#dadada\\'/>\\n            <stop offset=\\'94%\\' stop-color=\\'#f6f6f6\\'/>\\n            <stop offset=\\'100%\\' stop-color=\\'#ffffff\\'/>\\n        </radialGradient>\\n        <mask id=\"mask-__UID__\">\\n            <rect x=\"0\" y=\"0\" width=\"500\" height=\"200\" fill=\"url(#gradient-__UID__)\"></rect>\\n        </mask>\\n    </defs>\\n    <rect x=\"0\" width=\"500\" height=\"200\" fill=\"currentColor\" mask=\"url(#mask-__UID__)\"></rect>\\n</svg>';\n\n  var SVGMaskUniqueId = 0;\n\n  var createImageOverlayView = function createImageOverlayView(fpAPI) {\n    return fpAPI.utils.createView({\n      name: 'image-preview-overlay',\n      tag: 'div',\n      ignoreRect: true,\n      create: function create(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var mask = SVG_MASK;\n        if (document.querySelector('base')) {\n          var url = new URL(\n            window.location.href.replace(window.location.hash, '')\n          ).href;\n          mask = mask.replace(/url\\(\\#/g, 'url(' + url + '#');\n        }\n\n        SVGMaskUniqueId++;\n        root.element.classList.add(\n          'filepond--image-preview-overlay-'.concat(props.status)\n        );\n\n        root.element.innerHTML = mask.replace(/__UID__/g, SVGMaskUniqueId);\n      },\n      mixins: {\n        styles: ['opacity'],\n        animations: {\n          opacity: { type: 'spring', mass: 25 }\n        }\n      }\n    });\n  };\n\n  /**\n   * Bitmap Worker\n   */\n  var BitmapWorker = function BitmapWorker() {\n    self.onmessage = function(e) {\n      createImageBitmap(e.data.message.file).then(function(bitmap) {\n        self.postMessage({ id: e.data.id, message: bitmap }, [bitmap]);\n      });\n    };\n  };\n\n  /**\n   * ColorMatrix Worker\n   */\n  var ColorMatrixWorker = function ColorMatrixWorker() {\n    self.onmessage = function(e) {\n      var imageData = e.data.message.imageData;\n      var matrix = e.data.message.colorMatrix;\n\n      var data = imageData.data;\n      var l = data.length;\n\n      var m11 = matrix[0];\n      var m12 = matrix[1];\n      var m13 = matrix[2];\n      var m14 = matrix[3];\n      var m15 = matrix[4];\n\n      var m21 = matrix[5];\n      var m22 = matrix[6];\n      var m23 = matrix[7];\n      var m24 = matrix[8];\n      var m25 = matrix[9];\n\n      var m31 = matrix[10];\n      var m32 = matrix[11];\n      var m33 = matrix[12];\n      var m34 = matrix[13];\n      var m35 = matrix[14];\n\n      var m41 = matrix[15];\n      var m42 = matrix[16];\n      var m43 = matrix[17];\n      var m44 = matrix[18];\n      var m45 = matrix[19];\n\n      var index = 0,\n        r = 0.0,\n        g = 0.0,\n        b = 0.0,\n        a = 0.0;\n\n      for (; index < l; index += 4) {\n        r = data[index] / 255;\n        g = data[index + 1] / 255;\n        b = data[index + 2] / 255;\n        a = data[index + 3] / 255;\n        data[index] = Math.max(\n          0,\n          Math.min((r * m11 + g * m12 + b * m13 + a * m14 + m15) * 255, 255)\n        );\n        data[index + 1] = Math.max(\n          0,\n          Math.min((r * m21 + g * m22 + b * m23 + a * m24 + m25) * 255, 255)\n        );\n        data[index + 2] = Math.max(\n          0,\n          Math.min((r * m31 + g * m32 + b * m33 + a * m34 + m35) * 255, 255)\n        );\n        data[index + 3] = Math.max(\n          0,\n          Math.min((r * m41 + g * m42 + b * m43 + a * m44 + m45) * 255, 255)\n        );\n      }\n\n      self.postMessage({ id: e.data.id, message: imageData }, [\n        imageData.data.buffer\n      ]);\n    };\n  };\n\n  var getImageSize = function getImageSize(url, cb) {\n    var image = new Image();\n    image.onload = function() {\n      var width = image.naturalWidth;\n      var height = image.naturalHeight;\n      image = null;\n      cb(width, height);\n    };\n    image.src = url;\n  };\n\n  var transforms = {\n    1: function _() {\n      return [1, 0, 0, 1, 0, 0];\n    },\n    2: function _(width) {\n      return [-1, 0, 0, 1, width, 0];\n    },\n    3: function _(width, height) {\n      return [-1, 0, 0, -1, width, height];\n    },\n    4: function _(width, height) {\n      return [1, 0, 0, -1, 0, height];\n    },\n    5: function _() {\n      return [0, 1, 1, 0, 0, 0];\n    },\n    6: function _(width, height) {\n      return [0, 1, -1, 0, height, 0];\n    },\n    7: function _(width, height) {\n      return [0, -1, -1, 0, height, width];\n    },\n    8: function _(width) {\n      return [0, -1, 1, 0, 0, width];\n    }\n  };\n\n  var fixImageOrientation = function fixImageOrientation(\n    ctx,\n    width,\n    height,\n    orientation\n  ) {\n    // no orientation supplied\n    if (orientation === -1) {\n      return;\n    }\n\n    ctx.transform.apply(ctx, transforms[orientation](width, height));\n  };\n\n  // draws the preview image to canvas\n  var createPreviewImage = function createPreviewImage(\n    data,\n    width,\n    height,\n    orientation\n  ) {\n    // can't draw on half pixels\n    width = Math.round(width);\n    height = Math.round(height);\n\n    // draw image\n    var canvas = document.createElement('canvas');\n    canvas.width = width;\n    canvas.height = height;\n    var ctx = canvas.getContext('2d');\n\n    // if is rotated incorrectly swap width and height\n    if (orientation >= 5 && orientation <= 8) {\n      var _ref = [height, width];\n      width = _ref[0];\n      height = _ref[1];\n    }\n\n    // correct image orientation\n    fixImageOrientation(ctx, width, height, orientation);\n\n    // draw the image\n    ctx.drawImage(data, 0, 0, width, height);\n\n    return canvas;\n  };\n\n  var isBitmap = function isBitmap(file) {\n    return /^image/.test(file.type) && !/svg/.test(file.type);\n  };\n\n  var MAX_WIDTH = 10;\n  var MAX_HEIGHT = 10;\n\n  var calculateAverageColor = function calculateAverageColor(image) {\n    var scalar = Math.min(MAX_WIDTH / image.width, MAX_HEIGHT / image.height);\n\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var width = (canvas.width = Math.ceil(image.width * scalar));\n    var height = (canvas.height = Math.ceil(image.height * scalar));\n    ctx.drawImage(image, 0, 0, width, height);\n    var data = null;\n    try {\n      data = ctx.getImageData(0, 0, width, height).data;\n    } catch (e) {\n      return null;\n    }\n    var l = data.length;\n\n    var r = 0;\n    var g = 0;\n    var b = 0;\n    var i = 0;\n\n    for (; i < l; i += 4) {\n      r += data[i] * data[i];\n      g += data[i + 1] * data[i + 1];\n      b += data[i + 2] * data[i + 2];\n    }\n\n    r = averageColor(r, l);\n    g = averageColor(g, l);\n    b = averageColor(b, l);\n\n    return { r: r, g: g, b: b };\n  };\n\n  var averageColor = function averageColor(c, l) {\n    return Math.floor(Math.sqrt(c / (l / 4)));\n  };\n\n  var cloneCanvas = function cloneCanvas(origin, target) {\n    target = target || document.createElement('canvas');\n    target.width = origin.width;\n    target.height = origin.height;\n    var ctx = target.getContext('2d');\n    ctx.drawImage(origin, 0, 0);\n    return target;\n  };\n\n  var cloneImageData = function cloneImageData(imageData) {\n    var id;\n    try {\n      id = new ImageData(imageData.width, imageData.height);\n    } catch (e) {\n      var canvas = document.createElement('canvas');\n      var ctx = canvas.getContext('2d');\n      id = ctx.createImageData(imageData.width, imageData.height);\n    }\n    id.data.set(new Uint8ClampedArray(imageData.data));\n    return id;\n  };\n\n  var loadImage = function loadImage(url) {\n    return new Promise(function(resolve, reject) {\n      var img = new Image();\n      img.crossOrigin = 'Anonymous';\n      img.onload = function() {\n        resolve(img);\n      };\n      img.onerror = function(e) {\n        reject(e);\n      };\n      img.src = url;\n    });\n  };\n\n  var createImageWrapperView = function createImageWrapperView(_) {\n    // create overlay view\n    var OverlayView = createImageOverlayView(_);\n\n    var ImageView = createImageView(_);\n    var createWorker = _.utils.createWorker;\n\n    var applyFilter = function applyFilter(root, filter, target) {\n      return new Promise(function(resolve) {\n        // will store image data for future filter updates\n        if (!root.ref.imageData) {\n          root.ref.imageData = target\n            .getContext('2d')\n            .getImageData(0, 0, target.width, target.height);\n        }\n\n        // get image data reference\n        var imageData = cloneImageData(root.ref.imageData);\n\n        if (!filter || filter.length !== 20) {\n          target.getContext('2d').putImageData(imageData, 0, 0);\n          return resolve();\n        }\n\n        var worker = createWorker(ColorMatrixWorker);\n        worker.post(\n          {\n            imageData: imageData,\n            colorMatrix: filter\n          },\n\n          function(response) {\n            // apply filtered colors\n            target.getContext('2d').putImageData(response, 0, 0);\n\n            // stop worker\n            worker.terminate();\n\n            // done!\n            resolve();\n          },\n          [imageData.data.buffer]\n        );\n      });\n    };\n\n    var removeImageView = function removeImageView(root, imageView) {\n      root.removeChildView(imageView);\n      imageView.image.width = 1;\n      imageView.image.height = 1;\n      imageView._destroy();\n    };\n\n    // remove an image\n    var shiftImage = function shiftImage(_ref) {\n      var root = _ref.root;\n      var imageView = root.ref.images.shift();\n      imageView.opacity = 0;\n      imageView.translateY = -15;\n      root.ref.imageViewBin.push(imageView);\n      return imageView;\n    };\n\n    // add new image\n    var pushImage = function pushImage(_ref2) {\n      var root = _ref2.root,\n        props = _ref2.props,\n        image = _ref2.image;\n      var id = props.id;\n      var item = root.query('GET_ITEM', { id: id });\n      if (!item) return;\n\n      var crop = item.getMetadata('crop') || {\n        center: {\n          x: 0.5,\n          y: 0.5\n        },\n\n        flip: {\n          horizontal: false,\n          vertical: false\n        },\n\n        zoom: 1,\n        rotation: 0,\n        aspectRatio: null\n      };\n\n      var background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      var markup;\n      var resize;\n      var dirty = false;\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        markup = item.getMetadata('markup') || [];\n        resize = item.getMetadata('resize');\n        dirty = true;\n      }\n\n      // append image presenter\n      var imageView = root.appendChildView(\n        root.createChildView(ImageView, {\n          id: id,\n          image: image,\n          crop: crop,\n          resize: resize,\n          markup: markup,\n          dirty: dirty,\n          background: background,\n          opacity: 0,\n          scaleX: 1.15,\n          scaleY: 1.15,\n          translateY: 15\n        }),\n\n        root.childViews.length\n      );\n\n      root.ref.images.push(imageView);\n\n      // reveal the preview image\n      imageView.opacity = 1;\n      imageView.scaleX = 1;\n      imageView.scaleY = 1;\n      imageView.translateY = 0;\n\n      // the preview is now ready to be drawn\n      setTimeout(function() {\n        root.dispatch('DID_IMAGE_PREVIEW_SHOW', { id: id });\n      }, 250);\n    };\n\n    var updateImage = function updateImage(_ref3) {\n      var root = _ref3.root,\n        props = _ref3.props;\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n      var imageView = root.ref.images[root.ref.images.length - 1];\n      imageView.crop = item.getMetadata('crop');\n      imageView.background = root.query(\n        'GET_IMAGE_TRANSFORM_CANVAS_BACKGROUND_COLOR'\n      );\n\n      if (root.query('GET_IMAGE_PREVIEW_MARKUP_SHOW')) {\n        imageView.dirty = true;\n        imageView.resize = item.getMetadata('resize');\n        imageView.markup = item.getMetadata('markup');\n      }\n    };\n\n    // replace image preview\n    var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n      var root = _ref4.root,\n        props = _ref4.props,\n        action = _ref4.action;\n      // only filter and crop trigger redraw\n      if (!/crop|filter|markup|resize/.test(action.change.key)) return;\n\n      // no images to update, exit\n      if (!root.ref.images.length) return;\n\n      // no item found, exit\n      var item = root.query('GET_ITEM', { id: props.id });\n      if (!item) return;\n\n      // for now, update existing image when filtering\n      if (/filter/.test(action.change.key)) {\n        var imageView = root.ref.images[root.ref.images.length - 1];\n        applyFilter(root, action.change.value, imageView.image);\n        return;\n      }\n\n      if (/crop|markup|resize/.test(action.change.key)) {\n        var crop = item.getMetadata('crop');\n        var image = root.ref.images[root.ref.images.length - 1];\n\n        // if aspect ratio has changed, we need to create a new image\n        if (\n          crop &&\n          crop.aspectRatio &&\n          image.crop &&\n          image.crop.aspectRatio &&\n          Math.abs(crop.aspectRatio - image.crop.aspectRatio) > 0.00001\n        ) {\n          var _imageView = shiftImage({ root: root });\n          pushImage({\n            root: root,\n            props: props,\n            image: cloneCanvas(_imageView.image)\n          });\n        }\n        // if not, we can update the current image\n        else {\n          updateImage({ root: root, props: props });\n        }\n      }\n    };\n\n    var canCreateImageBitmap = function canCreateImageBitmap(file) {\n      // Firefox versions before 58 will freeze when running createImageBitmap\n      // in a Web Worker so we detect those versions and return false for support\n      var userAgent = window.navigator.userAgent;\n      var isFirefox = userAgent.match(/Firefox\\/([0-9]+)\\./);\n      var firefoxVersion = isFirefox ? parseInt(isFirefox[1]) : null;\n      if (firefoxVersion !== null && firefoxVersion <= 58) return false;\n\n      return 'createImageBitmap' in window && isBitmap(file);\n    };\n\n    /**\n     * Write handler for when preview container has been created\n     */\n    var didCreatePreviewContainer = function didCreatePreviewContainer(_ref5) {\n      var root = _ref5.root,\n        props = _ref5.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // determine image size of this item\n      getImageSize(fileURL, function(width, height) {\n        // we can now scale the panel to the final size\n        root.dispatch('DID_IMAGE_PREVIEW_CALCULATE_SIZE', {\n          id: id,\n          width: width,\n          height: height\n        });\n      });\n    };\n\n    var drawPreview = function drawPreview(_ref6) {\n      var root = _ref6.root,\n        props = _ref6.props;\n      var id = props.id;\n\n      // we need to get the file data to determine the eventual image size\n      var item = root.query('GET_ITEM', id);\n      if (!item) return;\n\n      // get url to file (we'll revoke it later on when done)\n      var fileURL = URL.createObjectURL(item.file);\n\n      // fallback\n      var loadPreviewFallback = function loadPreviewFallback() {\n        // let's scale the image in the main thread :(\n        loadImage(fileURL).then(previewImageLoaded);\n      };\n\n      // image is now ready\n      var previewImageLoaded = function previewImageLoaded(imageData) {\n        // the file url is no longer needed\n        URL.revokeObjectURL(fileURL);\n\n        // draw the scaled down version here and use that as source so bitmapdata can be closed\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap if orientation is incorrect\n        var width = imageData.width,\n          height = imageData.height;\n\n        // if no width or height, just return early.\n        if (!width || !height) return;\n\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref7 = [height, width];\n          width = _ref7[0];\n          height = _ref7[1];\n        }\n\n        // scale canvas based on pixel density\n        // we multiply by .75 as that creates smaller but still clear images on screens with high res displays\n        var pixelDensityFactor = Math.max(1, window.devicePixelRatio * 0.75);\n\n        // we want as much pixels to work with as possible,\n        // this multiplies the minimum image resolution,\n        // so when zooming in it doesn't get too blurry\n        var zoomFactor = root.query('GET_IMAGE_PREVIEW_ZOOM_FACTOR');\n\n        // imaeg scale factor\n        var scaleFactor = zoomFactor * pixelDensityFactor;\n\n        // calculate scaled preview image size\n        var previewImageRatio = height / width;\n\n        // calculate image preview height and width\n        var previewContainerWidth = root.rect.element.width;\n        var previewContainerHeight = root.rect.element.height;\n\n        var imageWidth = previewContainerWidth;\n        var imageHeight = imageWidth * previewImageRatio;\n\n        if (previewImageRatio > 1) {\n          imageWidth = Math.min(width, previewContainerWidth * scaleFactor);\n          imageHeight = imageWidth * previewImageRatio;\n        } else {\n          imageHeight = Math.min(height, previewContainerHeight * scaleFactor);\n          imageWidth = imageHeight / previewImageRatio;\n        }\n\n        // transfer to image tag so no canvas memory wasted on iOS\n        var previewImage = createPreviewImage(\n          imageData,\n          imageWidth,\n          imageHeight,\n          orientation\n        );\n\n        // done\n        var done = function done() {\n          // calculate average image color, disabled for now\n          var averageColor = root.query(\n            'GET_IMAGE_PREVIEW_CALCULATE_AVERAGE_IMAGE_COLOR'\n          )\n            ? calculateAverageColor(data)\n            : null;\n          item.setMetadata('color', averageColor, true);\n\n          // data has been transferred to canvas ( if was ImageBitmap )\n          if ('close' in imageData) {\n            imageData.close();\n          }\n\n          // show the overlay\n          root.ref.overlayShadow.opacity = 1;\n\n          // create the first image\n          pushImage({ root: root, props: props, image: previewImage });\n        };\n\n        // apply filter\n        var filter = item.getMetadata('filter');\n        if (filter) {\n          applyFilter(root, filter, previewImage).then(done);\n        } else {\n          done();\n        }\n      };\n\n      // if we support scaling using createImageBitmap we use a worker\n      if (canCreateImageBitmap(item.file)) {\n        // let's scale the image in a worker\n        var worker = createWorker(BitmapWorker);\n\n        worker.post(\n          {\n            file: item.file\n          },\n\n          function(imageBitmap) {\n            // destroy worker\n            worker.terminate();\n\n            // no bitmap returned, must be something wrong,\n            // try the oldschool way\n            if (!imageBitmap) {\n              loadPreviewFallback();\n              return;\n            }\n\n            // yay we got our bitmap, let's continue showing the preview\n            previewImageLoaded(imageBitmap);\n          }\n        );\n      } else {\n        // create fallback preview\n        loadPreviewFallback();\n      }\n    };\n\n    /**\n     * Write handler for when the preview image is ready to be animated\n     */\n    var didDrawPreview = function didDrawPreview(_ref8) {\n      var root = _ref8.root;\n      // get last added image\n      var image = root.ref.images[root.ref.images.length - 1];\n      image.translateY = 0;\n      image.scaleX = 1.0;\n      image.scaleY = 1.0;\n      image.opacity = 1;\n    };\n\n    /**\n     * Write handler for when the preview has been loaded\n     */\n    var restoreOverlay = function restoreOverlay(_ref9) {\n      var root = _ref9.root;\n      root.ref.overlayShadow.opacity = 1;\n      root.ref.overlayError.opacity = 0;\n      root.ref.overlaySuccess.opacity = 0;\n    };\n\n    var didThrowError = function didThrowError(_ref10) {\n      var root = _ref10.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlayError.opacity = 1;\n    };\n\n    var didCompleteProcessing = function didCompleteProcessing(_ref11) {\n      var root = _ref11.root;\n      root.ref.overlayShadow.opacity = 0.25;\n      root.ref.overlaySuccess.opacity = 1;\n    };\n\n    /**\n     * Constructor\n     */\n    var create = function create(_ref12) {\n      var root = _ref12.root;\n      // image view\n      root.ref.images = [];\n\n      // the preview image data (we need this to filter the image)\n      root.ref.imageData = null;\n\n      // image bin\n      root.ref.imageViewBin = [];\n\n      // image overlays\n      root.ref.overlayShadow = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'idle'\n        })\n      );\n\n      root.ref.overlaySuccess = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'success'\n        })\n      );\n\n      root.ref.overlayError = root.appendChildView(\n        root.createChildView(OverlayView, {\n          opacity: 0,\n          status: 'failure'\n        })\n      );\n    };\n\n    return _.utils.createView({\n      name: 'image-preview-wrapper',\n      create: create,\n      styles: ['height'],\n      apis: ['height'],\n      destroy: function destroy(_ref13) {\n        var root = _ref13.root;\n        // we resize the image so memory on iOS 12 is released more quickly (it seems)\n        root.ref.images.forEach(function(imageView) {\n          imageView.image.width = 1;\n          imageView.image.height = 1;\n        });\n      },\n      didWriteView: function didWriteView(_ref14) {\n        var root = _ref14.root;\n        root.ref.images.forEach(function(imageView) {\n          imageView.dirty = false;\n        });\n      },\n      write: _.utils.createRoute(\n        {\n          // image preview stated\n          DID_IMAGE_PREVIEW_DRAW: didDrawPreview,\n          DID_IMAGE_PREVIEW_CONTAINER_CREATE: didCreatePreviewContainer,\n          DID_FINISH_CALCULATE_PREVIEWSIZE: drawPreview,\n          DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata,\n\n          // file states\n          DID_THROW_ITEM_LOAD_ERROR: didThrowError,\n          DID_THROW_ITEM_PROCESSING_ERROR: didThrowError,\n          DID_THROW_ITEM_INVALID: didThrowError,\n          DID_COMPLETE_ITEM_PROCESSING: didCompleteProcessing,\n          DID_START_ITEM_PROCESSING: restoreOverlay,\n          DID_REVERT_ITEM_PROCESSING: restoreOverlay\n        },\n\n        function(_ref15) {\n          var root = _ref15.root;\n          // views on death row\n          var viewsToRemove = root.ref.imageViewBin.filter(function(imageView) {\n            return imageView.opacity === 0;\n          });\n\n          // views to retain\n          root.ref.imageViewBin = root.ref.imageViewBin.filter(function(\n            imageView\n          ) {\n            return imageView.opacity > 0;\n          });\n\n          // remove these views\n          viewsToRemove.forEach(function(imageView) {\n            return removeImageView(root, imageView);\n          });\n          viewsToRemove.length = 0;\n        }\n      )\n    });\n  };\n\n  /**\n   * Image Preview Plugin\n   */\n  var plugin = function plugin(fpAPI) {\n    var addFilter = fpAPI.addFilter,\n      utils = fpAPI.utils;\n    var Type = utils.Type,\n      createRoute = utils.createRoute,\n      isFile = utils.isFile;\n\n    // imagePreviewView\n    var imagePreviewView = createImageWrapperView(fpAPI);\n\n    // called for each view that is created right after the 'create' method\n    addFilter('CREATE_VIEW', function(viewAPI) {\n      // get reference to created view\n      var is = viewAPI.is,\n        view = viewAPI.view,\n        query = viewAPI.query;\n\n      // only hook up to item view and only if is enabled for this cropper\n      if (!is('file') || !query('GET_ALLOW_IMAGE_PREVIEW')) return;\n\n      // create the image preview plugin, but only do so if the item is an image\n      var didLoadItem = function didLoadItem(_ref) {\n        var root = _ref.root,\n          props = _ref.props;\n        var id = props.id;\n        var item = query('GET_ITEM', id);\n\n        // item could theoretically have been removed in the mean time\n        if (!item || !isFile(item.file) || item.archived) return;\n\n        // get the file object\n        var file = item.file;\n\n        // exit if this is not an image\n        if (!isPreviewableImage(file)) return;\n\n        // test if is filtered\n        if (!query('GET_IMAGE_PREVIEW_FILTER_ITEM')(item)) return;\n\n        // exit if image size is too high and no createImageBitmap support\n        // this would simply bring the browser to its knees and that is not what we want\n        var supportsCreateImageBitmap = 'createImageBitmap' in (window || {});\n        var maxPreviewFileSize = query('GET_IMAGE_PREVIEW_MAX_FILE_SIZE');\n        if (\n          !supportsCreateImageBitmap &&\n          maxPreviewFileSize &&\n          file.size > maxPreviewFileSize\n        )\n          return;\n\n        // set preview view\n        root.ref.imagePreview = view.appendChildView(\n          view.createChildView(imagePreviewView, { id: id })\n        );\n\n        // update height if is fixed\n        var fixedPreviewHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (fixedPreviewHeight) {\n          root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n            id: item.id,\n            height: fixedPreviewHeight\n          });\n        }\n\n        // now ready\n        var queue =\n          !supportsCreateImageBitmap &&\n          file.size > query('GET_IMAGE_PREVIEW_MAX_INSTANT_PREVIEW_FILE_SIZE');\n        root.dispatch('DID_IMAGE_PREVIEW_CONTAINER_CREATE', { id: id }, queue);\n      };\n\n      var rescaleItem = function rescaleItem(root, props) {\n        if (!root.ref.imagePreview) return;\n        var id = props.id;\n\n        // get item\n        var item = root.query('GET_ITEM', { id: id });\n        if (!item) return;\n\n        // if is fixed height or panel has aspect ratio, exit here, height has already been defined\n        var panelAspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var itemPanelAspectRatio = root.query('GET_ITEM_PANEL_ASPECT_RATIO');\n        var fixedHeight = root.query('GET_IMAGE_PREVIEW_HEIGHT');\n        if (panelAspectRatio || itemPanelAspectRatio || fixedHeight) return;\n\n        // no data!\n        var _root$ref = root.ref,\n          imageWidth = _root$ref.imageWidth,\n          imageHeight = _root$ref.imageHeight;\n        if (!imageWidth || !imageHeight) return;\n\n        // get height min and max\n        var minPreviewHeight = root.query('GET_IMAGE_PREVIEW_MIN_HEIGHT');\n        var maxPreviewHeight = root.query('GET_IMAGE_PREVIEW_MAX_HEIGHT');\n\n        // orientation info\n        var exif = item.getMetadata('exif') || {};\n        var orientation = exif.orientation || -1;\n\n        // get width and height from action, and swap of orientation is incorrect\n        if (orientation >= 5 && orientation <= 8) {\n          var _ref2 = [imageHeight, imageWidth];\n          imageWidth = _ref2[0];\n          imageHeight = _ref2[1];\n        }\n\n        // scale up width and height when we're dealing with an SVG\n        if (!isBitmap(item.file) || root.query('GET_IMAGE_PREVIEW_UPSCALE')) {\n          var scalar = 2048 / imageWidth;\n          imageWidth *= scalar;\n          imageHeight *= scalar;\n        }\n\n        // image aspect ratio\n        var imageAspectRatio = imageHeight / imageWidth;\n\n        // we need the item to get to the crop size\n        var previewAspectRatio =\n          (item.getMetadata('crop') || {}).aspectRatio || imageAspectRatio;\n\n        // preview height range\n        var previewHeightMax = Math.max(\n          minPreviewHeight,\n          Math.min(imageHeight, maxPreviewHeight)\n        );\n\n        var itemWidth = root.rect.element.width;\n        var previewHeight = Math.min(\n          itemWidth * previewAspectRatio,\n          previewHeightMax\n        );\n\n        // request update to panel height\n        root.dispatch('DID_UPDATE_PANEL_HEIGHT', {\n          id: item.id,\n          height: previewHeight\n        });\n      };\n\n      var didResizeView = function didResizeView(_ref3) {\n        var root = _ref3.root;\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didUpdateItemMetadata = function didUpdateItemMetadata(_ref4) {\n        var root = _ref4.root,\n          action = _ref4.action;\n        if (action.change.key !== 'crop') return;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n      };\n\n      var didCalculatePreviewSize = function didCalculatePreviewSize(_ref5) {\n        var root = _ref5.root,\n          action = _ref5.action;\n        // remember dimensions\n        root.ref.imageWidth = action.width;\n        root.ref.imageHeight = action.height;\n\n        // actions in next write operation\n        root.ref.shouldRescale = true;\n        root.ref.shouldDrawPreview = true;\n\n        // as image load could take a while and fire when draw loop is resting we need to give it a kick\n        root.dispatch('KICK');\n      };\n\n      // start writing\n      view.registerWriter(\n        createRoute(\n          {\n            DID_RESIZE_ROOT: didResizeView,\n            DID_STOP_RESIZE: didResizeView,\n            DID_LOAD_ITEM: didLoadItem,\n            DID_IMAGE_PREVIEW_CALCULATE_SIZE: didCalculatePreviewSize,\n            DID_UPDATE_ITEM_METADATA: didUpdateItemMetadata\n          },\n\n          function(_ref6) {\n            var root = _ref6.root,\n              props = _ref6.props;\n            // no preview view attached\n            if (!root.ref.imagePreview) return;\n\n            // don't do anything while hidden\n            if (root.rect.element.hidden) return;\n\n            // resize the item panel\n            if (root.ref.shouldRescale) {\n              rescaleItem(root, props);\n              root.ref.shouldRescale = false;\n            }\n\n            if (root.ref.shouldDrawPreview) {\n              // queue till next frame so we're sure the height has been applied this forces the draw image call inside the wrapper view to use the correct height\n              requestAnimationFrame(function() {\n                // this requestAnimationFrame nesting is horrible but it fixes an issue with 100hz displays on Chrome\n                // https://github.com/pqina/filepond-plugin-image-preview/issues/57\n                requestAnimationFrame(function() {\n                  root.dispatch('DID_FINISH_CALCULATE_PREVIEWSIZE', {\n                    id: props.id\n                  });\n                });\n              });\n\n              root.ref.shouldDrawPreview = false;\n            }\n          }\n        )\n      );\n    });\n\n    // expose plugin\n    return {\n      options: {\n        // Enable or disable image preview\n        allowImagePreview: [true, Type.BOOLEAN],\n\n        // filters file items to determine which are shown as preview\n        imagePreviewFilterItem: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ],\n\n        // Fixed preview height\n        imagePreviewHeight: [null, Type.INT],\n\n        // Min image height\n        imagePreviewMinHeight: [44, Type.INT],\n\n        // Max image height\n        imagePreviewMaxHeight: [256, Type.INT],\n\n        // Max size of preview file for when createImageBitmap is not supported\n        imagePreviewMaxFileSize: [null, Type.INT],\n\n        // The amount of extra pixels added to the image preview to allow comfortable zooming\n        imagePreviewZoomFactor: [2, Type.INT],\n\n        // Should we upscale small images to fit the max bounding box of the preview area\n        imagePreviewUpscale: [false, Type.BOOLEAN],\n\n        // Max size of preview file that we allow to try to instant preview if createImageBitmap is not supported, else image is queued for loading\n        imagePreviewMaxInstantPreviewFileSize: [1000000, Type.INT],\n\n        // Style of the transparancy indicator used behind images\n        imagePreviewTransparencyIndicator: [null, Type.STRING],\n\n        // Enables or disables reading average image color\n        imagePreviewCalculateAverageImageColor: [false, Type.BOOLEAN],\n\n        // Enables or disables the previewing of markup\n        imagePreviewMarkupShow: [true, Type.BOOLEAN],\n\n        // Allows filtering of markup to only show certain shapes\n        imagePreviewMarkupFilter: [\n          function() {\n            return true;\n          },\n          Type.FUNCTION\n        ]\n      }\n    };\n  };\n\n  // fire pluginloaded event if running in browser, this allows registering the plugin when using async script tags\n  var isBrowser =\n    typeof window !== 'undefined' && typeof window.document !== 'undefined';\n  if (isBrowser) {\n    document.dispatchEvent(\n      new CustomEvent('FilePond:pluginloaded', { detail: plugin })\n    );\n  }\n\n  return plugin;\n});\n","/*!\n * FilePond 4.31.3\n * Licensed under MIT, https://opensource.org/licenses/MIT/\n * Please visit https://pqina.nl/filepond/ for details.\n */\n\n/* eslint-disable */\n\n(function(global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined'\n        ? factory(exports)\n        : typeof define === 'function' && define.amd\n        ? define(['exports'], factory)\n        : ((global = global || self), factory((global.FilePond = {})));\n})(this, function(exports) {\n    'use strict';\n\n    var isNode = function isNode(value) {\n        return value instanceof HTMLElement;\n    };\n\n    var createStore = function createStore(initialState) {\n        var queries = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n        var actions = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n        // internal state\n        var state = Object.assign({}, initialState);\n\n        // contains all actions for next frame, is clear when actions are requested\n        var actionQueue = [];\n        var dispatchQueue = [];\n\n        // returns a duplicate of the current state\n        var getState = function getState() {\n            return Object.assign({}, state);\n        };\n\n        // returns a duplicate of the actions array and clears the actions array\n        var processActionQueue = function processActionQueue() {\n            // create copy of actions queue\n            var queue = [].concat(actionQueue);\n\n            // clear actions queue (we don't want no double actions)\n            actionQueue.length = 0;\n\n            return queue;\n        };\n\n        // processes actions that might block the main UI thread\n        var processDispatchQueue = function processDispatchQueue() {\n            // create copy of actions queue\n            var queue = [].concat(dispatchQueue);\n\n            // clear actions queue (we don't want no double actions)\n            dispatchQueue.length = 0;\n\n            // now dispatch these actions\n            queue.forEach(function(_ref) {\n                var type = _ref.type,\n                    data = _ref.data;\n                dispatch(type, data);\n            });\n        };\n\n        // adds a new action, calls its handler and\n        var dispatch = function dispatch(type, data, isBlocking) {\n            // is blocking action (should never block if document is hidden)\n            if (isBlocking && !document.hidden) {\n                dispatchQueue.push({ type: type, data: data });\n                return;\n            }\n\n            // if this action has a handler, handle the action\n            if (actionHandlers[type]) {\n                actionHandlers[type](data);\n            }\n\n            // now add action\n            actionQueue.push({\n                type: type,\n                data: data,\n            });\n        };\n\n        var query = function query(str) {\n            var _queryHandles;\n            for (\n                var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                args[_key - 1] = arguments[_key];\n            }\n            return queryHandles[str]\n                ? (_queryHandles = queryHandles)[str].apply(_queryHandles, args)\n                : null;\n        };\n\n        var api = {\n            getState: getState,\n            processActionQueue: processActionQueue,\n            processDispatchQueue: processDispatchQueue,\n            dispatch: dispatch,\n            query: query,\n        };\n\n        var queryHandles = {};\n        queries.forEach(function(query) {\n            queryHandles = Object.assign({}, query(state), {}, queryHandles);\n        });\n\n        var actionHandlers = {};\n        actions.forEach(function(action) {\n            actionHandlers = Object.assign({}, action(dispatch, query, state), {}, actionHandlers);\n        });\n\n        return api;\n    };\n\n    var defineProperty = function defineProperty(obj, property, definition) {\n        if (typeof definition === 'function') {\n            obj[property] = definition;\n            return;\n        }\n        Object.defineProperty(obj, property, Object.assign({}, definition));\n    };\n\n    var forin = function forin(obj, cb) {\n        for (var key in obj) {\n            if (!obj.hasOwnProperty(key)) {\n                continue;\n            }\n\n            cb(key, obj[key]);\n        }\n    };\n\n    var createObject = function createObject(definition) {\n        var obj = {};\n        forin(definition, function(property) {\n            defineProperty(obj, property, definition[property]);\n        });\n        return obj;\n    };\n\n    var attr = function attr(node, name) {\n        var value = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        if (value === null) {\n            return node.getAttribute(name) || node.hasAttribute(name);\n        }\n        node.setAttribute(name, value);\n    };\n\n    var ns = 'http://www.w3.org/2000/svg';\n    var svgElements = ['svg', 'path']; // only svg elements used\n\n    var isSVGElement = function isSVGElement(tag) {\n        return svgElements.includes(tag);\n    };\n\n    var createElement = function createElement(tag, className) {\n        var attributes = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n        if (typeof className === 'object') {\n            attributes = className;\n            className = null;\n        }\n        var element = isSVGElement(tag)\n            ? document.createElementNS(ns, tag)\n            : document.createElement(tag);\n        if (className) {\n            if (isSVGElement(tag)) {\n                attr(element, 'class', className);\n            } else {\n                element.className = className;\n            }\n        }\n        forin(attributes, function(name, value) {\n            attr(element, name, value);\n        });\n        return element;\n    };\n\n    var appendChild = function appendChild(parent) {\n        return function(child, index) {\n            if (typeof index !== 'undefined' && parent.children[index]) {\n                parent.insertBefore(child, parent.children[index]);\n            } else {\n                parent.appendChild(child);\n            }\n        };\n    };\n\n    var appendChildView = function appendChildView(parent, childViews) {\n        return function(view, index) {\n            if (typeof index !== 'undefined') {\n                childViews.splice(index, 0, view);\n            } else {\n                childViews.push(view);\n            }\n\n            return view;\n        };\n    };\n\n    var removeChildView = function removeChildView(parent, childViews) {\n        return function(view) {\n            // remove from child views\n            childViews.splice(childViews.indexOf(view), 1);\n\n            // remove the element\n            if (view.element.parentNode) {\n                parent.removeChild(view.element);\n            }\n\n            return view;\n        };\n    };\n\n    var IS_BROWSER = (function() {\n        return typeof window !== 'undefined' && typeof window.document !== 'undefined';\n    })();\n    var isBrowser = function isBrowser() {\n        return IS_BROWSER;\n    };\n\n    var testElement = isBrowser() ? createElement('svg') : {};\n    var getChildCount =\n        'children' in testElement\n            ? function(el) {\n                  return el.children.length;\n              }\n            : function(el) {\n                  return el.childNodes.length;\n              };\n\n    var getViewRect = function getViewRect(elementRect, childViews, offset, scale) {\n        var left = offset[0] || elementRect.left;\n        var top = offset[1] || elementRect.top;\n        var right = left + elementRect.width;\n        var bottom = top + elementRect.height * (scale[1] || 1);\n\n        var rect = {\n            // the rectangle of the element itself\n            element: Object.assign({}, elementRect),\n\n            // the rectangle of the element expanded to contain its children, does not include any margins\n            inner: {\n                left: elementRect.left,\n                top: elementRect.top,\n                right: elementRect.right,\n                bottom: elementRect.bottom,\n            },\n\n            // the rectangle of the element expanded to contain its children including own margin and child margins\n            // margins will be added after we've recalculated the size\n            outer: {\n                left: left,\n                top: top,\n                right: right,\n                bottom: bottom,\n            },\n        };\n\n        // expand rect to fit all child rectangles\n        childViews\n            .filter(function(childView) {\n                return !childView.isRectIgnored();\n            })\n            .map(function(childView) {\n                return childView.rect;\n            })\n            .forEach(function(childViewRect) {\n                expandRect(rect.inner, Object.assign({}, childViewRect.inner));\n                expandRect(rect.outer, Object.assign({}, childViewRect.outer));\n            });\n\n        // calculate inner width and height\n        calculateRectSize(rect.inner);\n\n        // append additional margin (top and left margins are included in top and left automatically)\n        rect.outer.bottom += rect.element.marginBottom;\n        rect.outer.right += rect.element.marginRight;\n\n        // calculate outer width and height\n        calculateRectSize(rect.outer);\n\n        return rect;\n    };\n\n    var expandRect = function expandRect(parent, child) {\n        // adjust for parent offset\n        child.top += parent.top;\n        child.right += parent.left;\n        child.bottom += parent.top;\n        child.left += parent.left;\n\n        if (child.bottom > parent.bottom) {\n            parent.bottom = child.bottom;\n        }\n\n        if (child.right > parent.right) {\n            parent.right = child.right;\n        }\n    };\n\n    var calculateRectSize = function calculateRectSize(rect) {\n        rect.width = rect.right - rect.left;\n        rect.height = rect.bottom - rect.top;\n    };\n\n    var isNumber = function isNumber(value) {\n        return typeof value === 'number';\n    };\n\n    /**\n     * Determines if position is at destination\n     * @param position\n     * @param destination\n     * @param velocity\n     * @param errorMargin\n     * @returns {boolean}\n     */\n    var thereYet = function thereYet(position, destination, velocity) {\n        var errorMargin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0.001;\n        return Math.abs(position - destination) < errorMargin && Math.abs(velocity) < errorMargin;\n    };\n\n    /**\n     * Spring animation\n     */\n    var spring =\n        // default options\n        function spring() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$stiffness = _ref.stiffness,\n                stiffness = _ref$stiffness === void 0 ? 0.5 : _ref$stiffness,\n                _ref$damping = _ref.damping,\n                damping = _ref$damping === void 0 ? 0.75 : _ref$damping,\n                _ref$mass = _ref.mass,\n                mass = _ref$mass === void 0 ? 10 : _ref$mass;\n            var target = null;\n            var position = null;\n            var velocity = 0;\n            var resting = false;\n\n            // updates spring state\n            var interpolate = function interpolate(ts, skipToEndState) {\n                // in rest, don't animate\n                if (resting) return;\n\n                // need at least a target or position to do springy things\n                if (!(isNumber(target) && isNumber(position))) {\n                    resting = true;\n                    velocity = 0;\n                    return;\n                }\n\n                // calculate spring force\n                var f = -(position - target) * stiffness;\n\n                // update velocity by adding force based on mass\n                velocity += f / mass;\n\n                // update position by adding velocity\n                position += velocity;\n\n                // slow down based on amount of damping\n                velocity *= damping;\n\n                // we've arrived if we're near target and our velocity is near zero\n                if (thereYet(position, target, velocity) || skipToEndState) {\n                    position = target;\n                    velocity = 0;\n                    resting = true;\n\n                    // we done\n                    api.onupdate(position);\n                    api.oncomplete(position);\n                } else {\n                    // progress update\n                    api.onupdate(position);\n                }\n            };\n\n            /**\n             * Set new target value\n             * @param value\n             */\n            var setTarget = function setTarget(value) {\n                // if currently has no position, set target and position to this value\n                if (isNumber(value) && !isNumber(position)) {\n                    position = value;\n                }\n\n                // next target value will not be animated to\n                if (target === null) {\n                    target = value;\n                    position = value;\n                }\n\n                // let start moving to target\n                target = value;\n\n                // already at target\n                if (position === target || typeof target === 'undefined') {\n                    // now resting as target is current position, stop moving\n                    resting = true;\n                    velocity = 0;\n\n                    // done!\n                    api.onupdate(position);\n                    api.oncomplete(position);\n\n                    return;\n                }\n\n                resting = false;\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    set: setTarget,\n                    get: function get() {\n                        return target;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var easeLinear = function easeLinear(t) {\n        return t;\n    };\n    var easeInOutQuad = function easeInOutQuad(t) {\n        return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\n    };\n\n    var tween =\n        // default values\n        function tween() // method definition\n        {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$duration = _ref.duration,\n                duration = _ref$duration === void 0 ? 500 : _ref$duration,\n                _ref$easing = _ref.easing,\n                easing = _ref$easing === void 0 ? easeInOutQuad : _ref$easing,\n                _ref$delay = _ref.delay,\n                delay = _ref$delay === void 0 ? 0 : _ref$delay;\n            var start = null;\n            var t;\n            var p;\n            var resting = true;\n            var reverse = false;\n            var target = null;\n\n            var interpolate = function interpolate(ts, skipToEndState) {\n                if (resting || target === null) return;\n\n                if (start === null) {\n                    start = ts;\n                }\n\n                if (ts - start < delay) return;\n\n                t = ts - start - delay;\n\n                if (t >= duration || skipToEndState) {\n                    t = 1;\n                    p = reverse ? 0 : 1;\n                    api.onupdate(p * target);\n                    api.oncomplete(p * target);\n                    resting = true;\n                } else {\n                    p = t / duration;\n                    api.onupdate((t >= 0 ? easing(reverse ? 1 - p : p) : 0) * target);\n                }\n            };\n\n            // need 'api' to call onupdate callback\n            var api = createObject({\n                interpolate: interpolate,\n                target: {\n                    get: function get() {\n                        return reverse ? 0 : target;\n                    },\n                    set: function set(value) {\n                        // is initial value\n                        if (target === null) {\n                            target = value;\n                            api.onupdate(value);\n                            api.oncomplete(value);\n                            return;\n                        }\n\n                        // want to tween to a smaller value and have a current value\n                        if (value < target) {\n                            target = 1;\n                            reverse = true;\n                        } else {\n                            // not tweening to a smaller value\n                            reverse = false;\n                            target = value;\n                        }\n\n                        // let's go!\n                        resting = false;\n                        start = null;\n                    },\n                },\n\n                resting: {\n                    get: function get() {\n                        return resting;\n                    },\n                },\n\n                onupdate: function onupdate(value) {},\n                oncomplete: function oncomplete(value) {},\n            });\n\n            return api;\n        };\n\n    var animator = {\n        spring: spring,\n        tween: tween,\n    };\n\n    /*\n                       { type: 'spring', stiffness: .5, damping: .75, mass: 10 };\n                       { translation: { type: 'spring', ... }, ... }\n                       { translation: { x: { type: 'spring', ... } } }\n                      */\n    var createAnimator = function createAnimator(definition, category, property) {\n        // default is single definition\n        // we check if transform is set, if so, we check if property is set\n        var def =\n            definition[category] && typeof definition[category][property] === 'object'\n                ? definition[category][property]\n                : definition[category] || definition;\n\n        var type = typeof def === 'string' ? def : def.type;\n        var props = typeof def === 'object' ? Object.assign({}, def) : {};\n\n        return animator[type] ? animator[type](props) : null;\n    };\n\n    var addGetSet = function addGetSet(keys, obj, props) {\n        var overwrite = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n        obj = Array.isArray(obj) ? obj : [obj];\n        obj.forEach(function(o) {\n            keys.forEach(function(key) {\n                var name = key;\n                var getter = function getter() {\n                    return props[key];\n                };\n                var setter = function setter(value) {\n                    return (props[key] = value);\n                };\n\n                if (typeof key === 'object') {\n                    name = key.key;\n                    getter = key.getter || getter;\n                    setter = key.setter || setter;\n                }\n\n                if (o[name] && !overwrite) {\n                    return;\n                }\n\n                o[name] = {\n                    get: getter,\n                    set: setter,\n                };\n            });\n        });\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // setup animators\n\n    var animations = function animations(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI;\n        // initial properties\n        var initialProps = Object.assign({}, viewProps);\n\n        // list of all active animations\n        var animations = [];\n\n        // setup animators\n        forin(mixinConfig, function(property, animation) {\n            var animator = createAnimator(animation);\n            if (!animator) {\n                return;\n            }\n\n            // when the animator updates, update the view state value\n            animator.onupdate = function(value) {\n                viewProps[property] = value;\n            };\n\n            // set animator target\n            animator.target = initialProps[property];\n\n            // when value is set, set the animator target value\n            var prop = {\n                key: property,\n                setter: function setter(value) {\n                    // if already at target, we done!\n                    if (animator.target === value) {\n                        return;\n                    }\n\n                    animator.target = value;\n                },\n                getter: function getter() {\n                    return viewProps[property];\n                },\n            };\n\n            // add getters and setters\n            addGetSet([prop], [viewInternalAPI, viewExternalAPI], viewProps, true);\n\n            // add it to the list for easy updating from the _write method\n            animations.push(animator);\n        });\n\n        // expose internal write api\n        return {\n            write: function write(ts) {\n                var skipToEndState = document.hidden;\n                var resting = true;\n                animations.forEach(function(animation) {\n                    if (!animation.resting) resting = false;\n                    animation.interpolate(ts, skipToEndState);\n                });\n                return resting;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var addEvent = function addEvent(element) {\n        return function(type, fn) {\n            element.addEventListener(type, fn);\n        };\n    };\n\n    var removeEvent = function removeEvent(element) {\n        return function(type, fn) {\n            element.removeEventListener(type, fn);\n        };\n    };\n\n    // mixin\n    var listeners = function listeners(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            viewState = _ref.viewState,\n            view = _ref.view;\n        var events = [];\n\n        var add = addEvent(view.element);\n        var remove = removeEvent(view.element);\n\n        viewExternalAPI.on = function(type, fn) {\n            events.push({\n                type: type,\n                fn: fn,\n            });\n\n            add(type, fn);\n        };\n\n        viewExternalAPI.off = function(type, fn) {\n            events.splice(\n                events.findIndex(function(event) {\n                    return event.type === type && event.fn === fn;\n                }),\n                1\n            );\n\n            remove(type, fn);\n        };\n\n        return {\n            write: function write() {\n                // not busy\n                return true;\n            },\n            destroy: function destroy() {\n                events.forEach(function(event) {\n                    remove(event.type, event.fn);\n                });\n            },\n        };\n    };\n\n    // add to external api and link to props\n\n    var apis = function apis(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewExternalAPI = _ref.viewExternalAPI;\n        addGetSet(mixinConfig, viewExternalAPI, viewProps);\n    };\n\n    var isDefined = function isDefined(value) {\n        return value != null;\n    };\n\n    // add to state,\n    // add getters and setters to internal and external api (if not set)\n    // set initial state based on props in viewProps\n    // apply as transforms each frame\n\n    var defaults = {\n        opacity: 1,\n        scaleX: 1,\n        scaleY: 1,\n        translateX: 0,\n        translateY: 0,\n        rotateX: 0,\n        rotateY: 0,\n        rotateZ: 0,\n        originX: 0,\n        originY: 0,\n    };\n\n    var styles = function styles(_ref) {\n        var mixinConfig = _ref.mixinConfig,\n            viewProps = _ref.viewProps,\n            viewInternalAPI = _ref.viewInternalAPI,\n            viewExternalAPI = _ref.viewExternalAPI,\n            view = _ref.view;\n        // initial props\n        var initialProps = Object.assign({}, viewProps);\n\n        // current props\n        var currentProps = {};\n\n        // we will add those properties to the external API and link them to the viewState\n        addGetSet(mixinConfig, [viewInternalAPI, viewExternalAPI], viewProps);\n\n        // override rect on internal and external rect getter so it takes in account transforms\n        var getOffset = function getOffset() {\n            return [viewProps['translateX'] || 0, viewProps['translateY'] || 0];\n        };\n\n        var getScale = function getScale() {\n            return [viewProps['scaleX'] || 0, viewProps['scaleY'] || 0];\n        };\n        var getRect = function getRect() {\n            return view.rect\n                ? getViewRect(view.rect, view.childViews, getOffset(), getScale())\n                : null;\n        };\n        viewInternalAPI.rect = { get: getRect };\n        viewExternalAPI.rect = { get: getRect };\n\n        // apply view props\n        mixinConfig.forEach(function(key) {\n            viewProps[key] =\n                typeof initialProps[key] === 'undefined' ? defaults[key] : initialProps[key];\n        });\n\n        // expose api\n        return {\n            write: function write() {\n                // see if props have changed\n                if (!propsHaveChanged(currentProps, viewProps)) {\n                    return;\n                }\n\n                // moves element to correct position on screen\n                applyStyles(view.element, viewProps);\n\n                // store new transforms\n                Object.assign(currentProps, Object.assign({}, viewProps));\n\n                // no longer busy\n                return true;\n            },\n            destroy: function destroy() {},\n        };\n    };\n\n    var propsHaveChanged = function propsHaveChanged(currentProps, newProps) {\n        // different amount of keys\n        if (Object.keys(currentProps).length !== Object.keys(newProps).length) {\n            return true;\n        }\n\n        // lets analyze the individual props\n        for (var prop in newProps) {\n            if (newProps[prop] !== currentProps[prop]) {\n                return true;\n            }\n        }\n\n        return false;\n    };\n\n    var applyStyles = function applyStyles(element, _ref2) {\n        var opacity = _ref2.opacity,\n            perspective = _ref2.perspective,\n            translateX = _ref2.translateX,\n            translateY = _ref2.translateY,\n            scaleX = _ref2.scaleX,\n            scaleY = _ref2.scaleY,\n            rotateX = _ref2.rotateX,\n            rotateY = _ref2.rotateY,\n            rotateZ = _ref2.rotateZ,\n            originX = _ref2.originX,\n            originY = _ref2.originY,\n            width = _ref2.width,\n            height = _ref2.height;\n\n        var transforms = '';\n        var styles = '';\n\n        // handle transform origin\n        if (isDefined(originX) || isDefined(originY)) {\n            styles += 'transform-origin: ' + (originX || 0) + 'px ' + (originY || 0) + 'px;';\n        }\n\n        // transform order is relevant\n        // 0. perspective\n        if (isDefined(perspective)) {\n            transforms += 'perspective(' + perspective + 'px) ';\n        }\n\n        // 1. translate\n        if (isDefined(translateX) || isDefined(translateY)) {\n            transforms +=\n                'translate3d(' + (translateX || 0) + 'px, ' + (translateY || 0) + 'px, 0) ';\n        }\n\n        // 2. scale\n        if (isDefined(scaleX) || isDefined(scaleY)) {\n            transforms +=\n                'scale3d(' +\n                (isDefined(scaleX) ? scaleX : 1) +\n                ', ' +\n                (isDefined(scaleY) ? scaleY : 1) +\n                ', 1) ';\n        }\n\n        // 3. rotate\n        if (isDefined(rotateZ)) {\n            transforms += 'rotateZ(' + rotateZ + 'rad) ';\n        }\n\n        if (isDefined(rotateX)) {\n            transforms += 'rotateX(' + rotateX + 'rad) ';\n        }\n\n        if (isDefined(rotateY)) {\n            transforms += 'rotateY(' + rotateY + 'rad) ';\n        }\n\n        // add transforms\n        if (transforms.length) {\n            styles += 'transform:' + transforms + ';';\n        }\n\n        // add opacity\n        if (isDefined(opacity)) {\n            styles += 'opacity:' + opacity + ';';\n\n            // if we reach zero, we make the element inaccessible\n            if (opacity === 0) {\n                styles += 'visibility:hidden;';\n            }\n\n            // if we're below 100% opacity this element can't be clicked\n            if (opacity < 1) {\n                styles += 'pointer-events:none;';\n            }\n        }\n\n        // add height\n        if (isDefined(height)) {\n            styles += 'height:' + height + 'px;';\n        }\n\n        // add width\n        if (isDefined(width)) {\n            styles += 'width:' + width + 'px;';\n        }\n\n        // apply styles\n        var elementCurrentStyle = element.elementCurrentStyle || '';\n\n        // if new styles does not match current styles, lets update!\n        if (styles.length !== elementCurrentStyle.length || styles !== elementCurrentStyle) {\n            element.style.cssText = styles;\n            // store current styles so we can compare them to new styles later on\n            // _not_ getting the style value is faster\n            element.elementCurrentStyle = styles;\n        }\n    };\n\n    var Mixins = {\n        styles: styles,\n        listeners: listeners,\n        animations: animations,\n        apis: apis,\n    };\n\n    var updateRect = function updateRect() {\n        var rect = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        var element = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        var style = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n        if (!element.layoutCalculated) {\n            rect.paddingTop = parseInt(style.paddingTop, 10) || 0;\n            rect.marginTop = parseInt(style.marginTop, 10) || 0;\n            rect.marginRight = parseInt(style.marginRight, 10) || 0;\n            rect.marginBottom = parseInt(style.marginBottom, 10) || 0;\n            rect.marginLeft = parseInt(style.marginLeft, 10) || 0;\n            element.layoutCalculated = true;\n        }\n\n        rect.left = element.offsetLeft || 0;\n        rect.top = element.offsetTop || 0;\n        rect.width = element.offsetWidth || 0;\n        rect.height = element.offsetHeight || 0;\n\n        rect.right = rect.left + rect.width;\n        rect.bottom = rect.top + rect.height;\n\n        rect.scrollTop = element.scrollTop;\n\n        rect.hidden = element.offsetParent === null;\n\n        return rect;\n    };\n\n    var createView =\n        // default view definition\n        function createView() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                _ref$tag = _ref.tag,\n                tag = _ref$tag === void 0 ? 'div' : _ref$tag,\n                _ref$name = _ref.name,\n                name = _ref$name === void 0 ? null : _ref$name,\n                _ref$attributes = _ref.attributes,\n                attributes = _ref$attributes === void 0 ? {} : _ref$attributes,\n                _ref$read = _ref.read,\n                read = _ref$read === void 0 ? function() {} : _ref$read,\n                _ref$write = _ref.write,\n                write = _ref$write === void 0 ? function() {} : _ref$write,\n                _ref$create = _ref.create,\n                create = _ref$create === void 0 ? function() {} : _ref$create,\n                _ref$destroy = _ref.destroy,\n                destroy = _ref$destroy === void 0 ? function() {} : _ref$destroy,\n                _ref$filterFrameActio = _ref.filterFrameActionsForChild,\n                filterFrameActionsForChild =\n                    _ref$filterFrameActio === void 0\n                        ? function(child, actions) {\n                              return actions;\n                          }\n                        : _ref$filterFrameActio,\n                _ref$didCreateView = _ref.didCreateView,\n                didCreateView = _ref$didCreateView === void 0 ? function() {} : _ref$didCreateView,\n                _ref$didWriteView = _ref.didWriteView,\n                didWriteView = _ref$didWriteView === void 0 ? function() {} : _ref$didWriteView,\n                _ref$ignoreRect = _ref.ignoreRect,\n                ignoreRect = _ref$ignoreRect === void 0 ? false : _ref$ignoreRect,\n                _ref$ignoreRectUpdate = _ref.ignoreRectUpdate,\n                ignoreRectUpdate = _ref$ignoreRectUpdate === void 0 ? false : _ref$ignoreRectUpdate,\n                _ref$mixins = _ref.mixins,\n                mixins = _ref$mixins === void 0 ? [] : _ref$mixins;\n            return function(\n                // each view requires reference to store\n                store\n            ) {\n                var props = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n                // root element should not be changed\n                var element = createElement(tag, 'filepond--' + name, attributes);\n\n                // style reference should also not be changed\n                var style = window.getComputedStyle(element, null);\n\n                // element rectangle\n                var rect = updateRect();\n                var frameRect = null;\n\n                // rest state\n                var isResting = false;\n\n                // pretty self explanatory\n                var childViews = [];\n\n                // loaded mixins\n                var activeMixins = [];\n\n                // references to created children\n                var ref = {};\n\n                // state used for each instance\n                var state = {};\n\n                // list of writers that will be called to update this view\n                var writers = [\n                    write, // default writer\n                ];\n\n                var readers = [\n                    read, // default reader\n                ];\n\n                var destroyers = [\n                    destroy, // default destroy\n                ];\n\n                // core view methods\n                var getElement = function getElement() {\n                    return element;\n                };\n                var getChildViews = function getChildViews() {\n                    return childViews.concat();\n                };\n                var getReference = function getReference() {\n                    return ref;\n                };\n                var createChildView = function createChildView(store) {\n                    return function(view, props) {\n                        return view(store, props);\n                    };\n                };\n                var getRect = function getRect() {\n                    if (frameRect) {\n                        return frameRect;\n                    }\n                    frameRect = getViewRect(rect, childViews, [0, 0], [1, 1]);\n                    return frameRect;\n                };\n                var getStyle = function getStyle() {\n                    return style;\n                };\n\n                /**\n                 * Read data from DOM\n                 * @private\n                 */\n                var _read = function _read() {\n                    frameRect = null;\n\n                    // read child views\n                    childViews.forEach(function(child) {\n                        return child._read();\n                    });\n\n                    var shouldUpdate = !(ignoreRectUpdate && rect.width && rect.height);\n                    if (shouldUpdate) {\n                        updateRect(rect, element, style);\n                    }\n\n                    // readers\n                    var api = { root: internalAPI, props: props, rect: rect };\n                    readers.forEach(function(reader) {\n                        return reader(api);\n                    });\n                };\n\n                /**\n                 * Write data to DOM\n                 * @private\n                 */\n                var _write = function _write(ts, frameActions, shouldOptimize) {\n                    // if no actions, we assume that the view is resting\n                    var resting = frameActions.length === 0;\n\n                    // writers\n                    writers.forEach(function(writer) {\n                        var writerResting = writer({\n                            props: props,\n                            root: internalAPI,\n                            actions: frameActions,\n                            timestamp: ts,\n                            shouldOptimize: shouldOptimize,\n                        });\n\n                        if (writerResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // run mixins\n                    activeMixins.forEach(function(mixin) {\n                        // if one of the mixins is still busy after write operation, we are not resting\n                        var mixinResting = mixin.write(ts);\n                        if (mixinResting === false) {\n                            resting = false;\n                        }\n                    });\n\n                    // updates child views that are currently attached to the DOM\n                    childViews\n                        .filter(function(child) {\n                            return !!child.element.parentNode;\n                        })\n                        .forEach(function(child) {\n                            // if a child view is not resting, we are not resting\n                            var childResting = child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            if (!childResting) {\n                                resting = false;\n                            }\n                        });\n\n                    // append new elements to DOM and update those\n                    childViews\n                        //.filter(child => !child.element.parentNode)\n                        .forEach(function(child, index) {\n                            // skip\n                            if (child.element.parentNode) {\n                                return;\n                            }\n\n                            // append to DOM\n                            internalAPI.appendChild(child.element, index);\n\n                            // call read (need to know the size of these elements)\n                            child._read();\n\n                            // re-call write\n                            child._write(\n                                ts,\n                                filterFrameActionsForChild(child, frameActions),\n                                shouldOptimize\n                            );\n\n                            // we just added somthing to the dom, no rest\n                            resting = false;\n                        });\n\n                    // update resting state\n                    isResting = resting;\n\n                    didWriteView({\n                        props: props,\n                        root: internalAPI,\n                        actions: frameActions,\n                        timestamp: ts,\n                    });\n\n                    // let parent know if we are resting\n                    return resting;\n                };\n\n                var _destroy = function _destroy() {\n                    activeMixins.forEach(function(mixin) {\n                        return mixin.destroy();\n                    });\n                    destroyers.forEach(function(destroyer) {\n                        destroyer({ root: internalAPI, props: props });\n                    });\n                    childViews.forEach(function(child) {\n                        return child._destroy();\n                    });\n                };\n\n                // sharedAPI\n                var sharedAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    style: {\n                        get: getStyle,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n                };\n\n                // private API definition\n                var internalAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: getRect,\n                    },\n\n                    // access to custom children references\n                    ref: {\n                        get: getReference,\n                    },\n\n                    // dom modifiers\n                    is: function is(needle) {\n                        return name === needle;\n                    },\n                    appendChild: appendChild(element),\n                    createChildView: createChildView(store),\n                    linkView: function linkView(view) {\n                        childViews.push(view);\n                        return view;\n                    },\n                    unlinkView: function unlinkView(view) {\n                        childViews.splice(childViews.indexOf(view), 1);\n                    },\n                    appendChildView: appendChildView(element, childViews),\n                    removeChildView: removeChildView(element, childViews),\n                    registerWriter: function registerWriter(writer) {\n                        return writers.push(writer);\n                    },\n                    registerReader: function registerReader(reader) {\n                        return readers.push(reader);\n                    },\n                    registerDestroyer: function registerDestroyer(destroyer) {\n                        return destroyers.push(destroyer);\n                    },\n                    invalidateLayout: function invalidateLayout() {\n                        return (element.layoutCalculated = false);\n                    },\n\n                    // access to data store\n                    dispatch: store.dispatch,\n                    query: store.query,\n                });\n\n                // public view API methods\n                var externalAPIDefinition = {\n                    element: {\n                        get: getElement,\n                    },\n\n                    childViews: {\n                        get: getChildViews,\n                    },\n\n                    rect: {\n                        get: getRect,\n                    },\n\n                    resting: {\n                        get: function get() {\n                            return isResting;\n                        },\n                    },\n\n                    isRectIgnored: function isRectIgnored() {\n                        return ignoreRect;\n                    },\n                    _read: _read,\n                    _write: _write,\n                    _destroy: _destroy,\n                };\n\n                // mixin API methods\n                var mixinAPIDefinition = Object.assign({}, sharedAPIDefinition, {\n                    rect: {\n                        get: function get() {\n                            return rect;\n                        },\n                    },\n                });\n\n                // add mixin functionality\n                Object.keys(mixins)\n                    .sort(function(a, b) {\n                        // move styles to the back of the mixin list (so adjustments of other mixins are applied to the props correctly)\n                        if (a === 'styles') {\n                            return 1;\n                        } else if (b === 'styles') {\n                            return -1;\n                        }\n                        return 0;\n                    })\n                    .forEach(function(key) {\n                        var mixinAPI = Mixins[key]({\n                            mixinConfig: mixins[key],\n                            viewProps: props,\n                            viewState: state,\n                            viewInternalAPI: internalAPIDefinition,\n                            viewExternalAPI: externalAPIDefinition,\n                            view: createObject(mixinAPIDefinition),\n                        });\n\n                        if (mixinAPI) {\n                            activeMixins.push(mixinAPI);\n                        }\n                    });\n\n                // construct private api\n                var internalAPI = createObject(internalAPIDefinition);\n\n                // create the view\n                create({\n                    root: internalAPI,\n                    props: props,\n                });\n\n                // append created child views to root node\n                var childCount = getChildCount(element); // need to know the current child count so appending happens in correct order\n                childViews.forEach(function(child, index) {\n                    internalAPI.appendChild(child.element, childCount + index);\n                });\n\n                // call did create\n                didCreateView(internalAPI);\n\n                // expose public api\n                return createObject(externalAPIDefinition);\n            };\n        };\n\n    var createPainter = function createPainter(read, write) {\n        var fps = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 60;\n\n        var name = '__framePainter';\n\n        // set global painter\n        if (window[name]) {\n            window[name].readers.push(read);\n            window[name].writers.push(write);\n            return;\n        }\n\n        window[name] = {\n            readers: [read],\n            writers: [write],\n        };\n\n        var painter = window[name];\n\n        var interval = 1000 / fps;\n        var last = null;\n        var id = null;\n        var requestTick = null;\n        var cancelTick = null;\n\n        var setTimerType = function setTimerType() {\n            if (document.hidden) {\n                requestTick = function requestTick() {\n                    return window.setTimeout(function() {\n                        return tick(performance.now());\n                    }, interval);\n                };\n                cancelTick = function cancelTick() {\n                    return window.clearTimeout(id);\n                };\n            } else {\n                requestTick = function requestTick() {\n                    return window.requestAnimationFrame(tick);\n                };\n                cancelTick = function cancelTick() {\n                    return window.cancelAnimationFrame(id);\n                };\n            }\n        };\n\n        document.addEventListener('visibilitychange', function() {\n            if (cancelTick) cancelTick();\n            setTimerType();\n            tick(performance.now());\n        });\n\n        var tick = function tick(ts) {\n            // queue next tick\n            id = requestTick(tick);\n\n            // limit fps\n            if (!last) {\n                last = ts;\n            }\n\n            var delta = ts - last;\n\n            if (delta <= interval) {\n                // skip frame\n                return;\n            }\n\n            // align next frame\n            last = ts - (delta % interval);\n\n            // update view\n            painter.readers.forEach(function(read) {\n                return read();\n            });\n            painter.writers.forEach(function(write) {\n                return write(ts);\n            });\n        };\n\n        setTimerType();\n        tick(performance.now());\n\n        return {\n            pause: function pause() {\n                cancelTick(id);\n            },\n        };\n    };\n\n    var createRoute = function createRoute(routes, fn) {\n        return function(_ref) {\n            var root = _ref.root,\n                props = _ref.props,\n                _ref$actions = _ref.actions,\n                actions = _ref$actions === void 0 ? [] : _ref$actions,\n                timestamp = _ref.timestamp,\n                shouldOptimize = _ref.shouldOptimize;\n            actions\n                .filter(function(action) {\n                    return routes[action.type];\n                })\n                .forEach(function(action) {\n                    return routes[action.type]({\n                        root: root,\n                        props: props,\n                        action: action.data,\n                        timestamp: timestamp,\n                        shouldOptimize: shouldOptimize,\n                    });\n                });\n\n            if (fn) {\n                fn({\n                    root: root,\n                    props: props,\n                    actions: actions,\n                    timestamp: timestamp,\n                    shouldOptimize: shouldOptimize,\n                });\n            }\n        };\n    };\n\n    var insertBefore = function insertBefore(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode);\n    };\n\n    var insertAfter = function insertAfter(newNode, referenceNode) {\n        return referenceNode.parentNode.insertBefore(newNode, referenceNode.nextSibling);\n    };\n\n    var isArray = function isArray(value) {\n        return Array.isArray(value);\n    };\n\n    var isEmpty = function isEmpty(value) {\n        return value == null;\n    };\n\n    var trim = function trim(str) {\n        return str.trim();\n    };\n\n    var toString = function toString(value) {\n        return '' + value;\n    };\n\n    var toArray = function toArray(value) {\n        var splitter = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ',';\n        if (isEmpty(value)) {\n            return [];\n        }\n        if (isArray(value)) {\n            return value;\n        }\n        return toString(value)\n            .split(splitter)\n            .map(trim)\n            .filter(function(str) {\n                return str.length;\n            });\n    };\n\n    var isBoolean = function isBoolean(value) {\n        return typeof value === 'boolean';\n    };\n\n    var toBoolean = function toBoolean(value) {\n        return isBoolean(value) ? value : value === 'true';\n    };\n\n    var isString = function isString(value) {\n        return typeof value === 'string';\n    };\n\n    var toNumber = function toNumber(value) {\n        return isNumber(value)\n            ? value\n            : isString(value)\n            ? toString(value).replace(/[a-z]+/gi, '')\n            : 0;\n    };\n\n    var toInt = function toInt(value) {\n        return parseInt(toNumber(value), 10);\n    };\n\n    var toFloat = function toFloat(value) {\n        return parseFloat(toNumber(value));\n    };\n\n    var isInt = function isInt(value) {\n        return isNumber(value) && isFinite(value) && Math.floor(value) === value;\n    };\n\n    var toBytes = function toBytes(value) {\n        var base = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        // is in bytes\n        if (isInt(value)) {\n            return value;\n        }\n\n        // is natural file size\n        var naturalFileSize = toString(value).trim();\n\n        // if is value in megabytes\n        if (/MB$/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/MB$i/, '').trim();\n            return toInt(naturalFileSize) * base * base;\n        }\n\n        // if is value in kilobytes\n        if (/KB/i.test(naturalFileSize)) {\n            naturalFileSize = naturalFileSize.replace(/KB$i/, '').trim();\n            return toInt(naturalFileSize) * base;\n        }\n\n        return toInt(naturalFileSize);\n    };\n\n    var isFunction = function isFunction(value) {\n        return typeof value === 'function';\n    };\n\n    var toFunctionReference = function toFunctionReference(string) {\n        var ref = self;\n        var levels = string.split('.');\n        var level = null;\n        while ((level = levels.shift())) {\n            ref = ref[level];\n            if (!ref) {\n                return null;\n            }\n        }\n        return ref;\n    };\n\n    var methods = {\n        process: 'POST',\n        patch: 'PATCH',\n        revert: 'DELETE',\n        fetch: 'GET',\n        restore: 'GET',\n        load: 'GET',\n    };\n\n    var createServerAPI = function createServerAPI(outline) {\n        var api = {};\n\n        api.url = isString(outline) ? outline : outline.url || '';\n        api.timeout = outline.timeout ? parseInt(outline.timeout, 10) : 0;\n        api.headers = outline.headers ? outline.headers : {};\n\n        forin(methods, function(key) {\n            api[key] = createAction(key, outline[key], methods[key], api.timeout, api.headers);\n        });\n\n        // remove process if no url or process on outline\n        api.process = outline.process || isString(outline) || outline.url ? api.process : null;\n\n        // special treatment for remove\n        api.remove = outline.remove || null;\n\n        // remove generic headers from api object\n        delete api.headers;\n\n        return api;\n    };\n\n    var createAction = function createAction(name, outline, method, timeout, headers) {\n        // is explicitely set to null so disable\n        if (outline === null) {\n            return null;\n        }\n\n        // if is custom function, done! Dev handles everything.\n        if (typeof outline === 'function') {\n            return outline;\n        }\n\n        // build action object\n        var action = {\n            url: method === 'GET' || method === 'PATCH' ? '?' + name + '=' : '',\n            method: method,\n            headers: headers,\n            withCredentials: false,\n            timeout: timeout,\n            onload: null,\n            ondata: null,\n            onerror: null,\n        };\n\n        // is a single url\n        if (isString(outline)) {\n            action.url = outline;\n            return action;\n        }\n\n        // overwrite\n        Object.assign(action, outline);\n\n        // see if should reformat headers;\n        if (isString(action.headers)) {\n            var parts = action.headers.split(/:(.+)/);\n            action.headers = {\n                header: parts[0],\n                value: parts[1],\n            };\n        }\n\n        // if is bool withCredentials\n        action.withCredentials = toBoolean(action.withCredentials);\n\n        return action;\n    };\n\n    var toServerAPI = function toServerAPI(value) {\n        return createServerAPI(value);\n    };\n\n    var isNull = function isNull(value) {\n        return value === null;\n    };\n\n    var isObject = function isObject(value) {\n        return typeof value === 'object' && value !== null;\n    };\n\n    var isAPI = function isAPI(value) {\n        return (\n            isObject(value) &&\n            isString(value.url) &&\n            isObject(value.process) &&\n            isObject(value.revert) &&\n            isObject(value.restore) &&\n            isObject(value.fetch)\n        );\n    };\n\n    var getType = function getType(value) {\n        if (isArray(value)) {\n            return 'array';\n        }\n\n        if (isNull(value)) {\n            return 'null';\n        }\n\n        if (isInt(value)) {\n            return 'int';\n        }\n\n        if (/^[0-9]+ ?(?:GB|MB|KB)$/gi.test(value)) {\n            return 'bytes';\n        }\n\n        if (isAPI(value)) {\n            return 'api';\n        }\n\n        return typeof value;\n    };\n\n    var replaceSingleQuotes = function replaceSingleQuotes(str) {\n        return str\n            .replace(/{\\s*'/g, '{\"')\n            .replace(/'\\s*}/g, '\"}')\n            .replace(/'\\s*:/g, '\":')\n            .replace(/:\\s*'/g, ':\"')\n            .replace(/,\\s*'/g, ',\"')\n            .replace(/'\\s*,/g, '\",');\n    };\n\n    var conversionTable = {\n        array: toArray,\n        boolean: toBoolean,\n        int: function int(value) {\n            return getType(value) === 'bytes' ? toBytes(value) : toInt(value);\n        },\n        number: toFloat,\n        float: toFloat,\n        bytes: toBytes,\n        string: function string(value) {\n            return isFunction(value) ? value : toString(value);\n        },\n        function: function _function(value) {\n            return toFunctionReference(value);\n        },\n        serverapi: toServerAPI,\n        object: function object(value) {\n            try {\n                return JSON.parse(replaceSingleQuotes(value));\n            } catch (e) {\n                return null;\n            }\n        },\n    };\n\n    var convertTo = function convertTo(value, type) {\n        return conversionTable[type](value);\n    };\n\n    var getValueByType = function getValueByType(newValue, defaultValue, valueType) {\n        // can always assign default value\n        if (newValue === defaultValue) {\n            return newValue;\n        }\n\n        // get the type of the new value\n        var newValueType = getType(newValue);\n\n        // is valid type?\n        if (newValueType !== valueType) {\n            // is string input, let's attempt to convert\n            var convertedValue = convertTo(newValue, valueType);\n\n            // what is the type now\n            newValueType = getType(convertedValue);\n\n            // no valid conversions found\n            if (convertedValue === null) {\n                throw 'Trying to assign value with incorrect type to \"' +\n                    option +\n                    '\", allowed type: \"' +\n                    valueType +\n                    '\"';\n            } else {\n                newValue = convertedValue;\n            }\n        }\n\n        // assign new value\n        return newValue;\n    };\n\n    var createOption = function createOption(defaultValue, valueType) {\n        var currentValue = defaultValue;\n        return {\n            enumerable: true,\n            get: function get() {\n                return currentValue;\n            },\n            set: function set(newValue) {\n                currentValue = getValueByType(newValue, defaultValue, valueType);\n            },\n        };\n    };\n\n    var createOptions = function createOptions(options) {\n        var obj = {};\n        forin(options, function(prop) {\n            var optionDefinition = options[prop];\n            obj[prop] = createOption(optionDefinition[0], optionDefinition[1]);\n        });\n        return createObject(obj);\n    };\n\n    var createInitialState = function createInitialState(options) {\n        return {\n            // model\n            items: [],\n\n            // timeout used for calling update items\n            listUpdateTimeout: null,\n\n            // timeout used for stacking metadata updates\n            itemUpdateTimeout: null,\n\n            // queue of items waiting to be processed\n            processingQueue: [],\n\n            // options\n            options: createOptions(options),\n        };\n    };\n\n    var fromCamels = function fromCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string\n            .split(/(?=[A-Z])/)\n            .map(function(part) {\n                return part.toLowerCase();\n            })\n            .join(separator);\n    };\n\n    var createOptionAPI = function createOptionAPI(store, options) {\n        var obj = {};\n        forin(options, function(key) {\n            obj[key] = {\n                get: function get() {\n                    return store.getState().options[key];\n                },\n                set: function set(value) {\n                    store.dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: value,\n                    });\n                },\n            };\n        });\n        return obj;\n    };\n\n    var createOptionActions = function createOptionActions(options) {\n        return function(dispatch, query, state) {\n            var obj = {};\n            forin(options, function(key) {\n                var name = fromCamels(key, '_').toUpperCase();\n\n                obj['SET_' + name] = function(action) {\n                    try {\n                        state.options[key] = action.value;\n                    } catch (e) {} // nope, failed\n\n                    // we successfully set the value of this option\n                    dispatch('DID_SET_' + name, { value: state.options[key] });\n                };\n            });\n            return obj;\n        };\n    };\n\n    var createOptionQueries = function createOptionQueries(options) {\n        return function(state) {\n            var obj = {};\n            forin(options, function(key) {\n                obj['GET_' + fromCamels(key, '_').toUpperCase()] = function(action) {\n                    return state.options[key];\n                };\n            });\n            return obj;\n        };\n    };\n\n    var InteractionMethod = {\n        API: 1,\n        DROP: 2,\n        BROWSE: 3,\n        PASTE: 4,\n        NONE: 5,\n    };\n\n    var getUniqueId = function getUniqueId() {\n        return Math.random()\n            .toString(36)\n            .substring(2, 11);\n    };\n\n    function _typeof(obj) {\n        if (typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol') {\n            _typeof = function(obj) {\n                return typeof obj;\n            };\n        } else {\n            _typeof = function(obj) {\n                return obj &&\n                    typeof Symbol === 'function' &&\n                    obj.constructor === Symbol &&\n                    obj !== Symbol.prototype\n                    ? 'symbol'\n                    : typeof obj;\n            };\n        }\n\n        return _typeof(obj);\n    }\n\n    var REACT_ELEMENT_TYPE;\n\n    function _jsx(type, props, key, children) {\n        if (!REACT_ELEMENT_TYPE) {\n            REACT_ELEMENT_TYPE =\n                (typeof Symbol === 'function' && Symbol['for'] && Symbol['for']('react.element')) ||\n                0xeac7;\n        }\n\n        var defaultProps = type && type.defaultProps;\n        var childrenLength = arguments.length - 3;\n\n        if (!props && childrenLength !== 0) {\n            props = {\n                children: void 0,\n            };\n        }\n\n        if (props && defaultProps) {\n            for (var propName in defaultProps) {\n                if (props[propName] === void 0) {\n                    props[propName] = defaultProps[propName];\n                }\n            }\n        } else if (!props) {\n            props = defaultProps || {};\n        }\n\n        if (childrenLength === 1) {\n            props.children = children;\n        } else if (childrenLength > 1) {\n            var childArray = new Array(childrenLength);\n\n            for (var i = 0; i < childrenLength; i++) {\n                childArray[i] = arguments[i + 3];\n            }\n\n            props.children = childArray;\n        }\n\n        return {\n            $$typeof: REACT_ELEMENT_TYPE,\n            type: type,\n            key: key === undefined ? null : '' + key,\n            ref: null,\n            props: props,\n            _owner: null,\n        };\n    }\n\n    function _asyncIterator(iterable) {\n        var method;\n\n        if (typeof Symbol !== 'undefined') {\n            if (Symbol.asyncIterator) {\n                method = iterable[Symbol.asyncIterator];\n                if (method != null) return method.call(iterable);\n            }\n\n            if (Symbol.iterator) {\n                method = iterable[Symbol.iterator];\n                if (method != null) return method.call(iterable);\n            }\n        }\n\n        throw new TypeError('Object is not async iterable');\n    }\n\n    function _AwaitValue(value) {\n        this.wrapped = value;\n    }\n\n    function _AsyncGenerator(gen) {\n        var front, back;\n\n        function send(key, arg) {\n            return new Promise(function(resolve, reject) {\n                var request = {\n                    key: key,\n                    arg: arg,\n                    resolve: resolve,\n                    reject: reject,\n                    next: null,\n                };\n\n                if (back) {\n                    back = back.next = request;\n                } else {\n                    front = back = request;\n                    resume(key, arg);\n                }\n            });\n        }\n\n        function resume(key, arg) {\n            try {\n                var result = gen[key](arg);\n                var value = result.value;\n                var wrappedAwait = value instanceof _AwaitValue;\n                Promise.resolve(wrappedAwait ? value.wrapped : value).then(\n                    function(arg) {\n                        if (wrappedAwait) {\n                            resume('next', arg);\n                            return;\n                        }\n\n                        settle(result.done ? 'return' : 'normal', arg);\n                    },\n                    function(err) {\n                        resume('throw', err);\n                    }\n                );\n            } catch (err) {\n                settle('throw', err);\n            }\n        }\n\n        function settle(type, value) {\n            switch (type) {\n                case 'return':\n                    front.resolve({\n                        value: value,\n                        done: true,\n                    });\n                    break;\n\n                case 'throw':\n                    front.reject(value);\n                    break;\n\n                default:\n                    front.resolve({\n                        value: value,\n                        done: false,\n                    });\n                    break;\n            }\n\n            front = front.next;\n\n            if (front) {\n                resume(front.key, front.arg);\n            } else {\n                back = null;\n            }\n        }\n\n        this._invoke = send;\n\n        if (typeof gen.return !== 'function') {\n            this.return = undefined;\n        }\n    }\n\n    if (typeof Symbol === 'function' && Symbol.asyncIterator) {\n        _AsyncGenerator.prototype[Symbol.asyncIterator] = function() {\n            return this;\n        };\n    }\n\n    _AsyncGenerator.prototype.next = function(arg) {\n        return this._invoke('next', arg);\n    };\n\n    _AsyncGenerator.prototype.throw = function(arg) {\n        return this._invoke('throw', arg);\n    };\n\n    _AsyncGenerator.prototype.return = function(arg) {\n        return this._invoke('return', arg);\n    };\n\n    function _wrapAsyncGenerator(fn) {\n        return function() {\n            return new _AsyncGenerator(fn.apply(this, arguments));\n        };\n    }\n\n    function _awaitAsyncGenerator(value) {\n        return new _AwaitValue(value);\n    }\n\n    function _asyncGeneratorDelegate(inner, awaitWrap) {\n        var iter = {},\n            waiting = false;\n\n        function pump(key, value) {\n            waiting = true;\n            value = new Promise(function(resolve) {\n                resolve(inner[key](value));\n            });\n            return {\n                done: false,\n                value: awaitWrap(value),\n            };\n        }\n\n        if (typeof Symbol === 'function' && Symbol.iterator) {\n            iter[Symbol.iterator] = function() {\n                return this;\n            };\n        }\n\n        iter.next = function(value) {\n            if (waiting) {\n                waiting = false;\n                return value;\n            }\n\n            return pump('next', value);\n        };\n\n        if (typeof inner.throw === 'function') {\n            iter.throw = function(value) {\n                if (waiting) {\n                    waiting = false;\n                    throw value;\n                }\n\n                return pump('throw', value);\n            };\n        }\n\n        if (typeof inner.return === 'function') {\n            iter.return = function(value) {\n                return pump('return', value);\n            };\n        }\n\n        return iter;\n    }\n\n    function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n        try {\n            var info = gen[key](arg);\n            var value = info.value;\n        } catch (error) {\n            reject(error);\n            return;\n        }\n\n        if (info.done) {\n            resolve(value);\n        } else {\n            Promise.resolve(value).then(_next, _throw);\n        }\n    }\n\n    function _asyncToGenerator(fn) {\n        return function() {\n            var self = this,\n                args = arguments;\n            return new Promise(function(resolve, reject) {\n                var gen = fn.apply(self, args);\n\n                function _next(value) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'next', value);\n                }\n\n                function _throw(err) {\n                    asyncGeneratorStep(gen, resolve, reject, _next, _throw, 'throw', err);\n                }\n\n                _next(undefined);\n            });\n        };\n    }\n\n    function _classCallCheck(instance, Constructor) {\n        if (!(instance instanceof Constructor)) {\n            throw new TypeError('Cannot call a class as a function');\n        }\n    }\n\n    function _defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor) descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n\n    function _createClass(Constructor, protoProps, staticProps) {\n        if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n        if (staticProps) _defineProperties(Constructor, staticProps);\n        return Constructor;\n    }\n\n    function _defineEnumerableProperties(obj, descs) {\n        for (var key in descs) {\n            var desc = descs[key];\n            desc.configurable = desc.enumerable = true;\n            if ('value' in desc) desc.writable = true;\n            Object.defineProperty(obj, key, desc);\n        }\n\n        if (Object.getOwnPropertySymbols) {\n            var objectSymbols = Object.getOwnPropertySymbols(descs);\n\n            for (var i = 0; i < objectSymbols.length; i++) {\n                var sym = objectSymbols[i];\n                var desc = descs[sym];\n                desc.configurable = desc.enumerable = true;\n                if ('value' in desc) desc.writable = true;\n                Object.defineProperty(obj, sym, desc);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defaults(obj, defaults) {\n        var keys = Object.getOwnPropertyNames(defaults);\n\n        for (var i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = Object.getOwnPropertyDescriptor(defaults, key);\n\n            if (value && value.configurable && obj[key] === undefined) {\n                Object.defineProperty(obj, key, value);\n            }\n        }\n\n        return obj;\n    }\n\n    function _defineProperty(obj, key, value) {\n        if (key in obj) {\n            Object.defineProperty(obj, key, {\n                value: value,\n                enumerable: true,\n                configurable: true,\n                writable: true,\n            });\n        } else {\n            obj[key] = value;\n        }\n\n        return obj;\n    }\n\n    function _extends() {\n        _extends =\n            Object.assign ||\n            function(target) {\n                for (var i = 1; i < arguments.length; i++) {\n                    var source = arguments[i];\n\n                    for (var key in source) {\n                        if (Object.prototype.hasOwnProperty.call(source, key)) {\n                            target[key] = source[key];\n                        }\n                    }\n                }\n\n                return target;\n            };\n\n        return _extends.apply(this, arguments);\n    }\n\n    function _objectSpread(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n            var ownKeys = Object.keys(source);\n\n            if (typeof Object.getOwnPropertySymbols === 'function') {\n                ownKeys = ownKeys.concat(\n                    Object.getOwnPropertySymbols(source).filter(function(sym) {\n                        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n                    })\n                );\n            }\n\n            ownKeys.forEach(function(key) {\n                _defineProperty(target, key, source[key]);\n            });\n        }\n\n        return target;\n    }\n\n    function ownKeys(object, enumerableOnly) {\n        var keys = Object.keys(object);\n\n        if (Object.getOwnPropertySymbols) {\n            var symbols = Object.getOwnPropertySymbols(object);\n            if (enumerableOnly)\n                symbols = symbols.filter(function(sym) {\n                    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n                });\n            keys.push.apply(keys, symbols);\n        }\n\n        return keys;\n    }\n\n    function _objectSpread2(target) {\n        for (var i = 1; i < arguments.length; i++) {\n            var source = arguments[i] != null ? arguments[i] : {};\n\n            if (i % 2) {\n                ownKeys(source, true).forEach(function(key) {\n                    _defineProperty(target, key, source[key]);\n                });\n            } else if (Object.getOwnPropertyDescriptors) {\n                Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n            } else {\n                ownKeys(source).forEach(function(key) {\n                    Object.defineProperty(\n                        target,\n                        key,\n                        Object.getOwnPropertyDescriptor(source, key)\n                    );\n                });\n            }\n        }\n\n        return target;\n    }\n\n    function _inherits(subClass, superClass) {\n        if (typeof superClass !== 'function' && superClass !== null) {\n            throw new TypeError('Super expression must either be null or a function');\n        }\n\n        subClass.prototype = Object.create(superClass && superClass.prototype, {\n            constructor: {\n                value: subClass,\n                writable: true,\n                configurable: true,\n            },\n        });\n        if (superClass) _setPrototypeOf(subClass, superClass);\n    }\n\n    function _inheritsLoose(subClass, superClass) {\n        subClass.prototype = Object.create(superClass.prototype);\n        subClass.prototype.constructor = subClass;\n        subClass.__proto__ = superClass;\n    }\n\n    function _getPrototypeOf(o) {\n        _getPrototypeOf = Object.setPrototypeOf\n            ? Object.getPrototypeOf\n            : function _getPrototypeOf(o) {\n                  return o.__proto__ || Object.getPrototypeOf(o);\n              };\n        return _getPrototypeOf(o);\n    }\n\n    function _setPrototypeOf(o, p) {\n        _setPrototypeOf =\n            Object.setPrototypeOf ||\n            function _setPrototypeOf(o, p) {\n                o.__proto__ = p;\n                return o;\n            };\n\n        return _setPrototypeOf(o, p);\n    }\n\n    function isNativeReflectConstruct() {\n        if (typeof Reflect === 'undefined' || !Reflect.construct) return false;\n        if (Reflect.construct.sham) return false;\n        if (typeof Proxy === 'function') return true;\n\n        try {\n            Date.prototype.toString.call(Reflect.construct(Date, [], function() {}));\n            return true;\n        } catch (e) {\n            return false;\n        }\n    }\n\n    function _construct(Parent, args, Class) {\n        if (isNativeReflectConstruct()) {\n            _construct = Reflect.construct;\n        } else {\n            _construct = function _construct(Parent, args, Class) {\n                var a = [null];\n                a.push.apply(a, args);\n                var Constructor = Function.bind.apply(Parent, a);\n                var instance = new Constructor();\n                if (Class) _setPrototypeOf(instance, Class.prototype);\n                return instance;\n            };\n        }\n\n        return _construct.apply(null, arguments);\n    }\n\n    function _isNativeFunction(fn) {\n        return Function.toString.call(fn).indexOf('[native code]') !== -1;\n    }\n\n    function _wrapNativeSuper(Class) {\n        var _cache = typeof Map === 'function' ? new Map() : undefined;\n\n        _wrapNativeSuper = function _wrapNativeSuper(Class) {\n            if (Class === null || !_isNativeFunction(Class)) return Class;\n\n            if (typeof Class !== 'function') {\n                throw new TypeError('Super expression must either be null or a function');\n            }\n\n            if (typeof _cache !== 'undefined') {\n                if (_cache.has(Class)) return _cache.get(Class);\n\n                _cache.set(Class, Wrapper);\n            }\n\n            function Wrapper() {\n                return _construct(Class, arguments, _getPrototypeOf(this).constructor);\n            }\n\n            Wrapper.prototype = Object.create(Class.prototype, {\n                constructor: {\n                    value: Wrapper,\n                    enumerable: false,\n                    writable: true,\n                    configurable: true,\n                },\n            });\n            return _setPrototypeOf(Wrapper, Class);\n        };\n\n        return _wrapNativeSuper(Class);\n    }\n\n    function _instanceof(left, right) {\n        if (right != null && typeof Symbol !== 'undefined' && right[Symbol.hasInstance]) {\n            return !!right[Symbol.hasInstance](left);\n        } else {\n            return left instanceof right;\n        }\n    }\n\n    function _interopRequireDefault(obj) {\n        return obj && obj.__esModule\n            ? obj\n            : {\n                  default: obj,\n              };\n    }\n\n    function _interopRequireWildcard(obj) {\n        if (obj && obj.__esModule) {\n            return obj;\n        } else {\n            var newObj = {};\n\n            if (obj != null) {\n                for (var key in obj) {\n                    if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                        var desc =\n                            Object.defineProperty && Object.getOwnPropertyDescriptor\n                                ? Object.getOwnPropertyDescriptor(obj, key)\n                                : {};\n\n                        if (desc.get || desc.set) {\n                            Object.defineProperty(newObj, key, desc);\n                        } else {\n                            newObj[key] = obj[key];\n                        }\n                    }\n                }\n            }\n\n            newObj.default = obj;\n            return newObj;\n        }\n    }\n\n    function _newArrowCheck(innerThis, boundThis) {\n        if (innerThis !== boundThis) {\n            throw new TypeError('Cannot instantiate an arrow function');\n        }\n    }\n\n    function _objectDestructuringEmpty(obj) {\n        if (obj == null) throw new TypeError('Cannot destructure undefined');\n    }\n\n    function _objectWithoutPropertiesLoose(source, excluded) {\n        if (source == null) return {};\n        var target = {};\n        var sourceKeys = Object.keys(source);\n        var key, i;\n\n        for (i = 0; i < sourceKeys.length; i++) {\n            key = sourceKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            target[key] = source[key];\n        }\n\n        return target;\n    }\n\n    function _objectWithoutProperties(source, excluded) {\n        if (source == null) return {};\n\n        var target = _objectWithoutPropertiesLoose(source, excluded);\n\n        var key, i;\n\n        if (Object.getOwnPropertySymbols) {\n            var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n            for (i = 0; i < sourceSymbolKeys.length; i++) {\n                key = sourceSymbolKeys[i];\n                if (excluded.indexOf(key) >= 0) continue;\n                if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n                target[key] = source[key];\n            }\n        }\n\n        return target;\n    }\n\n    function _assertThisInitialized(self) {\n        if (self === void 0) {\n            throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n        }\n\n        return self;\n    }\n\n    function _possibleConstructorReturn(self, call) {\n        if (call && (typeof call === 'object' || typeof call === 'function')) {\n            return call;\n        }\n\n        return _assertThisInitialized(self);\n    }\n\n    function _superPropBase(object, property) {\n        while (!Object.prototype.hasOwnProperty.call(object, property)) {\n            object = _getPrototypeOf(object);\n            if (object === null) break;\n        }\n\n        return object;\n    }\n\n    function _get(target, property, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.get) {\n            _get = Reflect.get;\n        } else {\n            _get = function _get(target, property, receiver) {\n                var base = _superPropBase(target, property);\n\n                if (!base) return;\n                var desc = Object.getOwnPropertyDescriptor(base, property);\n\n                if (desc.get) {\n                    return desc.get.call(receiver);\n                }\n\n                return desc.value;\n            };\n        }\n\n        return _get(target, property, receiver || target);\n    }\n\n    function set(target, property, value, receiver) {\n        if (typeof Reflect !== 'undefined' && Reflect.set) {\n            set = Reflect.set;\n        } else {\n            set = function set(target, property, value, receiver) {\n                var base = _superPropBase(target, property);\n\n                var desc;\n\n                if (base) {\n                    desc = Object.getOwnPropertyDescriptor(base, property);\n\n                    if (desc.set) {\n                        desc.set.call(receiver, value);\n                        return true;\n                    } else if (!desc.writable) {\n                        return false;\n                    }\n                }\n\n                desc = Object.getOwnPropertyDescriptor(receiver, property);\n\n                if (desc) {\n                    if (!desc.writable) {\n                        return false;\n                    }\n\n                    desc.value = value;\n                    Object.defineProperty(receiver, property, desc);\n                } else {\n                    _defineProperty(receiver, property, value);\n                }\n\n                return true;\n            };\n        }\n\n        return set(target, property, value, receiver);\n    }\n\n    function _set(target, property, value, receiver, isStrict) {\n        var s = set(target, property, value, receiver || target);\n\n        if (!s && isStrict) {\n            throw new Error('failed to set property');\n        }\n\n        return value;\n    }\n\n    function _taggedTemplateLiteral(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        return Object.freeze(\n            Object.defineProperties(strings, {\n                raw: {\n                    value: Object.freeze(raw),\n                },\n            })\n        );\n    }\n\n    function _taggedTemplateLiteralLoose(strings, raw) {\n        if (!raw) {\n            raw = strings.slice(0);\n        }\n\n        strings.raw = raw;\n        return strings;\n    }\n\n    function _temporalRef(val, name) {\n        if (val === _temporalUndefined) {\n            throw new ReferenceError(name + ' is not defined - temporal dead zone');\n        } else {\n            return val;\n        }\n    }\n\n    function _readOnlyError(name) {\n        throw new Error('\"' + name + '\" is read-only');\n    }\n\n    function _classNameTDZError(name) {\n        throw new Error('Class \"' + name + '\" cannot be referenced in computed property keys.');\n    }\n\n    var _temporalUndefined = {};\n\n    function _slicedToArray(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _nonIterableRest();\n    }\n\n    function _slicedToArrayLoose(arr, i) {\n        return _arrayWithHoles(arr) || _iterableToArrayLimitLoose(arr, i) || _nonIterableRest();\n    }\n\n    function _toArray(arr) {\n        return _arrayWithHoles(arr) || _iterableToArray(arr) || _nonIterableRest();\n    }\n\n    function _toConsumableArray(arr) {\n        return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n    }\n\n    function _arrayWithoutHoles(arr) {\n        if (Array.isArray(arr)) {\n            for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) arr2[i] = arr[i];\n\n            return arr2;\n        }\n    }\n\n    function _arrayWithHoles(arr) {\n        if (Array.isArray(arr)) return arr;\n    }\n\n    function _iterableToArray(iter) {\n        if (\n            Symbol.iterator in Object(iter) ||\n            Object.prototype.toString.call(iter) === '[object Arguments]'\n        )\n            return Array.from(iter);\n    }\n\n    function _iterableToArrayLimit(arr, i) {\n        var _arr = [];\n        var _n = true;\n        var _d = false;\n        var _e = undefined;\n\n        try {\n            for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n                _arr.push(_s.value);\n\n                if (i && _arr.length === i) break;\n            }\n        } catch (err) {\n            _d = true;\n            _e = err;\n        } finally {\n            try {\n                if (!_n && _i['return'] != null) _i['return']();\n            } finally {\n                if (_d) throw _e;\n            }\n        }\n\n        return _arr;\n    }\n\n    function _iterableToArrayLimitLoose(arr, i) {\n        var _arr = [];\n\n        for (var _iterator = arr[Symbol.iterator](), _step; !(_step = _iterator.next()).done; ) {\n            _arr.push(_step.value);\n\n            if (i && _arr.length === i) break;\n        }\n\n        return _arr;\n    }\n\n    function _nonIterableSpread() {\n        throw new TypeError('Invalid attempt to spread non-iterable instance');\n    }\n\n    function _nonIterableRest() {\n        throw new TypeError('Invalid attempt to destructure non-iterable instance');\n    }\n\n    function _skipFirstGeneratorNext(fn) {\n        return function() {\n            var it = fn.apply(this, arguments);\n            it.next();\n            return it;\n        };\n    }\n\n    function _toPrimitive(input, hint) {\n        if (typeof input !== 'object' || input === null) return input;\n        var prim = input[Symbol.toPrimitive];\n\n        if (prim !== undefined) {\n            var res = prim.call(input, hint || 'default');\n            if (typeof res !== 'object') return res;\n            throw new TypeError('@@toPrimitive must return a primitive value.');\n        }\n\n        return (hint === 'string' ? String : Number)(input);\n    }\n\n    function _toPropertyKey(arg) {\n        var key = _toPrimitive(arg, 'string');\n\n        return typeof key === 'symbol' ? key : String(key);\n    }\n\n    function _initializerWarningHelper(descriptor, context) {\n        throw new Error(\n            'Decorating class property failed. Please ensure that ' +\n                'proposal-class-properties is enabled and set to use loose mode. ' +\n                'To use proposal-class-properties in spec mode with decorators, wait for ' +\n                'the next major version of decorators in stage 2.'\n        );\n    }\n\n    function _initializerDefineProperty(target, property, descriptor, context) {\n        if (!descriptor) return;\n        Object.defineProperty(target, property, {\n            enumerable: descriptor.enumerable,\n            configurable: descriptor.configurable,\n            writable: descriptor.writable,\n            value: descriptor.initializer ? descriptor.initializer.call(context) : void 0,\n        });\n    }\n\n    function _applyDecoratedDescriptor(target, property, decorators, descriptor, context) {\n        var desc = {};\n        Object.keys(descriptor).forEach(function(key) {\n            desc[key] = descriptor[key];\n        });\n        desc.enumerable = !!desc.enumerable;\n        desc.configurable = !!desc.configurable;\n\n        if ('value' in desc || desc.initializer) {\n            desc.writable = true;\n        }\n\n        desc = decorators\n            .slice()\n            .reverse()\n            .reduce(function(desc, decorator) {\n                return decorator(target, property, desc) || desc;\n            }, desc);\n\n        if (context && desc.initializer !== void 0) {\n            desc.value = desc.initializer ? desc.initializer.call(context) : void 0;\n            desc.initializer = undefined;\n        }\n\n        if (desc.initializer === void 0) {\n            Object.defineProperty(target, property, desc);\n            desc = null;\n        }\n\n        return desc;\n    }\n\n    var id = 0;\n\n    function _classPrivateFieldLooseKey(name) {\n        return '__private_' + id++ + '_' + name;\n    }\n\n    function _classPrivateFieldLooseBase(receiver, privateKey) {\n        if (!Object.prototype.hasOwnProperty.call(receiver, privateKey)) {\n            throw new TypeError('attempted to use private field on non-instance');\n        }\n\n        return receiver;\n    }\n\n    function _classPrivateFieldGet(receiver, privateMap) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        if (descriptor.get) {\n            return descriptor.get.call(receiver);\n        }\n\n        return descriptor.value;\n    }\n\n    function _classPrivateFieldSet(receiver, privateMap, value) {\n        var descriptor = privateMap.get(receiver);\n\n        if (!descriptor) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        if (descriptor.set) {\n            descriptor.set.call(receiver, value);\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            descriptor.value = value;\n        }\n\n        return value;\n    }\n\n    function _classPrivateFieldDestructureSet(receiver, privateMap) {\n        if (!privateMap.has(receiver)) {\n            throw new TypeError('attempted to set private field on non-instance');\n        }\n\n        var descriptor = privateMap.get(receiver);\n\n        if (descriptor.set) {\n            if (!('__destrObj' in descriptor)) {\n                descriptor.__destrObj = {\n                    set value(v) {\n                        descriptor.set.call(receiver, v);\n                    },\n                };\n            }\n\n            return descriptor.__destrObj;\n        } else {\n            if (!descriptor.writable) {\n                throw new TypeError('attempted to set read only private field');\n            }\n\n            return descriptor;\n        }\n    }\n\n    function _classStaticPrivateFieldSpecGet(receiver, classConstructor, descriptor) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return descriptor.value;\n    }\n\n    function _classStaticPrivateFieldSpecSet(receiver, classConstructor, descriptor, value) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        if (!descriptor.writable) {\n            throw new TypeError('attempted to set read only private field');\n        }\n\n        descriptor.value = value;\n        return value;\n    }\n\n    function _classStaticPrivateMethodGet(receiver, classConstructor, method) {\n        if (receiver !== classConstructor) {\n            throw new TypeError('Private static access of wrong provenance');\n        }\n\n        return method;\n    }\n\n    function _classStaticPrivateMethodSet() {\n        throw new TypeError('attempted to set read only static private field');\n    }\n\n    function _decorate(decorators, factory, superClass, mixins) {\n        var api = _getDecoratorsApi();\n\n        if (mixins) {\n            for (var i = 0; i < mixins.length; i++) {\n                api = mixins[i](api);\n            }\n        }\n\n        var r = factory(function initialize(O) {\n            api.initializeInstanceElements(O, decorated.elements);\n        }, superClass);\n        var decorated = api.decorateClass(\n            _coalesceClassElements(r.d.map(_createElementDescriptor)),\n            decorators\n        );\n        api.initializeClassElements(r.F, decorated.elements);\n        return api.runClassFinishers(r.F, decorated.finishers);\n    }\n\n    function _getDecoratorsApi() {\n        _getDecoratorsApi = function() {\n            return api;\n        };\n\n        var api = {\n            elementsDefinitionOrder: [['method'], ['field']],\n            initializeInstanceElements: function(O, elements) {\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        if (element.kind === kind && element.placement === 'own') {\n                            this.defineClassElement(O, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            initializeClassElements: function(F, elements) {\n                var proto = F.prototype;\n                ['method', 'field'].forEach(function(kind) {\n                    elements.forEach(function(element) {\n                        var placement = element.placement;\n\n                        if (\n                            element.kind === kind &&\n                            (placement === 'static' || placement === 'prototype')\n                        ) {\n                            var receiver = placement === 'static' ? F : proto;\n                            this.defineClassElement(receiver, element);\n                        }\n                    }, this);\n                }, this);\n            },\n            defineClassElement: function(receiver, element) {\n                var descriptor = element.descriptor;\n\n                if (element.kind === 'field') {\n                    var initializer = element.initializer;\n                    descriptor = {\n                        enumerable: descriptor.enumerable,\n                        writable: descriptor.writable,\n                        configurable: descriptor.configurable,\n                        value: initializer === void 0 ? void 0 : initializer.call(receiver),\n                    };\n                }\n\n                Object.defineProperty(receiver, element.key, descriptor);\n            },\n            decorateClass: function(elements, decorators) {\n                var newElements = [];\n                var finishers = [];\n                var placements = {\n                    static: [],\n                    prototype: [],\n                    own: [],\n                };\n                elements.forEach(function(element) {\n                    this.addElementPlacement(element, placements);\n                }, this);\n                elements.forEach(function(element) {\n                    if (!_hasDecorators(element)) return newElements.push(element);\n                    var elementFinishersExtras = this.decorateElement(element, placements);\n                    newElements.push(elementFinishersExtras.element);\n                    newElements.push.apply(newElements, elementFinishersExtras.extras);\n                    finishers.push.apply(finishers, elementFinishersExtras.finishers);\n                }, this);\n\n                if (!decorators) {\n                    return {\n                        elements: newElements,\n                        finishers: finishers,\n                    };\n                }\n\n                var result = this.decorateConstructor(newElements, decorators);\n                finishers.push.apply(finishers, result.finishers);\n                result.finishers = finishers;\n                return result;\n            },\n            addElementPlacement: function(element, placements, silent) {\n                var keys = placements[element.placement];\n\n                if (!silent && keys.indexOf(element.key) !== -1) {\n                    throw new TypeError('Duplicated element (' + element.key + ')');\n                }\n\n                keys.push(element.key);\n            },\n            decorateElement: function(element, placements) {\n                var extras = [];\n                var finishers = [];\n\n                for (var decorators = element.decorators, i = decorators.length - 1; i >= 0; i--) {\n                    var keys = placements[element.placement];\n                    keys.splice(keys.indexOf(element.key), 1);\n                    var elementObject = this.fromElementDescriptor(element);\n                    var elementFinisherExtras = this.toElementFinisherExtras(\n                        (0, decorators[i])(elementObject) || elementObject\n                    );\n                    element = elementFinisherExtras.element;\n                    this.addElementPlacement(element, placements);\n\n                    if (elementFinisherExtras.finisher) {\n                        finishers.push(elementFinisherExtras.finisher);\n                    }\n\n                    var newExtras = elementFinisherExtras.extras;\n\n                    if (newExtras) {\n                        for (var j = 0; j < newExtras.length; j++) {\n                            this.addElementPlacement(newExtras[j], placements);\n                        }\n\n                        extras.push.apply(extras, newExtras);\n                    }\n                }\n\n                return {\n                    element: element,\n                    finishers: finishers,\n                    extras: extras,\n                };\n            },\n            decorateConstructor: function(elements, decorators) {\n                var finishers = [];\n\n                for (var i = decorators.length - 1; i >= 0; i--) {\n                    var obj = this.fromClassDescriptor(elements);\n                    var elementsAndFinisher = this.toClassDescriptor(\n                        (0, decorators[i])(obj) || obj\n                    );\n\n                    if (elementsAndFinisher.finisher !== undefined) {\n                        finishers.push(elementsAndFinisher.finisher);\n                    }\n\n                    if (elementsAndFinisher.elements !== undefined) {\n                        elements = elementsAndFinisher.elements;\n\n                        for (var j = 0; j < elements.length - 1; j++) {\n                            for (var k = j + 1; k < elements.length; k++) {\n                                if (\n                                    elements[j].key === elements[k].key &&\n                                    elements[j].placement === elements[k].placement\n                                ) {\n                                    throw new TypeError(\n                                        'Duplicated element (' + elements[j].key + ')'\n                                    );\n                                }\n                            }\n                        }\n                    }\n                }\n\n                return {\n                    elements: elements,\n                    finishers: finishers,\n                };\n            },\n            fromElementDescriptor: function(element) {\n                var obj = {\n                    kind: element.kind,\n                    key: element.key,\n                    placement: element.placement,\n                    descriptor: element.descriptor,\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                if (element.kind === 'field') obj.initializer = element.initializer;\n                return obj;\n            },\n            toElementDescriptors: function(elementObjects) {\n                if (elementObjects === undefined) return;\n                return _toArray(elementObjects).map(function(elementObject) {\n                    var element = this.toElementDescriptor(elementObject);\n                    this.disallowProperty(elementObject, 'finisher', 'An element descriptor');\n                    this.disallowProperty(elementObject, 'extras', 'An element descriptor');\n                    return element;\n                }, this);\n            },\n            toElementDescriptor: function(elementObject) {\n                var kind = String(elementObject.kind);\n\n                if (kind !== 'method' && kind !== 'field') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .kind property must be either \"method\" or' +\n                            ' \"field\", but a decorator created an element descriptor with' +\n                            ' .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                var key = _toPropertyKey(elementObject.key);\n\n                var placement = String(elementObject.placement);\n\n                if (placement !== 'static' && placement !== 'prototype' && placement !== 'own') {\n                    throw new TypeError(\n                        'An element descriptor\\'s .placement property must be one of \"static\",' +\n                            ' \"prototype\" or \"own\", but a decorator created an element descriptor' +\n                            ' with .placement \"' +\n                            placement +\n                            '\"'\n                    );\n                }\n\n                var descriptor = elementObject.descriptor;\n                this.disallowProperty(elementObject, 'elements', 'An element descriptor');\n                var element = {\n                    kind: kind,\n                    key: key,\n                    placement: placement,\n                    descriptor: Object.assign({}, descriptor),\n                };\n\n                if (kind !== 'field') {\n                    this.disallowProperty(elementObject, 'initializer', 'A method descriptor');\n                } else {\n                    this.disallowProperty(\n                        descriptor,\n                        'get',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'set',\n                        'The property descriptor of a field descriptor'\n                    );\n                    this.disallowProperty(\n                        descriptor,\n                        'value',\n                        'The property descriptor of a field descriptor'\n                    );\n                    element.initializer = elementObject.initializer;\n                }\n\n                return element;\n            },\n            toElementFinisherExtras: function(elementObject) {\n                var element = this.toElementDescriptor(elementObject);\n\n                var finisher = _optionalCallableProperty(elementObject, 'finisher');\n\n                var extras = this.toElementDescriptors(elementObject.extras);\n                return {\n                    element: element,\n                    finisher: finisher,\n                    extras: extras,\n                };\n            },\n            fromClassDescriptor: function(elements) {\n                var obj = {\n                    kind: 'class',\n                    elements: elements.map(this.fromElementDescriptor, this),\n                };\n                var desc = {\n                    value: 'Descriptor',\n                    configurable: true,\n                };\n                Object.defineProperty(obj, Symbol.toStringTag, desc);\n                return obj;\n            },\n            toClassDescriptor: function(obj) {\n                var kind = String(obj.kind);\n\n                if (kind !== 'class') {\n                    throw new TypeError(\n                        'A class descriptor\\'s .kind property must be \"class\", but a decorator' +\n                            ' created a class descriptor with .kind \"' +\n                            kind +\n                            '\"'\n                    );\n                }\n\n                this.disallowProperty(obj, 'key', 'A class descriptor');\n                this.disallowProperty(obj, 'placement', 'A class descriptor');\n                this.disallowProperty(obj, 'descriptor', 'A class descriptor');\n                this.disallowProperty(obj, 'initializer', 'A class descriptor');\n                this.disallowProperty(obj, 'extras', 'A class descriptor');\n\n                var finisher = _optionalCallableProperty(obj, 'finisher');\n\n                var elements = this.toElementDescriptors(obj.elements);\n                return {\n                    elements: elements,\n                    finisher: finisher,\n                };\n            },\n            runClassFinishers: function(constructor, finishers) {\n                for (var i = 0; i < finishers.length; i++) {\n                    var newConstructor = (0, finishers[i])(constructor);\n\n                    if (newConstructor !== undefined) {\n                        if (typeof newConstructor !== 'function') {\n                            throw new TypeError('Finishers must return a constructor.');\n                        }\n\n                        constructor = newConstructor;\n                    }\n                }\n\n                return constructor;\n            },\n            disallowProperty: function(obj, name, objectType) {\n                if (obj[name] !== undefined) {\n                    throw new TypeError(objectType + \" can't have a .\" + name + ' property.');\n                }\n            },\n        };\n        return api;\n    }\n\n    function _createElementDescriptor(def) {\n        var key = _toPropertyKey(def.key);\n\n        var descriptor;\n\n        if (def.kind === 'method') {\n            descriptor = {\n                value: def.value,\n                writable: true,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'get') {\n            descriptor = {\n                get: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'set') {\n            descriptor = {\n                set: def.value,\n                configurable: true,\n                enumerable: false,\n            };\n        } else if (def.kind === 'field') {\n            descriptor = {\n                configurable: true,\n                writable: true,\n                enumerable: true,\n            };\n        }\n\n        var element = {\n            kind: def.kind === 'field' ? 'field' : 'method',\n            key: key,\n            placement: def.static ? 'static' : def.kind === 'field' ? 'own' : 'prototype',\n            descriptor: descriptor,\n        };\n        if (def.decorators) element.decorators = def.decorators;\n        if (def.kind === 'field') element.initializer = def.value;\n        return element;\n    }\n\n    function _coalesceGetterSetter(element, other) {\n        if (element.descriptor.get !== undefined) {\n            other.descriptor.get = element.descriptor.get;\n        } else {\n            other.descriptor.set = element.descriptor.set;\n        }\n    }\n\n    function _coalesceClassElements(elements) {\n        var newElements = [];\n\n        var isSameElement = function(other) {\n            return (\n                other.kind === 'method' &&\n                other.key === element.key &&\n                other.placement === element.placement\n            );\n        };\n\n        for (var i = 0; i < elements.length; i++) {\n            var element = elements[i];\n            var other;\n\n            if (element.kind === 'method' && (other = newElements.find(isSameElement))) {\n                if (_isDataDescriptor(element.descriptor) || _isDataDescriptor(other.descriptor)) {\n                    if (_hasDecorators(element) || _hasDecorators(other)) {\n                        throw new ReferenceError(\n                            'Duplicated methods (' + element.key + \") can't be decorated.\"\n                        );\n                    }\n\n                    other.descriptor = element.descriptor;\n                } else {\n                    if (_hasDecorators(element)) {\n                        if (_hasDecorators(other)) {\n                            throw new ReferenceError(\n                                \"Decorators can't be placed on different accessors with for \" +\n                                    'the same property (' +\n                                    element.key +\n                                    ').'\n                            );\n                        }\n\n                        other.decorators = element.decorators;\n                    }\n\n                    _coalesceGetterSetter(element, other);\n                }\n            } else {\n                newElements.push(element);\n            }\n        }\n\n        return newElements;\n    }\n\n    function _hasDecorators(element) {\n        return element.decorators && element.decorators.length;\n    }\n\n    function _isDataDescriptor(desc) {\n        return desc !== undefined && !(desc.value === undefined && desc.writable === undefined);\n    }\n\n    function _optionalCallableProperty(obj, name) {\n        var value = obj[name];\n\n        if (value !== undefined && typeof value !== 'function') {\n            throw new TypeError(\"Expected '\" + name + \"' to be a function\");\n        }\n\n        return value;\n    }\n\n    function _classPrivateMethodGet(receiver, privateSet, fn) {\n        if (!privateSet.has(receiver)) {\n            throw new TypeError('attempted to get private field on non-instance');\n        }\n\n        return fn;\n    }\n\n    function _classPrivateMethodSet() {\n        throw new TypeError('attempted to reassign private method');\n    }\n\n    function _wrapRegExp(re, groups) {\n        _wrapRegExp = function(re, groups) {\n            return new BabelRegExp(re, groups);\n        };\n\n        var _RegExp = _wrapNativeSuper(RegExp);\n\n        var _super = RegExp.prototype;\n\n        var _groups = new WeakMap();\n\n        function BabelRegExp(re, groups) {\n            var _this = _RegExp.call(this, re);\n\n            _groups.set(_this, groups);\n\n            return _this;\n        }\n\n        _inherits(BabelRegExp, _RegExp);\n\n        BabelRegExp.prototype.exec = function(str) {\n            var result = _super.exec.call(this, str);\n\n            if (result) result.groups = buildGroups(result, this);\n            return result;\n        };\n\n        BabelRegExp.prototype[Symbol.replace] = function(str, substitution) {\n            if (typeof substitution === 'string') {\n                var groups = _groups.get(this);\n\n                return _super[Symbol.replace].call(\n                    this,\n                    str,\n                    substitution.replace(/\\$<([^>]+)>/g, function(_, name) {\n                        return '$' + groups[name];\n                    })\n                );\n            } else if (typeof substitution === 'function') {\n                var _this = this;\n\n                return _super[Symbol.replace].call(this, str, function() {\n                    var args = [];\n                    args.push.apply(args, arguments);\n\n                    if (typeof args[args.length - 1] !== 'object') {\n                        args.push(buildGroups(args, _this));\n                    }\n\n                    return substitution.apply(this, args);\n                });\n            } else {\n                return _super[Symbol.replace].call(this, str, substitution);\n            }\n        };\n\n        function buildGroups(result, re) {\n            var g = _groups.get(re);\n\n            return Object.keys(g).reduce(function(groups, name) {\n                groups[name] = result[g[name]];\n                return groups;\n            }, Object.create(null));\n        }\n\n        return _wrapRegExp.apply(this, arguments);\n    }\n\n    var arrayRemove = function arrayRemove(arr, index) {\n        return arr.splice(index, 1);\n    };\n\n    var run = function run(cb, sync) {\n        if (sync) {\n            cb();\n        } else if (document.hidden) {\n            Promise.resolve(1).then(cb);\n        } else {\n            setTimeout(cb, 0);\n        }\n    };\n\n    var on = function on() {\n        var listeners = [];\n        var off = function off(event, cb) {\n            arrayRemove(\n                listeners,\n                listeners.findIndex(function(listener) {\n                    return listener.event === event && (listener.cb === cb || !cb);\n                })\n            );\n        };\n        var _fire = function fire(event, args, sync) {\n            listeners\n                .filter(function(listener) {\n                    return listener.event === event;\n                })\n                .map(function(listener) {\n                    return listener.cb;\n                })\n                .forEach(function(cb) {\n                    return run(function() {\n                        return cb.apply(void 0, _toConsumableArray(args));\n                    }, sync);\n                });\n        };\n        return {\n            fireSync: function fireSync(event) {\n                for (\n                    var _len = arguments.length,\n                        args = new Array(_len > 1 ? _len - 1 : 0),\n                        _key = 1;\n                    _key < _len;\n                    _key++\n                ) {\n                    args[_key - 1] = arguments[_key];\n                }\n                _fire(event, args, true);\n            },\n            fire: function fire(event) {\n                for (\n                    var _len2 = arguments.length,\n                        args = new Array(_len2 > 1 ? _len2 - 1 : 0),\n                        _key2 = 1;\n                    _key2 < _len2;\n                    _key2++\n                ) {\n                    args[_key2 - 1] = arguments[_key2];\n                }\n                _fire(event, args, false);\n            },\n            on: function on(event, cb) {\n                listeners.push({ event: event, cb: cb });\n            },\n            onOnce: function onOnce(event, _cb) {\n                listeners.push({\n                    event: event,\n                    cb: function cb() {\n                        off(event, _cb);\n                        _cb.apply(void 0, arguments);\n                    },\n                });\n            },\n            off: off,\n        };\n    };\n\n    var copyObjectPropertiesToObject = function copyObjectPropertiesToObject(\n        src,\n        target,\n        excluded\n    ) {\n        Object.getOwnPropertyNames(src)\n            .filter(function(property) {\n                return !excluded.includes(property);\n            })\n            .forEach(function(key) {\n                return Object.defineProperty(\n                    target,\n                    key,\n                    Object.getOwnPropertyDescriptor(src, key)\n                );\n            });\n    };\n\n    var PRIVATE = [\n        'fire',\n        'process',\n        'revert',\n        'load',\n        'on',\n        'off',\n        'onOnce',\n        'retryLoad',\n        'extend',\n        'archive',\n        'archived',\n        'release',\n        'released',\n        'requestProcessing',\n        'freeze',\n    ];\n\n    var createItemAPI = function createItemAPI(item) {\n        var api = {};\n        copyObjectPropertiesToObject(item, api, PRIVATE);\n        return api;\n    };\n\n    var removeReleasedItems = function removeReleasedItems(items) {\n        items.forEach(function(item, index) {\n            if (item.released) {\n                arrayRemove(items, index);\n            }\n        });\n    };\n\n    var ItemStatus = {\n        INIT: 1,\n        IDLE: 2,\n        PROCESSING_QUEUED: 9,\n        PROCESSING: 3,\n        PROCESSING_COMPLETE: 5,\n        PROCESSING_ERROR: 6,\n        PROCESSING_REVERT_ERROR: 10,\n        LOADING: 7,\n        LOAD_ERROR: 8,\n    };\n\n    var FileOrigin = {\n        INPUT: 1,\n        LIMBO: 2,\n        LOCAL: 3,\n    };\n\n    var getNonNumeric = function getNonNumeric(str) {\n        return /[^0-9]+/.exec(str);\n    };\n\n    var getDecimalSeparator = function getDecimalSeparator() {\n        return getNonNumeric((1.1).toLocaleString())[0];\n    };\n\n    var getThousandsSeparator = function getThousandsSeparator() {\n        // Added for browsers that do not return the thousands separator (happend on native browser Android 4.4.4)\n        // We check against the normal toString output and if they're the same return a comma when decimal separator is a dot\n        var decimalSeparator = getDecimalSeparator();\n        var thousandsStringWithSeparator = (1000.0).toLocaleString();\n        var thousandsStringWithoutSeparator = (1000.0).toString();\n        if (thousandsStringWithSeparator !== thousandsStringWithoutSeparator) {\n            return getNonNumeric(thousandsStringWithSeparator)[0];\n        }\n        return decimalSeparator === '.' ? ',' : '.';\n    };\n\n    var Type = {\n        BOOLEAN: 'boolean',\n        INT: 'int',\n        NUMBER: 'number',\n        STRING: 'string',\n        ARRAY: 'array',\n        OBJECT: 'object',\n        FUNCTION: 'function',\n        ACTION: 'action',\n        SERVER_API: 'serverapi',\n        REGEX: 'regex',\n    };\n\n    // all registered filters\n    var filters = [];\n\n    // loops over matching filters and passes options to each filter, returning the mapped results\n    var applyFilterChain = function applyFilterChain(key, value, utils) {\n        return new Promise(function(resolve, reject) {\n            // find matching filters for this key\n            var matchingFilters = filters\n                .filter(function(f) {\n                    return f.key === key;\n                })\n                .map(function(f) {\n                    return f.cb;\n                });\n\n            // resolve now\n            if (matchingFilters.length === 0) {\n                resolve(value);\n                return;\n            }\n\n            // first filter to kick things of\n            var initialFilter = matchingFilters.shift();\n\n            // chain filters\n            matchingFilters\n                .reduce(\n                    // loop over promises passing value to next promise\n                    function(current, next) {\n                        return current.then(function(value) {\n                            return next(value, utils);\n                        });\n                    },\n\n                    // call initial filter, will return a promise\n                    initialFilter(value, utils)\n\n                    // all executed\n                )\n                .then(function(value) {\n                    return resolve(value);\n                })\n                .catch(function(error) {\n                    return reject(error);\n                });\n        });\n    };\n\n    var applyFilters = function applyFilters(key, value, utils) {\n        return filters\n            .filter(function(f) {\n                return f.key === key;\n            })\n            .map(function(f) {\n                return f.cb(value, utils);\n            });\n    };\n\n    // adds a new filter to the list\n    var addFilter = function addFilter(key, cb) {\n        return filters.push({ key: key, cb: cb });\n    };\n\n    var extendDefaultOptions = function extendDefaultOptions(additionalOptions) {\n        return Object.assign(defaultOptions, additionalOptions);\n    };\n\n    var getOptions = function getOptions() {\n        return Object.assign({}, defaultOptions);\n    };\n\n    var setOptions = function setOptions(opts) {\n        forin(opts, function(key, value) {\n            // key does not exist, so this option cannot be set\n            if (!defaultOptions[key]) {\n                return;\n            }\n            defaultOptions[key][0] = getValueByType(\n                value,\n                defaultOptions[key][0],\n                defaultOptions[key][1]\n            );\n        });\n    };\n\n    // default options on app\n    var defaultOptions = {\n        // the id to add to the root element\n        id: [null, Type.STRING],\n\n        // input field name to use\n        name: ['filepond', Type.STRING],\n\n        // disable the field\n        disabled: [false, Type.BOOLEAN],\n\n        // classname to put on wrapper\n        className: [null, Type.STRING],\n\n        // is the field required\n        required: [false, Type.BOOLEAN],\n\n        // Allow media capture when value is set\n        captureMethod: [null, Type.STRING],\n        // - \"camera\", \"microphone\" or \"camcorder\",\n        // - Does not work with multiple on apple devices\n        // - If set, acceptedFileTypes must be made to match with media wildcard \"image/*\", \"audio/*\" or \"video/*\"\n\n        // sync `acceptedFileTypes` property with `accept` attribute\n        allowSyncAcceptAttribute: [true, Type.BOOLEAN],\n\n        // Feature toggles\n        allowDrop: [true, Type.BOOLEAN], // Allow dropping of files\n        allowBrowse: [true, Type.BOOLEAN], // Allow browsing the file system\n        allowPaste: [true, Type.BOOLEAN], // Allow pasting files\n        allowMultiple: [false, Type.BOOLEAN], // Allow multiple files (disabled by default, as multiple attribute is also required on input to allow multiple)\n        allowReplace: [true, Type.BOOLEAN], // Allow dropping a file on other file to replace it (only works when multiple is set to false)\n        allowRevert: [true, Type.BOOLEAN], // Allows user to revert file upload\n        allowRemove: [true, Type.BOOLEAN], // Allow user to remove a file\n        allowProcess: [true, Type.BOOLEAN], // Allows user to process a file, when set to false, this removes the file upload button\n        allowReorder: [false, Type.BOOLEAN], // Allow reordering of files\n        allowDirectoriesOnly: [false, Type.BOOLEAN], // Allow only selecting directories with browse (no support for filtering dnd at this point)\n\n        // Try store file if `server` not set\n        storeAsFile: [false, Type.BOOLEAN],\n\n        // Revert mode\n        forceRevert: [false, Type.BOOLEAN], // Set to 'force' to require the file to be reverted before removal\n\n        // Input requirements\n        maxFiles: [null, Type.INT], // Max number of files\n        checkValidity: [false, Type.BOOLEAN], // Enables custom validity messages\n\n        // Where to put file\n        itemInsertLocationFreedom: [true, Type.BOOLEAN], // Set to false to always add items to begin or end of list\n        itemInsertLocation: ['before', Type.STRING], // Default index in list to add items that have been dropped at the top of the list\n        itemInsertInterval: [75, Type.INT],\n\n        // Drag 'n Drop related\n        dropOnPage: [false, Type.BOOLEAN], // Allow dropping of files anywhere on page (prevents browser from opening file if dropped outside of Up)\n        dropOnElement: [true, Type.BOOLEAN], // Drop needs to happen on element (set to false to also load drops outside of Up)\n        dropValidation: [false, Type.BOOLEAN], // Enable or disable validating files on drop\n        ignoredFiles: [['.ds_store', 'thumbs.db', 'desktop.ini'], Type.ARRAY],\n\n        // Upload related\n        instantUpload: [true, Type.BOOLEAN], // Should upload files immediately on drop\n        maxParallelUploads: [2, Type.INT], // Maximum files to upload in parallel\n        allowMinimumUploadDuration: [true, Type.BOOLEAN], // if true uploads take at least 750 ms, this ensures the user sees the upload progress giving trust the upload actually happened\n\n        // Chunks\n        chunkUploads: [false, Type.BOOLEAN], // Enable chunked uploads\n        chunkForce: [false, Type.BOOLEAN], // Force use of chunk uploads even for files smaller than chunk size\n        chunkSize: [5000000, Type.INT], // Size of chunks (5MB default)\n        chunkRetryDelays: [[500, 1000, 3000], Type.ARRAY], // Amount of times to retry upload of a chunk when it fails\n\n        // The server api end points to use for uploading (see docs)\n        server: [null, Type.SERVER_API],\n\n        // File size calculations, can set to 1024, this is only used for display, properties use file size base 1000\n        fileSizeBase: [1000, Type.INT],\n\n        // Labels and status messages\n        labelFileSizeBytes: ['bytes', Type.STRING],\n        labelFileSizeKilobytes: ['KB', Type.STRING],\n        labelFileSizeMegabytes: ['MB', Type.STRING],\n        labelFileSizeGigabytes: ['GB', Type.STRING],\n\n        labelDecimalSeparator: [getDecimalSeparator(), Type.STRING], // Default is locale separator\n        labelThousandsSeparator: [getThousandsSeparator(), Type.STRING], // Default is locale separator\n\n        labelIdle: [\n            'Drag & Drop your files or <span class=\"filepond--label-action\">Browse</span>',\n            Type.STRING,\n        ],\n\n        labelInvalidField: ['Field contains invalid files', Type.STRING],\n        labelFileWaitingForSize: ['Waiting for size', Type.STRING],\n        labelFileSizeNotAvailable: ['Size not available', Type.STRING],\n        labelFileCountSingular: ['file in list', Type.STRING],\n        labelFileCountPlural: ['files in list', Type.STRING],\n        labelFileLoading: ['Loading', Type.STRING],\n        labelFileAdded: ['Added', Type.STRING], // assistive only\n        labelFileLoadError: ['Error during load', Type.STRING],\n        labelFileRemoved: ['Removed', Type.STRING], // assistive only\n        labelFileRemoveError: ['Error during remove', Type.STRING],\n        labelFileProcessing: ['Uploading', Type.STRING],\n        labelFileProcessingComplete: ['Upload complete', Type.STRING],\n        labelFileProcessingAborted: ['Upload cancelled', Type.STRING],\n        labelFileProcessingError: ['Error during upload', Type.STRING],\n        labelFileProcessingRevertError: ['Error during revert', Type.STRING],\n\n        labelTapToCancel: ['tap to cancel', Type.STRING],\n        labelTapToRetry: ['tap to retry', Type.STRING],\n        labelTapToUndo: ['tap to undo', Type.STRING],\n\n        labelButtonRemoveItem: ['Remove', Type.STRING],\n        labelButtonAbortItemLoad: ['Abort', Type.STRING],\n        labelButtonRetryItemLoad: ['Retry', Type.STRING],\n        labelButtonAbortItemProcessing: ['Cancel', Type.STRING],\n        labelButtonUndoItemProcessing: ['Undo', Type.STRING],\n        labelButtonRetryItemProcessing: ['Retry', Type.STRING],\n        labelButtonProcessItem: ['Upload', Type.STRING],\n\n        // make sure width and height plus viewpox are even numbers so icons are nicely centered\n        iconRemove: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M11.586 13l-2.293 2.293a1 1 0 0 0 1.414 1.414L13 14.414l2.293 2.293a1 1 0 0 0 1.414-1.414L14.414 13l2.293-2.293a1 1 0 0 0-1.414-1.414L13 11.586l-2.293-2.293a1 1 0 0 0-1.414 1.414L11.586 13z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconProcess: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M14 10.414v3.585a1 1 0 0 1-2 0v-3.585l-1.293 1.293a1 1 0 0 1-1.414-1.415l3-3a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1-1.414 1.415L14 10.414zM9 18a1 1 0 0 1 0-2h8a1 1 0 0 1 0 2H9z\" fill=\"currentColor\" fill-rule=\"evenodd\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconRetry: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M10.81 9.185l-.038.02A4.997 4.997 0 0 0 8 13.683a5 5 0 0 0 5 5 5 5 0 0 0 5-5 1 1 0 0 1 2 0A7 7 0 1 1 9.722 7.496l-.842-.21a.999.999 0 1 1 .484-1.94l3.23.806c.535.133.86.675.73 1.21l-.804 3.233a.997.997 0 0 1-1.21.73.997.997 0 0 1-.73-1.21l.23-.928v-.002z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconUndo: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M9.185 10.81l.02-.038A4.997 4.997 0 0 1 13.683 8a5 5 0 0 1 5 5 5 5 0 0 1-5 5 1 1 0 0 0 0 2A7 7 0 1 0 7.496 9.722l-.21-.842a.999.999 0 1 0-1.94.484l.806 3.23c.133.535.675.86 1.21.73l3.233-.803a.997.997 0 0 0 .73-1.21.997.997 0 0 0-1.21-.73l-.928.23-.002-.001z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        iconDone: [\n            '<svg width=\"26\" height=\"26\" viewBox=\"0 0 26 26\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M18.293 9.293a1 1 0 0 1 1.414 1.414l-7.002 7a1 1 0 0 1-1.414 0l-3.998-4a1 1 0 1 1 1.414-1.414L12 15.586l6.294-6.293z\" fill=\"currentColor\" fill-rule=\"nonzero\"/></svg>',\n            Type.STRING,\n        ],\n\n        // event handlers\n        oninit: [null, Type.FUNCTION],\n        onwarning: [null, Type.FUNCTION],\n        onerror: [null, Type.FUNCTION],\n        onactivatefile: [null, Type.FUNCTION],\n        oninitfile: [null, Type.FUNCTION],\n        onaddfilestart: [null, Type.FUNCTION],\n        onaddfileprogress: [null, Type.FUNCTION],\n        onaddfile: [null, Type.FUNCTION],\n        onprocessfilestart: [null, Type.FUNCTION],\n        onprocessfileprogress: [null, Type.FUNCTION],\n        onprocessfileabort: [null, Type.FUNCTION],\n        onprocessfilerevert: [null, Type.FUNCTION],\n        onprocessfile: [null, Type.FUNCTION],\n        onprocessfiles: [null, Type.FUNCTION],\n        onremovefile: [null, Type.FUNCTION],\n        onpreparefile: [null, Type.FUNCTION],\n        onupdatefiles: [null, Type.FUNCTION],\n        onreorderfiles: [null, Type.FUNCTION],\n\n        // hooks\n        beforeDropFile: [null, Type.FUNCTION],\n        beforeAddFile: [null, Type.FUNCTION],\n        beforeRemoveFile: [null, Type.FUNCTION],\n        beforePrepareFile: [null, Type.FUNCTION],\n\n        // styles\n        stylePanelLayout: [null, Type.STRING], // null 'integrated', 'compact', 'circle'\n        stylePanelAspectRatio: [null, Type.STRING], // null or '3:2' or 1\n        styleItemPanelAspectRatio: [null, Type.STRING],\n        styleButtonRemoveItemPosition: ['left', Type.STRING],\n        styleButtonProcessItemPosition: ['right', Type.STRING],\n        styleLoadIndicatorPosition: ['right', Type.STRING],\n        styleProgressIndicatorPosition: ['right', Type.STRING],\n        styleButtonRemoveItemAlign: [false, Type.BOOLEAN],\n\n        // custom initial files array\n        files: [[], Type.ARRAY],\n\n        // show support by displaying credits\n        credits: [['https://pqina.nl/', 'Powered by PQINA'], Type.ARRAY],\n    };\n\n    var getItemByQuery = function getItemByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return items[0] || null;\n        }\n\n        // query is index\n        if (isInt(query)) {\n            return items[query] || null;\n        }\n\n        // if query is item, get the id\n        if (typeof query === 'object') {\n            query = query.id;\n        }\n\n        // assume query is a string and return item by id\n        return (\n            items.find(function(item) {\n                return item.id === query;\n            }) || null\n        );\n    };\n\n    var getNumericAspectRatioFromString = function getNumericAspectRatioFromString(aspectRatio) {\n        if (isEmpty(aspectRatio)) {\n            return aspectRatio;\n        }\n        if (/:/.test(aspectRatio)) {\n            var parts = aspectRatio.split(':');\n            return parts[1] / parts[0];\n        }\n        return parseFloat(aspectRatio);\n    };\n\n    var getActiveItems = function getActiveItems(items) {\n        return items.filter(function(item) {\n            return !item.archived;\n        });\n    };\n\n    var Status = {\n        EMPTY: 0,\n        IDLE: 1, // waiting\n        ERROR: 2, // a file is in error state\n        BUSY: 3, // busy processing or loading\n        READY: 4, // all files uploaded\n    };\n\n    var res = null;\n    var canUpdateFileInput = function canUpdateFileInput() {\n        if (res === null) {\n            try {\n                var dataTransfer = new DataTransfer();\n                dataTransfer.items.add(new File(['hello world'], 'This_Works.txt'));\n                var el = document.createElement('input');\n                el.setAttribute('type', 'file');\n                el.files = dataTransfer.files;\n                res = el.files.length === 1;\n            } catch (err) {\n                res = false;\n            }\n        }\n        return res;\n    };\n\n    var ITEM_ERROR = [\n        ItemStatus.LOAD_ERROR,\n        ItemStatus.PROCESSING_ERROR,\n        ItemStatus.PROCESSING_REVERT_ERROR,\n    ];\n\n    var ITEM_BUSY = [\n        ItemStatus.LOADING,\n        ItemStatus.PROCESSING,\n        ItemStatus.PROCESSING_QUEUED,\n        ItemStatus.INIT,\n    ];\n\n    var ITEM_READY = [ItemStatus.PROCESSING_COMPLETE];\n\n    var isItemInErrorState = function isItemInErrorState(item) {\n        return ITEM_ERROR.includes(item.status);\n    };\n    var isItemInBusyState = function isItemInBusyState(item) {\n        return ITEM_BUSY.includes(item.status);\n    };\n    var isItemInReadyState = function isItemInReadyState(item) {\n        return ITEM_READY.includes(item.status);\n    };\n\n    var isAsync = function isAsync(state) {\n        return (\n            isObject(state.options.server) &&\n            (isObject(state.options.server.process) || isFunction(state.options.server.process))\n        );\n    };\n\n    var queries = function queries(state) {\n        return {\n            GET_STATUS: function GET_STATUS() {\n                var items = getActiveItems(state.items);\n                var EMPTY = Status.EMPTY,\n                    ERROR = Status.ERROR,\n                    BUSY = Status.BUSY,\n                    IDLE = Status.IDLE,\n                    READY = Status.READY;\n\n                if (items.length === 0) return EMPTY;\n\n                if (items.some(isItemInErrorState)) return ERROR;\n\n                if (items.some(isItemInBusyState)) return BUSY;\n\n                if (items.some(isItemInReadyState)) return READY;\n\n                return IDLE;\n            },\n\n            GET_ITEM: function GET_ITEM(query) {\n                return getItemByQuery(state.items, query);\n            },\n\n            GET_ACTIVE_ITEM: function GET_ACTIVE_ITEM(query) {\n                return getItemByQuery(getActiveItems(state.items), query);\n            },\n\n            GET_ACTIVE_ITEMS: function GET_ACTIVE_ITEMS() {\n                return getActiveItems(state.items);\n            },\n\n            GET_ITEMS: function GET_ITEMS() {\n                return state.items;\n            },\n\n            GET_ITEM_NAME: function GET_ITEM_NAME(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.filename : null;\n            },\n\n            GET_ITEM_SIZE: function GET_ITEM_SIZE(query) {\n                var item = getItemByQuery(state.items, query);\n                return item ? item.fileSize : null;\n            },\n\n            GET_STYLES: function GET_STYLES() {\n                return Object.keys(state.options)\n                    .filter(function(key) {\n                        return /^style/.test(key);\n                    })\n                    .map(function(option) {\n                        return {\n                            name: option,\n                            value: state.options[option],\n                        };\n                    });\n            },\n\n            GET_PANEL_ASPECT_RATIO: function GET_PANEL_ASPECT_RATIO() {\n                var isShapeCircle = /circle/.test(state.options.stylePanelLayout);\n                var aspectRatio = isShapeCircle\n                    ? 1\n                    : getNumericAspectRatioFromString(state.options.stylePanelAspectRatio);\n                return aspectRatio;\n            },\n\n            GET_ITEM_PANEL_ASPECT_RATIO: function GET_ITEM_PANEL_ASPECT_RATIO() {\n                return state.options.styleItemPanelAspectRatio;\n            },\n\n            GET_ITEMS_BY_STATUS: function GET_ITEMS_BY_STATUS(status) {\n                return getActiveItems(state.items).filter(function(item) {\n                    return item.status === status;\n                });\n            },\n\n            GET_TOTAL_ITEMS: function GET_TOTAL_ITEMS() {\n                return getActiveItems(state.items).length;\n            },\n\n            SHOULD_UPDATE_FILE_INPUT: function SHOULD_UPDATE_FILE_INPUT() {\n                return state.options.storeAsFile && canUpdateFileInput() && !isAsync(state);\n            },\n\n            IS_ASYNC: function IS_ASYNC() {\n                return isAsync(state);\n            },\n\n            GET_FILE_SIZE_LABELS: function GET_FILE_SIZE_LABELS(query) {\n                return {\n                    labelBytes: query('GET_LABEL_FILE_SIZE_BYTES') || undefined,\n                    labelKilobytes: query('GET_LABEL_FILE_SIZE_KILOBYTES') || undefined,\n                    labelMegabytes: query('GET_LABEL_FILE_SIZE_MEGABYTES') || undefined,\n                    labelGigabytes: query('GET_LABEL_FILE_SIZE_GIGABYTES') || undefined,\n                };\n            },\n        };\n    };\n\n    var hasRoomForItem = function hasRoomForItem(state) {\n        var count = getActiveItems(state.items).length;\n\n        // if cannot have multiple items, to add one item it should currently not contain items\n        if (!state.options.allowMultiple) {\n            return count === 0;\n        }\n\n        // if allows multiple items, we check if a max item count has been set, if not, there's no limit\n        var maxFileCount = state.options.maxFiles;\n        if (maxFileCount === null) {\n            return true;\n        }\n\n        // we check if the current count is smaller than the max count, if so, another file can still be added\n        if (count < maxFileCount) {\n            return true;\n        }\n\n        // no more room for another file\n        return false;\n    };\n\n    var limit = function limit(value, min, max) {\n        return Math.max(Math.min(max, value), min);\n    };\n\n    var arrayInsert = function arrayInsert(arr, index, item) {\n        return arr.splice(index, 0, item);\n    };\n\n    var insertItem = function insertItem(items, item, index) {\n        if (isEmpty(item)) {\n            return null;\n        }\n\n        // if index is undefined, append\n        if (typeof index === 'undefined') {\n            items.push(item);\n            return item;\n        }\n\n        // limit the index to the size of the items array\n        index = limit(index, 0, items.length);\n\n        // add item to array\n        arrayInsert(items, index, item);\n\n        // expose\n        return item;\n    };\n\n    var isBase64DataURI = function isBase64DataURI(str) {\n        return /^\\s*data:([a-z]+\\/[a-z0-9-+.]+(;[a-z-]+=[a-z0-9-]+)?)?(;base64)?,([a-z0-9!$&',()*+;=\\-._~:@\\/?%\\s]*)\\s*$/i.test(\n            str\n        );\n    };\n\n    var getFilenameFromURL = function getFilenameFromURL(url) {\n        return ('' + url)\n            .split('/')\n            .pop()\n            .split('?')\n            .shift();\n    };\n\n    var getExtensionFromFilename = function getExtensionFromFilename(name) {\n        return name.split('.').pop();\n    };\n\n    var guesstimateExtension = function guesstimateExtension(type) {\n        // if no extension supplied, exit here\n        if (typeof type !== 'string') {\n            return '';\n        }\n\n        // get subtype\n        var subtype = type.split('/').pop();\n\n        // is svg subtype\n        if (/svg/.test(subtype)) {\n            return 'svg';\n        }\n\n        if (/zip|compressed/.test(subtype)) {\n            return 'zip';\n        }\n\n        if (/plain/.test(subtype)) {\n            return 'txt';\n        }\n\n        if (/msword/.test(subtype)) {\n            return 'doc';\n        }\n\n        // if is valid subtype\n        if (/[a-z]+/.test(subtype)) {\n            // always use jpg extension\n            if (subtype === 'jpeg') {\n                return 'jpg';\n            }\n\n            // return subtype\n            return subtype;\n        }\n\n        return '';\n    };\n\n    var leftPad = function leftPad(value) {\n        var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        return (padding + value).slice(-padding.length);\n    };\n\n    var getDateString = function getDateString() {\n        var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : new Date();\n        return (\n            date.getFullYear() +\n            '-' +\n            leftPad(date.getMonth() + 1, '00') +\n            '-' +\n            leftPad(date.getDate(), '00') +\n            '_' +\n            leftPad(date.getHours(), '00') +\n            '-' +\n            leftPad(date.getMinutes(), '00') +\n            '-' +\n            leftPad(date.getSeconds(), '00')\n        );\n    };\n\n    var getFileFromBlob = function getFileFromBlob(blob, filename) {\n        var type = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        var extension = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n        var file =\n            typeof type === 'string'\n                ? blob.slice(0, blob.size, type)\n                : blob.slice(0, blob.size, blob.type);\n        file.lastModifiedDate = new Date();\n\n        // copy relative path\n        if (blob._relativePath) file._relativePath = blob._relativePath;\n\n        // if blob has name property, use as filename if no filename supplied\n        if (!isString(filename)) {\n            filename = getDateString();\n        }\n\n        // if filename supplied but no extension and filename has extension\n        if (filename && extension === null && getExtensionFromFilename(filename)) {\n            file.name = filename;\n        } else {\n            extension = extension || guesstimateExtension(file.type);\n            file.name = filename + (extension ? '.' + extension : '');\n        }\n\n        return file;\n    };\n\n    var getBlobBuilder = function getBlobBuilder() {\n        return (window.BlobBuilder =\n            window.BlobBuilder ||\n            window.WebKitBlobBuilder ||\n            window.MozBlobBuilder ||\n            window.MSBlobBuilder);\n    };\n\n    var createBlob = function createBlob(arrayBuffer, mimeType) {\n        var BB = getBlobBuilder();\n\n        if (BB) {\n            var bb = new BB();\n            bb.append(arrayBuffer);\n            return bb.getBlob(mimeType);\n        }\n\n        return new Blob([arrayBuffer], {\n            type: mimeType,\n        });\n    };\n\n    var getBlobFromByteStringWithMimeType = function getBlobFromByteStringWithMimeType(\n        byteString,\n        mimeType\n    ) {\n        var ab = new ArrayBuffer(byteString.length);\n        var ia = new Uint8Array(ab);\n\n        for (var i = 0; i < byteString.length; i++) {\n            ia[i] = byteString.charCodeAt(i);\n        }\n\n        return createBlob(ab, mimeType);\n    };\n\n    var getMimeTypeFromBase64DataURI = function getMimeTypeFromBase64DataURI(dataURI) {\n        return (/^data:(.+);/.exec(dataURI) || [])[1] || null;\n    };\n\n    var getBase64DataFromBase64DataURI = function getBase64DataFromBase64DataURI(dataURI) {\n        // get data part of string (remove data:image/jpeg...,)\n        var data = dataURI.split(',')[1];\n\n        // remove any whitespace as that causes InvalidCharacterError in IE\n        return data.replace(/\\s/g, '');\n    };\n\n    var getByteStringFromBase64DataURI = function getByteStringFromBase64DataURI(dataURI) {\n        return atob(getBase64DataFromBase64DataURI(dataURI));\n    };\n\n    var getBlobFromBase64DataURI = function getBlobFromBase64DataURI(dataURI) {\n        var mimeType = getMimeTypeFromBase64DataURI(dataURI);\n        var byteString = getByteStringFromBase64DataURI(dataURI);\n\n        return getBlobFromByteStringWithMimeType(byteString, mimeType);\n    };\n\n    var getFileFromBase64DataURI = function getFileFromBase64DataURI(dataURI, filename, extension) {\n        return getFileFromBlob(getBlobFromBase64DataURI(dataURI), filename, null, extension);\n    };\n\n    var getFileNameFromHeader = function getFileNameFromHeader(header) {\n        // test if is content disposition header, if not exit\n        if (!/^content-disposition:/i.test(header)) return null;\n\n        // get filename parts\n        var matches = header\n            .split(/filename=|filename\\*=.+''/)\n            .splice(1)\n            .map(function(name) {\n                return name.trim().replace(/^[\"']|[;\"']{0,2}$/g, '');\n            })\n            .filter(function(name) {\n                return name.length;\n            });\n\n        return matches.length ? decodeURI(matches[matches.length - 1]) : null;\n    };\n\n    var getFileSizeFromHeader = function getFileSizeFromHeader(header) {\n        if (/content-length:/i.test(header)) {\n            var size = header.match(/[0-9]+/)[0];\n            return size ? parseInt(size, 10) : null;\n        }\n        return null;\n    };\n\n    var getTranfserIdFromHeader = function getTranfserIdFromHeader(header) {\n        if (/x-content-transfer-id:/i.test(header)) {\n            var id = (header.split(':')[1] || '').trim();\n            return id || null;\n        }\n        return null;\n    };\n\n    var getFileInfoFromHeaders = function getFileInfoFromHeaders(headers) {\n        var info = {\n            source: null,\n            name: null,\n            size: null,\n        };\n\n        var rows = headers.split('\\n');\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n        try {\n            for (\n                var _iterator = rows[Symbol.iterator](), _step;\n                !(_iteratorNormalCompletion = (_step = _iterator.next()).done);\n                _iteratorNormalCompletion = true\n            ) {\n                var header = _step.value;\n\n                var name = getFileNameFromHeader(header);\n                if (name) {\n                    info.name = name;\n                    continue;\n                }\n\n                var size = getFileSizeFromHeader(header);\n                if (size) {\n                    info.size = size;\n                    continue;\n                }\n\n                var source = getTranfserIdFromHeader(header);\n                if (source) {\n                    info.source = source;\n                    continue;\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return != null) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n\n        return info;\n    };\n\n    var createFileLoader = function createFileLoader(fetchFn) {\n        var state = {\n            source: null,\n            complete: false,\n            progress: 0,\n            size: null,\n            timestamp: null,\n            duration: 0,\n            request: null,\n        };\n\n        var getProgress = function getProgress() {\n            return state.progress;\n        };\n        var abort = function abort() {\n            if (state.request && state.request.abort) {\n                state.request.abort();\n            }\n        };\n\n        // load source\n        var load = function load() {\n            // get quick reference\n            var source = state.source;\n\n            api.fire('init', source);\n\n            // Load Files\n            if (source instanceof File) {\n                api.fire('load', source);\n            } else if (source instanceof Blob) {\n                // Load blobs, set default name to current date\n                api.fire('load', getFileFromBlob(source, source.name));\n            } else if (isBase64DataURI(source)) {\n                // Load base 64, set default name to current date\n                api.fire('load', getFileFromBase64DataURI(source));\n            } else {\n                // Deal as if is external URL, let's load it!\n                loadURL(source);\n            }\n        };\n\n        // loads a url\n        var loadURL = function loadURL(url) {\n            // is remote url and no fetch method supplied\n            if (!fetchFn) {\n                api.fire('error', {\n                    type: 'error',\n                    body: \"Can't load URL\",\n                    code: 400,\n                });\n\n                return;\n            }\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // load file\n            state.request = fetchFn(\n                url,\n                function(response) {\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // done!\n                    state.complete = true;\n\n                    // turn blob response into a file\n                    if (response instanceof Blob) {\n                        response = getFileFromBlob(\n                            response,\n                            response.name || getFilenameFromURL(url)\n                        );\n                    }\n\n                    api.fire(\n                        'load',\n                        // if has received blob, we go with blob, if no response, we return null\n                        response instanceof Blob ? response : response ? response.body : null\n                    );\n                },\n                function(error) {\n                    api.fire(\n                        'error',\n                        typeof error === 'string'\n                            ? {\n                                  type: 'error',\n                                  code: 0,\n                                  body: error,\n                              }\n                            : error\n                    );\n                },\n                function(computable, current, total) {\n                    // collected some meta data already\n                    if (total) {\n                        state.size = total;\n                    }\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // if we can't compute progress, we're not going to fire progress events\n                    if (!computable) {\n                        state.progress = null;\n                        return;\n                    }\n\n                    // update progress percentage\n                    state.progress = current / total;\n\n                    // expose\n                    api.fire('progress', state.progress);\n                },\n                function() {\n                    api.fire('abort');\n                },\n                function(response) {\n                    var fileinfo = getFileInfoFromHeaders(\n                        typeof response === 'string' ? response : response.headers\n                    );\n                    api.fire('meta', {\n                        size: state.size || fileinfo.size,\n                        filename: fileinfo.name,\n                        source: fileinfo.source,\n                    });\n                }\n            );\n        };\n\n        var api = Object.assign({}, on(), {\n            setSource: function setSource(source) {\n                return (state.source = source);\n            },\n            getProgress: getProgress, // file load progress\n            abort: abort, // abort file load\n            load: load, // start load\n        });\n\n        return api;\n    };\n\n    var isGet = function isGet(method) {\n        return /GET|HEAD/.test(method);\n    };\n\n    var sendRequest = function sendRequest(data, url, options) {\n        var api = {\n            onheaders: function onheaders() {},\n            onprogress: function onprogress() {},\n            onload: function onload() {},\n            ontimeout: function ontimeout() {},\n            onerror: function onerror() {},\n            onabort: function onabort() {},\n            abort: function abort() {\n                aborted = true;\n                xhr.abort();\n            },\n        };\n\n        // timeout identifier, only used when timeout is defined\n        var aborted = false;\n        var headersReceived = false;\n\n        // set default options\n        options = Object.assign(\n            {\n                method: 'POST',\n                headers: {},\n                withCredentials: false,\n            },\n            options\n        );\n\n        // encode url\n        url = encodeURI(url);\n\n        // if method is GET, add any received data to url\n\n        if (isGet(options.method) && data) {\n            url =\n                '' +\n                url +\n                encodeURIComponent(typeof data === 'string' ? data : JSON.stringify(data));\n        }\n\n        // create request\n        var xhr = new XMLHttpRequest();\n\n        // progress of load\n        var process = isGet(options.method) ? xhr : xhr.upload;\n        process.onprogress = function(e) {\n            // no progress event when aborted ( onprogress is called once after abort() )\n            if (aborted) {\n                return;\n            }\n\n            api.onprogress(e.lengthComputable, e.loaded, e.total);\n        };\n\n        // tries to get header info to the app as fast as possible\n        xhr.onreadystatechange = function() {\n            // not interesting in these states ('unsent' and 'openend' as they don't give us any additional info)\n            if (xhr.readyState < 2) {\n                return;\n            }\n\n            // no server response\n            if (xhr.readyState === 4 && xhr.status === 0) {\n                return;\n            }\n\n            if (headersReceived) {\n                return;\n            }\n\n            headersReceived = true;\n\n            // we've probably received some useful data in response headers\n            api.onheaders(xhr);\n        };\n\n        // load successful\n        xhr.onload = function() {\n            // is classified as valid response\n            if (xhr.status >= 200 && xhr.status < 300) {\n                api.onload(xhr);\n            } else {\n                api.onerror(xhr);\n            }\n        };\n\n        // error during load\n        xhr.onerror = function() {\n            return api.onerror(xhr);\n        };\n\n        // request aborted\n        xhr.onabort = function() {\n            aborted = true;\n            api.onabort();\n        };\n\n        // request timeout\n        xhr.ontimeout = function() {\n            return api.ontimeout(xhr);\n        };\n\n        // open up open up!\n        xhr.open(options.method, url, true);\n\n        // set timeout if defined (do it after open so IE11 plays ball)\n        if (isInt(options.timeout)) {\n            xhr.timeout = options.timeout;\n        }\n\n        // add headers\n        Object.keys(options.headers).forEach(function(key) {\n            var value = unescape(encodeURIComponent(options.headers[key]));\n            xhr.setRequestHeader(key, value);\n        });\n\n        // set type of response\n        if (options.responseType) {\n            xhr.responseType = options.responseType;\n        }\n\n        // set credentials\n        if (options.withCredentials) {\n            xhr.withCredentials = true;\n        }\n\n        // let's send our data\n        xhr.send(data);\n\n        return api;\n    };\n\n    var createResponse = function createResponse(type, code, body, headers) {\n        return {\n            type: type,\n            code: code,\n            body: body,\n            headers: headers,\n        };\n    };\n\n    var createTimeoutResponse = function createTimeoutResponse(cb) {\n        return function(xhr) {\n            cb(createResponse('error', 0, 'Timeout', xhr.getAllResponseHeaders()));\n        };\n    };\n\n    var hasQS = function hasQS(str) {\n        return /\\?/.test(str);\n    };\n    var buildURL = function buildURL() {\n        var url = '';\n        for (var _len = arguments.length, parts = new Array(_len), _key = 0; _key < _len; _key++) {\n            parts[_key] = arguments[_key];\n        }\n        parts.forEach(function(part) {\n            url += hasQS(url) && hasQS(part) ? part.replace(/\\?/, '&') : part;\n        });\n        return url;\n    };\n\n    var createFetchFunction = function createFetchFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied\n        if (!action || !isString(action.url)) {\n            return null;\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal handler\n        return function(url, load, error, progress, abort, headers) {\n            // do local or remote request based on if the url is external\n            var request = sendRequest(\n                url,\n                buildURL(apiUrl, action.url),\n                Object.assign({}, action, {\n                    responseType: 'blob',\n                })\n            );\n\n            request.onload = function(xhr) {\n                // get headers\n                var headers = xhr.getAllResponseHeaders();\n\n                // get filename\n                var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n                // create response\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        action.method === 'HEAD'\n                            ? null\n                            : getFileFromBlob(onload(xhr.response), filename),\n                        headers\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onheaders = function(xhr) {\n                headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var ChunkStatus = {\n        QUEUED: 0,\n        COMPLETE: 1,\n        PROCESSING: 2,\n        ERROR: 3,\n        WAITING: 4,\n    };\n\n    /*\n                                                       function signature:\n                                                         (file, metadata, load, error, progress, abort, transfer, options) => {\n                                                           return {\n                                                           abort:() => {}\n                                                         }\n                                                       }\n                                                       */\n\n    // apiUrl, action, name, file, metadata, load, error, progress, abort, transfer, options\n    var processFileChunked = function processFileChunked(\n        apiUrl,\n        action,\n        name,\n        file,\n        metadata,\n        load,\n        error,\n        progress,\n        abort,\n        transfer,\n        options\n    ) {\n        // all chunks\n        var chunks = [];\n        var chunkTransferId = options.chunkTransferId,\n            chunkServer = options.chunkServer,\n            chunkSize = options.chunkSize,\n            chunkRetryDelays = options.chunkRetryDelays;\n\n        // default state\n        var state = {\n            serverId: chunkTransferId,\n            aborted: false,\n        };\n\n        // set onload handlers\n        var ondata =\n            action.ondata ||\n            function(fd) {\n                return fd;\n            };\n        var onload =\n            action.onload ||\n            function(xhr, method) {\n                return method === 'HEAD' ? xhr.getResponseHeader('Upload-Offset') : xhr.response;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // create server hook\n        var requestTransferId = function requestTransferId(cb) {\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) formData.append(name, JSON.stringify(metadata));\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata)\n                    : Object.assign({}, action.headers, {\n                          'Upload-Length': file.size,\n                      });\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        var requestTransferOffset = function requestTransferOffset(cb) {\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(state.serverId)\n                    : Object.assign({}, action.headers);\n\n            var requestParams = {\n                headers: headers,\n                method: 'HEAD',\n            };\n\n            var request = sendRequest(null, requestUrl, requestParams);\n\n            request.onload = function(xhr) {\n                return cb(onload(xhr, requestParams.method));\n            };\n\n            request.onerror = function(xhr) {\n                return error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n        };\n\n        // create chunks\n        var lastChunkIndex = Math.floor(file.size / chunkSize);\n        for (var i = 0; i <= lastChunkIndex; i++) {\n            var offset = i * chunkSize;\n            var data = file.slice(offset, offset + chunkSize, 'application/offset+octet-stream');\n            chunks[i] = {\n                index: i,\n                size: data.size,\n                offset: offset,\n                data: data,\n                file: file,\n                progress: 0,\n                retries: _toConsumableArray(chunkRetryDelays),\n                status: ChunkStatus.QUEUED,\n                error: null,\n                request: null,\n                timeout: null,\n            };\n        }\n\n        var completeProcessingChunks = function completeProcessingChunks() {\n            return load(state.serverId);\n        };\n\n        var canProcessChunk = function canProcessChunk(chunk) {\n            return chunk.status === ChunkStatus.QUEUED || chunk.status === ChunkStatus.ERROR;\n        };\n\n        var processChunk = function processChunk(chunk) {\n            // processing is paused, wait here\n            if (state.aborted) return;\n\n            // get next chunk to process\n            chunk = chunk || chunks.find(canProcessChunk);\n\n            // no more chunks to process\n            if (!chunk) {\n                // all done?\n                if (\n                    chunks.every(function(chunk) {\n                        return chunk.status === ChunkStatus.COMPLETE;\n                    })\n                ) {\n                    completeProcessingChunks();\n                }\n\n                // no chunk to handle\n                return;\n            }\n\n            // now processing this chunk\n            chunk.status = ChunkStatus.PROCESSING;\n            chunk.progress = null;\n\n            // allow parsing of formdata\n            var ondata =\n                chunkServer.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onerror =\n                chunkServer.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            // send request object\n            var requestUrl = buildURL(apiUrl, chunkServer.url, state.serverId);\n\n            var headers =\n                typeof chunkServer.headers === 'function'\n                    ? chunkServer.headers(chunk)\n                    : Object.assign({}, chunkServer.headers, {\n                          'Content-Type': 'application/offset+octet-stream',\n                          'Upload-Offset': chunk.offset,\n                          'Upload-Length': file.size,\n                          'Upload-Name': file.name,\n                      });\n\n            var request = (chunk.request = sendRequest(\n                ondata(chunk.data),\n                requestUrl,\n                Object.assign({}, chunkServer, {\n                    headers: headers,\n                })\n            ));\n\n            request.onload = function() {\n                // done!\n                chunk.status = ChunkStatus.COMPLETE;\n\n                // remove request reference\n                chunk.request = null;\n\n                // start processing more chunks\n                processChunks();\n            };\n\n            request.onprogress = function(lengthComputable, loaded, total) {\n                chunk.progress = lengthComputable ? loaded : null;\n                updateTotalProgress();\n            };\n\n            request.onerror = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                chunk.error = onerror(xhr.response) || xhr.statusText;\n                if (!retryProcessChunk(chunk)) {\n                    error(\n                        createResponse(\n                            'error',\n                            xhr.status,\n                            onerror(xhr.response) || xhr.statusText,\n                            xhr.getAllResponseHeaders()\n                        )\n                    );\n                }\n            };\n\n            request.ontimeout = function(xhr) {\n                chunk.status = ChunkStatus.ERROR;\n                chunk.request = null;\n                if (!retryProcessChunk(chunk)) {\n                    createTimeoutResponse(error)(xhr);\n                }\n            };\n\n            request.onabort = function() {\n                chunk.status = ChunkStatus.QUEUED;\n                chunk.request = null;\n                abort();\n            };\n        };\n\n        var retryProcessChunk = function retryProcessChunk(chunk) {\n            // no more retries left\n            if (chunk.retries.length === 0) return false;\n\n            // new retry\n            chunk.status = ChunkStatus.WAITING;\n            clearTimeout(chunk.timeout);\n            chunk.timeout = setTimeout(function() {\n                processChunk(chunk);\n            }, chunk.retries.shift());\n\n            // we're going to retry\n            return true;\n        };\n\n        var updateTotalProgress = function updateTotalProgress() {\n            // calculate total progress fraction\n            var totalBytesTransfered = chunks.reduce(function(p, chunk) {\n                if (p === null || chunk.progress === null) return null;\n                return p + chunk.progress;\n            }, 0);\n\n            // can't compute progress\n            if (totalBytesTransfered === null) return progress(false, 0, 0);\n\n            // calculate progress values\n            var totalSize = chunks.reduce(function(total, chunk) {\n                return total + chunk.size;\n            }, 0);\n\n            // can update progress indicator\n            progress(true, totalBytesTransfered, totalSize);\n        };\n\n        // process new chunks\n        var processChunks = function processChunks() {\n            var totalProcessing = chunks.filter(function(chunk) {\n                return chunk.status === ChunkStatus.PROCESSING;\n            }).length;\n            if (totalProcessing >= 1) return;\n            processChunk();\n        };\n\n        var abortChunks = function abortChunks() {\n            chunks.forEach(function(chunk) {\n                clearTimeout(chunk.timeout);\n                if (chunk.request) {\n                    chunk.request.abort();\n                }\n            });\n        };\n\n        // let's go!\n        if (!state.serverId) {\n            requestTransferId(function(serverId) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // pass back to item so we can use it if something goes wrong\n                transfer(serverId);\n\n                // store internally\n                state.serverId = serverId;\n                processChunks();\n            });\n        } else {\n            requestTransferOffset(function(offset) {\n                // stop here if aborted, might have happened in between request and callback\n                if (state.aborted) return;\n\n                // mark chunks with lower offset as complete\n                chunks\n                    .filter(function(chunk) {\n                        return chunk.offset < offset;\n                    })\n                    .forEach(function(chunk) {\n                        chunk.status = ChunkStatus.COMPLETE;\n                        chunk.progress = chunk.size;\n                    });\n\n                // continue processing\n                processChunks();\n            });\n        }\n\n        return {\n            abort: function abort() {\n                state.aborted = true;\n                abortChunks();\n            },\n        };\n    };\n\n    /*\n                                                               function signature:\n                                                                 (file, metadata, load, error, progress, abort) => {\n                                                                   return {\n                                                                   abort:() => {}\n                                                                 }\n                                                               }\n                                                               */\n    var createFileProcessorFunction = function createFileProcessorFunction(\n        apiUrl,\n        action,\n        name,\n        options\n    ) {\n        return function(file, metadata, load, error, progress, abort, transfer) {\n            // no file received\n            if (!file) return;\n\n            // if was passed a file, and we can chunk it, exit here\n            var canChunkUpload = options.chunkUploads;\n            var shouldChunkUpload = canChunkUpload && file.size > options.chunkSize;\n            var willChunkUpload = canChunkUpload && (shouldChunkUpload || options.chunkForce);\n            if (file instanceof Blob && willChunkUpload)\n                return processFileChunked(\n                    apiUrl,\n                    action,\n                    name,\n                    file,\n                    metadata,\n                    load,\n                    error,\n                    progress,\n                    abort,\n                    transfer,\n                    options\n                );\n\n            // set handlers\n            var ondata =\n                action.ondata ||\n                function(fd) {\n                    return fd;\n                };\n            var onload =\n                action.onload ||\n                function(res) {\n                    return res;\n                };\n            var onerror =\n                action.onerror ||\n                function(res) {\n                    return null;\n                };\n\n            var headers =\n                typeof action.headers === 'function'\n                    ? action.headers(file, metadata) || {}\n                    : Object.assign(\n                          {},\n\n                          action.headers\n                      );\n\n            var requestParams = Object.assign({}, action, {\n                headers: headers,\n            });\n\n            // create formdata object\n            var formData = new FormData();\n\n            // add metadata under same name\n            if (isObject(metadata)) {\n                formData.append(name, JSON.stringify(metadata));\n            }\n\n            // Turn into an array of objects so no matter what the input, we can handle it the same way\n            (file instanceof Blob ? [{ name: null, file: file }] : file).forEach(function(item) {\n                formData.append(\n                    name,\n                    item.file,\n                    item.name === null ? item.file.name : '' + item.name + item.file.name\n                );\n            });\n\n            // send request object\n            var request = sendRequest(\n                ondata(formData),\n                buildURL(apiUrl, action.url),\n                requestParams\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n            request.onprogress = progress;\n            request.onabort = abort;\n\n            // should return request\n            return request;\n        };\n    };\n\n    var createProcessorFunction = function createProcessorFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        var name = arguments.length > 2 ? arguments[2] : undefined;\n        var options = arguments.length > 3 ? arguments[3] : undefined;\n\n        // custom handler (should also handle file, load, error, progress and abort)\n        if (typeof action === 'function')\n            return function() {\n                for (\n                    var _len = arguments.length, params = new Array(_len), _key = 0;\n                    _key < _len;\n                    _key++\n                ) {\n                    params[_key] = arguments[_key];\n                }\n                return action.apply(void 0, [name].concat(params, [options]));\n            };\n\n        // no action supplied\n        if (!action || !isString(action.url)) return null;\n\n        // internal handler\n        return createFileProcessorFunction(apiUrl, action, name, options);\n    };\n\n    /*\n                                                      function signature:\n                                                      (uniqueFileId, load, error) => { }\n                                                      */\n    var createRevertFunction = function createRevertFunction() {\n        var apiUrl = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var action = arguments.length > 1 ? arguments[1] : undefined;\n        // is custom implementation\n        if (typeof action === 'function') {\n            return action;\n        }\n\n        // no action supplied, return stub function, interface will work, but file won't be removed\n        if (!action || !isString(action.url)) {\n            return function(uniqueFileId, load) {\n                return load();\n            };\n        }\n\n        // set onload hanlder\n        var onload =\n            action.onload ||\n            function(res) {\n                return res;\n            };\n        var onerror =\n            action.onerror ||\n            function(res) {\n                return null;\n            };\n\n        // internal implementation\n        return function(uniqueFileId, load, error) {\n            var request = sendRequest(\n                uniqueFileId,\n                apiUrl + action.url,\n                action // contains method, headers and withCredentials properties\n            );\n            request.onload = function(xhr) {\n                load(\n                    createResponse(\n                        'load',\n                        xhr.status,\n                        onload(xhr.response),\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.onerror = function(xhr) {\n                error(\n                    createResponse(\n                        'error',\n                        xhr.status,\n                        onerror(xhr.response) || xhr.statusText,\n                        xhr.getAllResponseHeaders()\n                    )\n                );\n            };\n\n            request.ontimeout = createTimeoutResponse(error);\n\n            return request;\n        };\n    };\n\n    var getRandomNumber = function getRandomNumber() {\n        var min = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n        var max = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n        return min + Math.random() * (max - min);\n    };\n\n    var createPerceivedPerformanceUpdater = function createPerceivedPerformanceUpdater(cb) {\n        var duration = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1000;\n        var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n        var tickMin = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 25;\n        var tickMax = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 250;\n        var timeout = null;\n        var start = Date.now();\n\n        var tick = function tick() {\n            var runtime = Date.now() - start;\n            var delay = getRandomNumber(tickMin, tickMax);\n\n            if (runtime + delay > duration) {\n                delay = runtime + delay - duration;\n            }\n\n            var progress = runtime / duration;\n            if (progress >= 1 || document.hidden) {\n                cb(1);\n                return;\n            }\n\n            cb(progress);\n\n            timeout = setTimeout(tick, delay);\n        };\n\n        if (duration > 0) tick();\n\n        return {\n            clear: function clear() {\n                clearTimeout(timeout);\n            },\n        };\n    };\n\n    var createFileProcessor = function createFileProcessor(processFn, options) {\n        var state = {\n            complete: false,\n            perceivedProgress: 0,\n            perceivedPerformanceUpdater: null,\n            progress: null,\n            timestamp: null,\n            perceivedDuration: 0,\n            duration: 0,\n            request: null,\n            response: null,\n        };\n        var allowMinimumUploadDuration = options.allowMinimumUploadDuration;\n\n        var process = function process(file, metadata) {\n            var progressFn = function progressFn() {\n                // we've not yet started the real download, stop here\n                // the request might not go through, for instance, there might be some server trouble\n                // if state.progress is null, the server does not allow computing progress and we show the spinner instead\n                if (state.duration === 0 || state.progress === null) return;\n\n                // as we're now processing, fire the progress event\n                api.fire('progress', api.getProgress());\n            };\n\n            var completeFn = function completeFn() {\n                state.complete = true;\n                api.fire('load-perceived', state.response.body);\n            };\n\n            // let's start processing\n            api.fire('start');\n\n            // set request start\n            state.timestamp = Date.now();\n\n            // create perceived performance progress indicator\n            state.perceivedPerformanceUpdater = createPerceivedPerformanceUpdater(\n                function(progress) {\n                    state.perceivedProgress = progress;\n                    state.perceivedDuration = Date.now() - state.timestamp;\n\n                    progressFn();\n\n                    // if fake progress is done, and a response has been received,\n                    // and we've not yet called the complete method\n                    if (state.response && state.perceivedProgress === 1 && !state.complete) {\n                        // we done!\n                        completeFn();\n                    }\n                },\n                // random delay as in a list of files you start noticing\n                // files uploading at the exact same speed\n                allowMinimumUploadDuration ? getRandomNumber(750, 1500) : 0\n            );\n\n            // remember request so we can abort it later\n            state.request = processFn(\n                // the file to process\n                file,\n\n                // the metadata to send along\n                metadata,\n\n                // callbacks (load, error, progress, abort, transfer)\n                // load expects the body to be a server id if\n                // you want to make use of revert\n                function(response) {\n                    // we put the response in state so we can access\n                    // it outside of this method\n                    state.response = isObject(response)\n                        ? response\n                        : {\n                              type: 'load',\n                              code: 200,\n                              body: '' + response,\n                              headers: {},\n                          };\n\n                    // update duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // force progress to 1 as we're now done\n                    state.progress = 1;\n\n                    // actual load is done let's share results\n                    api.fire('load', state.response.body);\n\n                    // we are really done\n                    // if perceived progress is 1 ( wait for perceived progress to complete )\n                    // or if server does not support progress ( null )\n                    if (\n                        !allowMinimumUploadDuration ||\n                        (allowMinimumUploadDuration && state.perceivedProgress === 1)\n                    ) {\n                        completeFn();\n                    }\n                },\n\n                // error is expected to be an object with type, code, body\n                function(error) {\n                    // cancel updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // update others about this error\n                    api.fire(\n                        'error',\n                        isObject(error)\n                            ? error\n                            : {\n                                  type: 'error',\n                                  code: 0,\n                                  body: '' + error,\n                              }\n                    );\n                },\n\n                // actual processing progress\n                function(computable, current, total) {\n                    // update actual duration\n                    state.duration = Date.now() - state.timestamp;\n\n                    // update actual progress\n                    state.progress = computable ? current / total : null;\n\n                    progressFn();\n                },\n\n                // abort does not expect a value\n                function() {\n                    // stop updater\n                    state.perceivedPerformanceUpdater.clear();\n\n                    // fire the abort event so we can switch visuals\n                    api.fire('abort', state.response ? state.response.body : null);\n                },\n\n                // register the id for this transfer\n                function(transferId) {\n                    api.fire('transfer', transferId);\n                }\n            );\n        };\n\n        var abort = function abort() {\n            // no request running, can't abort\n            if (!state.request) return;\n\n            // stop updater\n            state.perceivedPerformanceUpdater.clear();\n\n            // abort actual request\n            if (state.request.abort) state.request.abort();\n\n            // if has response object, we've completed the request\n            state.complete = true;\n        };\n\n        var reset = function reset() {\n            abort();\n            state.complete = false;\n            state.perceivedProgress = 0;\n            state.progress = 0;\n            state.timestamp = null;\n            state.perceivedDuration = 0;\n            state.duration = 0;\n            state.request = null;\n            state.response = null;\n        };\n\n        var getProgress = allowMinimumUploadDuration\n            ? function() {\n                  return state.progress ? Math.min(state.progress, state.perceivedProgress) : null;\n              }\n            : function() {\n                  return state.progress || null;\n              };\n\n        var getDuration = allowMinimumUploadDuration\n            ? function() {\n                  return Math.min(state.duration, state.perceivedDuration);\n              }\n            : function() {\n                  return state.duration;\n              };\n\n        var api = Object.assign({}, on(), {\n            process: process, // start processing file\n            abort: abort, // abort active process request\n            getProgress: getProgress,\n            getDuration: getDuration,\n            reset: reset,\n        });\n\n        return api;\n    };\n\n    var getFilenameWithoutExtension = function getFilenameWithoutExtension(name) {\n        return name.substring(0, name.lastIndexOf('.')) || name;\n    };\n\n    var createFileStub = function createFileStub(source) {\n        var data = [source.name, source.size, source.type];\n\n        // is blob or base64, then we need to set the name\n        if (source instanceof Blob || isBase64DataURI(source)) {\n            data[0] = source.name || getDateString();\n        } else if (isBase64DataURI(source)) {\n            // if is base64 data uri we need to determine the average size and type\n            data[1] = source.length;\n            data[2] = getMimeTypeFromBase64DataURI(source);\n        } else if (isString(source)) {\n            // url\n            data[0] = getFilenameFromURL(source);\n            data[1] = 0;\n            data[2] = 'application/octet-stream';\n        }\n\n        return {\n            name: data[0],\n            size: data[1],\n            type: data[2],\n        };\n    };\n\n    var isFile = function isFile(value) {\n        return !!(value instanceof File || (value instanceof Blob && value.name));\n    };\n\n    var deepCloneObject = function deepCloneObject(src) {\n        if (!isObject(src)) return src;\n        var target = isArray(src) ? [] : {};\n        for (var key in src) {\n            if (!src.hasOwnProperty(key)) continue;\n            var v = src[key];\n            target[key] = v && isObject(v) ? deepCloneObject(v) : v;\n        }\n        return target;\n    };\n\n    var createItem = function createItem() {\n        var origin = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n        var serverFileReference =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n        var file = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n        // unique id for this item, is used to identify the item across views\n        var id = getUniqueId();\n\n        /**\n         * Internal item state\n         */\n        var state = {\n            // is archived\n            archived: false,\n\n            // if is frozen, no longer fires events\n            frozen: false,\n\n            // removed from view\n            released: false,\n\n            // original source\n            source: null,\n\n            // file model reference\n            file: file,\n\n            // id of file on server\n            serverFileReference: serverFileReference,\n\n            // id of file transfer on server\n            transferId: null,\n\n            // is aborted\n            processingAborted: false,\n\n            // current item status\n            status: serverFileReference ? ItemStatus.PROCESSING_COMPLETE : ItemStatus.INIT,\n\n            // active processes\n            activeLoader: null,\n            activeProcessor: null,\n        };\n\n        // callback used when abort processing is called to link back to the resolve method\n        var abortProcessingRequestComplete = null;\n\n        /**\n         * Externally added item metadata\n         */\n        var metadata = {};\n\n        // item data\n        var setStatus = function setStatus(status) {\n            return (state.status = status);\n        };\n\n        // fire event unless the item has been archived\n        var fire = function fire(event) {\n            if (state.released || state.frozen) return;\n            for (\n                var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n                _key < _len;\n                _key++\n            ) {\n                params[_key - 1] = arguments[_key];\n            }\n            api.fire.apply(api, [event].concat(params));\n        };\n\n        // file data\n        var getFileExtension = function getFileExtension() {\n            return getExtensionFromFilename(state.file.name);\n        };\n        var getFileType = function getFileType() {\n            return state.file.type;\n        };\n        var getFileSize = function getFileSize() {\n            return state.file.size;\n        };\n        var getFile = function getFile() {\n            return state.file;\n        };\n\n        //\n        // logic to load a file\n        //\n        var load = function load(source, loader, onload) {\n            // remember the original item source\n            state.source = source;\n\n            // source is known\n            api.fireSync('init');\n\n            // file stub is already there\n            if (state.file) {\n                api.fireSync('load-skip');\n                return;\n            }\n\n            // set a stub file object while loading the actual data\n            state.file = createFileStub(source);\n\n            // starts loading\n            loader.on('init', function() {\n                fire('load-init');\n            });\n\n            // we'eve received a size indication, let's update the stub\n            loader.on('meta', function(meta) {\n                // set size of file stub\n                state.file.size = meta.size;\n\n                // set name of file stub\n                state.file.filename = meta.filename;\n\n                // if has received source, we done\n                if (meta.source) {\n                    origin = FileOrigin.LIMBO;\n                    state.serverFileReference = meta.source;\n                    state.status = ItemStatus.PROCESSING_COMPLETE;\n                }\n\n                // size has been updated\n                fire('load-meta');\n            });\n\n            // the file is now loading we need to update the progress indicators\n            loader.on('progress', function(progress) {\n                setStatus(ItemStatus.LOADING);\n\n                fire('load-progress', progress);\n            });\n\n            // an error was thrown while loading the file, we need to switch to error state\n            loader.on('error', function(error) {\n                setStatus(ItemStatus.LOAD_ERROR);\n\n                fire('load-request-error', error);\n            });\n\n            // user or another process aborted the file load (cannot retry)\n            loader.on('abort', function() {\n                setStatus(ItemStatus.INIT);\n                fire('load-abort');\n            });\n\n            // done loading\n            loader.on('load', function(file) {\n                // as we've now loaded the file the loader is no longer required\n                state.activeLoader = null;\n\n                // called when file has loaded succesfully\n                var success = function success(result) {\n                    // set (possibly) transformed file\n                    state.file = isFile(result) ? result : state.file;\n\n                    // file received\n                    if (origin === FileOrigin.LIMBO && state.serverFileReference) {\n                        setStatus(ItemStatus.PROCESSING_COMPLETE);\n                    } else {\n                        setStatus(ItemStatus.IDLE);\n                    }\n\n                    fire('load');\n                };\n\n                var error = function error(result) {\n                    // set original file\n                    state.file = file;\n                    fire('load-meta');\n\n                    setStatus(ItemStatus.LOAD_ERROR);\n                    fire('load-file-error', result);\n                };\n\n                // if we already have a server file reference, we don't need to call the onload method\n                if (state.serverFileReference) {\n                    success(file);\n                    return;\n                }\n\n                // no server id, let's give this file the full treatment\n                onload(file, success, error);\n            });\n\n            // set loader source data\n            loader.setSource(source);\n\n            // set as active loader\n            state.activeLoader = loader;\n\n            // load the source data\n            loader.load();\n        };\n\n        var retryLoad = function retryLoad() {\n            if (!state.activeLoader) {\n                return;\n            }\n            state.activeLoader.load();\n        };\n\n        var abortLoad = function abortLoad() {\n            if (state.activeLoader) {\n                state.activeLoader.abort();\n                return;\n            }\n            setStatus(ItemStatus.INIT);\n            fire('load-abort');\n        };\n\n        //\n        // logic to process a file\n        //\n        var process = function process(processor, onprocess) {\n            // processing was aborted\n            if (state.processingAborted) {\n                state.processingAborted = false;\n                return;\n            }\n\n            // now processing\n            setStatus(ItemStatus.PROCESSING);\n\n            // reset abort callback\n            abortProcessingRequestComplete = null;\n\n            // if no file loaded we'll wait for the load event\n            if (!(state.file instanceof Blob)) {\n                api.on('load', function() {\n                    process(processor, onprocess);\n                });\n                return;\n            }\n\n            // setup processor\n            processor.on('load', function(serverFileReference) {\n                // need this id to be able to revert the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n            });\n\n            // register transfer id\n            processor.on('transfer', function(transferId) {\n                // need this id to be able to revert the upload\n                state.transferId = transferId;\n            });\n\n            processor.on('load-perceived', function(serverFileReference) {\n                // no longer required\n                state.activeProcessor = null;\n\n                // need this id to be able to rever the upload\n                state.transferId = null;\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.PROCESSING_COMPLETE);\n                fire('process-complete', serverFileReference);\n            });\n\n            processor.on('start', function() {\n                fire('process-start');\n            });\n\n            processor.on('error', function(error) {\n                state.activeProcessor = null;\n                setStatus(ItemStatus.PROCESSING_ERROR);\n                fire('process-error', error);\n            });\n\n            processor.on('abort', function(serverFileReference) {\n                state.activeProcessor = null;\n\n                // if file was uploaded but processing was cancelled during perceived processor time store file reference\n                state.serverFileReference = serverFileReference;\n\n                setStatus(ItemStatus.IDLE);\n                fire('process-abort');\n\n                // has timeout so doesn't interfere with remove action\n                if (abortProcessingRequestComplete) {\n                    abortProcessingRequestComplete();\n                }\n            });\n\n            processor.on('progress', function(progress) {\n                fire('process-progress', progress);\n            });\n\n            // when successfully transformed\n            var success = function success(file) {\n                // if was archived in the mean time, don't process\n                if (state.archived) return;\n\n                // process file!\n                processor.process(file, Object.assign({}, metadata));\n            };\n\n            // something went wrong during transform phase\n            var error = console.error;\n\n            // start processing the file\n            onprocess(state.file, success, error);\n\n            // set as active processor\n            state.activeProcessor = processor;\n        };\n\n        var requestProcessing = function requestProcessing() {\n            state.processingAborted = false;\n            setStatus(ItemStatus.PROCESSING_QUEUED);\n        };\n\n        var abortProcessing = function abortProcessing() {\n            return new Promise(function(resolve) {\n                if (!state.activeProcessor) {\n                    state.processingAborted = true;\n\n                    setStatus(ItemStatus.IDLE);\n                    fire('process-abort');\n\n                    resolve();\n                    return;\n                }\n\n                abortProcessingRequestComplete = function abortProcessingRequestComplete() {\n                    resolve();\n                };\n\n                state.activeProcessor.abort();\n            });\n        };\n\n        //\n        // logic to revert a processed file\n        //\n        var revert = function revert(revertFileUpload, forceRevert) {\n            return new Promise(function(resolve, reject) {\n                // a completed upload will have a serverFileReference, a failed chunked upload where\n                // getting a serverId succeeded but >=0 chunks have been uploaded will have transferId set\n                var serverTransferId =\n                    state.serverFileReference !== null\n                        ? state.serverFileReference\n                        : state.transferId;\n\n                // cannot revert without a server id for this process\n                if (serverTransferId === null) {\n                    resolve();\n                    return;\n                }\n\n                // revert the upload (fire and forget)\n                revertFileUpload(\n                    serverTransferId,\n                    function() {\n                        // reset file server id and transfer id as now it's not available on the server\n                        state.serverFileReference = null;\n                        state.transferId = null;\n                        resolve();\n                    },\n                    function(error) {\n                        // don't set error state when reverting is optional, it will always resolve\n                        if (!forceRevert) {\n                            resolve();\n                            return;\n                        }\n\n                        // oh no errors\n                        setStatus(ItemStatus.PROCESSING_REVERT_ERROR);\n                        fire('process-revert-error');\n                        reject(error);\n                    }\n                );\n\n                // fire event\n                setStatus(ItemStatus.IDLE);\n                fire('process-revert');\n            });\n        };\n\n        // exposed methods\n        var _setMetadata = function setMetadata(key, value, silent) {\n            var keys = key.split('.');\n            var root = keys[0];\n            var last = keys.pop();\n            var data = metadata;\n            keys.forEach(function(key) {\n                return (data = data[key]);\n            });\n\n            // compare old value against new value, if they're the same, we're not updating\n            if (JSON.stringify(data[last]) === JSON.stringify(value)) return;\n\n            // update value\n            data[last] = value;\n\n            // fire update\n            fire('metadata-update', {\n                key: root,\n                value: metadata[root],\n                silent: silent,\n            });\n        };\n\n        var getMetadata = function getMetadata(key) {\n            return deepCloneObject(key ? metadata[key] : metadata);\n        };\n\n        var api = Object.assign(\n            {\n                id: {\n                    get: function get() {\n                        return id;\n                    },\n                },\n                origin: {\n                    get: function get() {\n                        return origin;\n                    },\n                    set: function set(value) {\n                        return (origin = value);\n                    },\n                },\n                serverId: {\n                    get: function get() {\n                        return state.serverFileReference;\n                    },\n                },\n                transferId: {\n                    get: function get() {\n                        return state.transferId;\n                    },\n                },\n                status: {\n                    get: function get() {\n                        return state.status;\n                    },\n                },\n                filename: {\n                    get: function get() {\n                        return state.file.name;\n                    },\n                },\n                filenameWithoutExtension: {\n                    get: function get() {\n                        return getFilenameWithoutExtension(state.file.name);\n                    },\n                },\n                fileExtension: { get: getFileExtension },\n                fileType: { get: getFileType },\n                fileSize: { get: getFileSize },\n                file: { get: getFile },\n                relativePath: {\n                    get: function get() {\n                        return state.file._relativePath;\n                    },\n                },\n\n                source: {\n                    get: function get() {\n                        return state.source;\n                    },\n                },\n\n                getMetadata: getMetadata,\n                setMetadata: function setMetadata(key, value, silent) {\n                    if (isObject(key)) {\n                        var data = key;\n                        Object.keys(data).forEach(function(key) {\n                            _setMetadata(key, data[key], value);\n                        });\n                        return key;\n                    }\n                    _setMetadata(key, value, silent);\n                    return value;\n                },\n\n                extend: function extend(name, handler) {\n                    return (itemAPI[name] = handler);\n                },\n\n                abortLoad: abortLoad,\n                retryLoad: retryLoad,\n                requestProcessing: requestProcessing,\n                abortProcessing: abortProcessing,\n\n                load: load,\n                process: process,\n                revert: revert,\n            },\n\n            on(),\n            {\n                freeze: function freeze() {\n                    return (state.frozen = true);\n                },\n\n                release: function release() {\n                    return (state.released = true);\n                },\n                released: {\n                    get: function get() {\n                        return state.released;\n                    },\n                },\n\n                archive: function archive() {\n                    return (state.archived = true);\n                },\n                archived: {\n                    get: function get() {\n                        return state.archived;\n                    },\n                },\n\n                // replace source and file object\n                setFile: function setFile(file) {\n                    return (state.file = file);\n                },\n            }\n        );\n\n        // create it here instead of returning it instantly so we can extend it later\n        var itemAPI = createObject(api);\n\n        return itemAPI;\n    };\n\n    var getItemIndexByQuery = function getItemIndexByQuery(items, query) {\n        // just return first index\n        if (isEmpty(query)) {\n            return 0;\n        }\n\n        // invalid queries\n        if (!isString(query)) {\n            return -1;\n        }\n\n        // return item by id (or -1 if not found)\n        return items.findIndex(function(item) {\n            return item.id === query;\n        });\n    };\n\n    var getItemById = function getItemById(items, itemId) {\n        var index = getItemIndexByQuery(items, itemId);\n        if (index < 0) {\n            return;\n        }\n        return items[index] || null;\n    };\n\n    var fetchBlob = function fetchBlob(url, load, error, progress, abort, headers) {\n        var request = sendRequest(null, url, {\n            method: 'GET',\n            responseType: 'blob',\n        });\n\n        request.onload = function(xhr) {\n            // get headers\n            var headers = xhr.getAllResponseHeaders();\n\n            // get filename\n            var filename = getFileInfoFromHeaders(headers).name || getFilenameFromURL(url);\n\n            // create response\n            load(\n                createResponse('load', xhr.status, getFileFromBlob(xhr.response, filename), headers)\n            );\n        };\n\n        request.onerror = function(xhr) {\n            error(createResponse('error', xhr.status, xhr.statusText, xhr.getAllResponseHeaders()));\n        };\n\n        request.onheaders = function(xhr) {\n            headers(createResponse('headers', xhr.status, null, xhr.getAllResponseHeaders()));\n        };\n\n        request.ontimeout = createTimeoutResponse(error);\n        request.onprogress = progress;\n        request.onabort = abort;\n\n        // should return request\n        return request;\n    };\n\n    var getDomainFromURL = function getDomainFromURL(url) {\n        if (url.indexOf('//') === 0) {\n            url = location.protocol + url;\n        }\n        return url\n            .toLowerCase()\n            .replace('blob:', '')\n            .replace(/([a-z])?:\\/\\//, '$1')\n            .split('/')[0];\n    };\n\n    var isExternalURL = function isExternalURL(url) {\n        return (\n            (url.indexOf(':') > -1 || url.indexOf('//') > -1) &&\n            getDomainFromURL(location.href) !== getDomainFromURL(url)\n        );\n    };\n\n    var dynamicLabel = function dynamicLabel(label) {\n        return function() {\n            return isFunction(label) ? label.apply(void 0, arguments) : label;\n        };\n    };\n\n    var isMockItem = function isMockItem(item) {\n        return !isFile(item.file);\n    };\n\n    var listUpdated = function listUpdated(dispatch, state) {\n        clearTimeout(state.listUpdateTimeout);\n        state.listUpdateTimeout = setTimeout(function() {\n            dispatch('DID_UPDATE_ITEMS', { items: getActiveItems(state.items) });\n        }, 0);\n    };\n\n    var optionalPromise = function optionalPromise(fn) {\n        for (\n            var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1;\n            _key < _len;\n            _key++\n        ) {\n            params[_key - 1] = arguments[_key];\n        }\n        return new Promise(function(resolve) {\n            if (!fn) {\n                return resolve(true);\n            }\n\n            var result = fn.apply(void 0, params);\n\n            if (result == null) {\n                return resolve(true);\n            }\n\n            if (typeof result === 'boolean') {\n                return resolve(result);\n            }\n\n            if (typeof result.then === 'function') {\n                result.then(resolve);\n            }\n        });\n    };\n\n    var sortItems = function sortItems(state, compare) {\n        state.items.sort(function(a, b) {\n            return compare(createItemAPI(a), createItemAPI(b));\n        });\n    };\n\n    // returns item based on state\n    var getItemByQueryFromState = function getItemByQueryFromState(state, itemHandler) {\n        return function() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var query = _ref.query,\n                _ref$success = _ref.success,\n                success = _ref$success === void 0 ? function() {} : _ref$success,\n                _ref$failure = _ref.failure,\n                failure = _ref$failure === void 0 ? function() {} : _ref$failure,\n                options = _objectWithoutProperties(_ref, ['query', 'success', 'failure']);\n            var item = getItemByQuery(state.items, query);\n            if (!item) {\n                failure({\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                });\n\n                return;\n            }\n            itemHandler(item, success, failure, options || {});\n        };\n    };\n\n    var actions = function actions(dispatch, query, state) {\n        return {\n            /**\n             * Aborts all ongoing processes\n             */\n            ABORT_ALL: function ABORT_ALL() {\n                getActiveItems(state.items).forEach(function(item) {\n                    item.freeze();\n                    item.abortLoad();\n                    item.abortProcessing();\n                });\n            },\n\n            /**\n             * Sets initial files\n             */\n            DID_SET_FILES: function DID_SET_FILES(_ref2) {\n                var _ref2$value = _ref2.value,\n                    value = _ref2$value === void 0 ? [] : _ref2$value;\n                // map values to file objects\n                var files = value.map(function(file) {\n                    return {\n                        source: file.source ? file.source : file,\n                        options: file.options,\n                    };\n                });\n\n                // loop over files, if file is in list, leave it be, if not, remove\n                // test if items should be moved\n                var activeItems = getActiveItems(state.items);\n\n                activeItems.forEach(function(item) {\n                    // if item not is in new value, remove\n                    if (\n                        !files.find(function(file) {\n                            return file.source === item.source || file.source === item.file;\n                        })\n                    ) {\n                        dispatch('REMOVE_ITEM', { query: item, remove: false });\n                    }\n                });\n\n                // add new files\n                activeItems = getActiveItems(state.items);\n                files.forEach(function(file, index) {\n                    // if file is already in list\n                    if (\n                        activeItems.find(function(item) {\n                            return item.source === file.source || item.file === file.source;\n                        })\n                    )\n                        return;\n\n                    // not in list, add\n                    dispatch(\n                        'ADD_ITEM',\n                        Object.assign({}, file, {\n                            interactionMethod: InteractionMethod.NONE,\n                            index: index,\n                        })\n                    );\n                });\n            },\n\n            DID_UPDATE_ITEM_METADATA: function DID_UPDATE_ITEM_METADATA(_ref3) {\n                var id = _ref3.id,\n                    action = _ref3.action,\n                    change = _ref3.change;\n                // don't do anything\n                if (change.silent) return;\n\n                // if is called multiple times in close succession we combined all calls together to save resources\n                clearTimeout(state.itemUpdateTimeout);\n                state.itemUpdateTimeout = setTimeout(function() {\n                    var item = getItemById(state.items, id);\n\n                    // only revert and attempt to upload when we're uploading to a server\n                    if (!query('IS_ASYNC')) {\n                        // should we update the output data\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                            action: action,\n                            change: change,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            if (!shouldPrepareOutput) return;\n\n                            dispatch(\n                                'REQUEST_PREPARE_OUTPUT',\n                                {\n                                    query: id,\n                                    item: item,\n                                    success: function success(file) {\n                                        dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                    },\n                                },\n\n                                true\n                            );\n                        });\n\n                        return;\n                    }\n\n                    // if is local item we need to enable upload button so change can be propagated to server\n                    if (item.origin === FileOrigin.LOCAL) {\n                        dispatch('DID_LOAD_ITEM', {\n                            id: item.id,\n                            error: null,\n                            serverFileReference: item.source,\n                        });\n                    }\n\n                    // for async scenarios\n                    var upload = function upload() {\n                        // we push this forward a bit so the interface is updated correctly\n                        setTimeout(function() {\n                            dispatch('REQUEST_ITEM_PROCESSING', { query: id });\n                        }, 32);\n                    };\n\n                    var revert = function revert(doUpload) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(doUpload ? upload : function() {})\n                            .catch(function() {});\n                    };\n\n                    var abort = function abort(doUpload) {\n                        item.abortProcessing().then(doUpload ? upload : function() {});\n                    };\n\n                    // if we should re-upload the file immediately\n                    if (item.status === ItemStatus.PROCESSING_COMPLETE) {\n                        return revert(state.options.instantUpload);\n                    }\n\n                    // if currently uploading, cancel upload\n                    if (item.status === ItemStatus.PROCESSING) {\n                        return abort(state.options.instantUpload);\n                    }\n\n                    if (state.options.instantUpload) {\n                        upload();\n                    }\n                }, 0);\n            },\n\n            MOVE_ITEM: function MOVE_ITEM(_ref4) {\n                var query = _ref4.query,\n                    index = _ref4.index;\n                var item = getItemByQuery(state.items, query);\n                if (!item) return;\n                var currentIndex = state.items.indexOf(item);\n                index = limit(index, 0, state.items.length - 1);\n                if (currentIndex === index) return;\n                state.items.splice(index, 0, state.items.splice(currentIndex, 1)[0]);\n            },\n\n            SORT: function SORT(_ref5) {\n                var compare = _ref5.compare;\n                sortItems(state, compare);\n                dispatch('DID_SORT_ITEMS', {\n                    items: query('GET_ACTIVE_ITEMS'),\n                });\n            },\n\n            ADD_ITEMS: function ADD_ITEMS(_ref6) {\n                var items = _ref6.items,\n                    index = _ref6.index,\n                    interactionMethod = _ref6.interactionMethod,\n                    _ref6$success = _ref6.success,\n                    success = _ref6$success === void 0 ? function() {} : _ref6$success,\n                    _ref6$failure = _ref6.failure,\n                    failure = _ref6$failure === void 0 ? function() {} : _ref6$failure;\n                var currentIndex = index;\n\n                if (index === -1 || typeof index === 'undefined') {\n                    var insertLocation = query('GET_ITEM_INSERT_LOCATION');\n                    var totalItems = query('GET_TOTAL_ITEMS');\n                    currentIndex = insertLocation === 'before' ? 0 : totalItems;\n                }\n\n                var ignoredFiles = query('GET_IGNORED_FILES');\n                var isValidFile = function isValidFile(source) {\n                    return isFile(source)\n                        ? !ignoredFiles.includes(source.name.toLowerCase())\n                        : !isEmpty(source);\n                };\n                var validItems = items.filter(isValidFile);\n\n                var promises = validItems.map(function(source) {\n                    return new Promise(function(resolve, reject) {\n                        dispatch('ADD_ITEM', {\n                            interactionMethod: interactionMethod,\n                            source: source.source || source,\n                            success: resolve,\n                            failure: reject,\n                            index: currentIndex++,\n                            options: source.options || {},\n                        });\n                    });\n                });\n\n                Promise.all(promises)\n                    .then(success)\n                    .catch(failure);\n            },\n\n            /**\n             * @param source\n             * @param index\n             * @param interactionMethod\n             */\n            ADD_ITEM: function ADD_ITEM(_ref7) {\n                var source = _ref7.source,\n                    _ref7$index = _ref7.index,\n                    index = _ref7$index === void 0 ? -1 : _ref7$index,\n                    interactionMethod = _ref7.interactionMethod,\n                    _ref7$success = _ref7.success,\n                    success = _ref7$success === void 0 ? function() {} : _ref7$success,\n                    _ref7$failure = _ref7.failure,\n                    failure = _ref7$failure === void 0 ? function() {} : _ref7$failure,\n                    _ref7$options = _ref7.options,\n                    options = _ref7$options === void 0 ? {} : _ref7$options;\n                // if no source supplied\n                if (isEmpty(source)) {\n                    failure({\n                        error: createResponse('error', 0, 'No source'),\n                        file: null,\n                    });\n\n                    return;\n                }\n\n                // filter out invalid file items, used to filter dropped directory contents\n                if (\n                    isFile(source) &&\n                    state.options.ignoredFiles.includes(source.name.toLowerCase())\n                ) {\n                    // fail silently\n                    return;\n                }\n\n                // test if there's still room in the list of files\n                if (!hasRoomForItem(state)) {\n                    // if multiple allowed, we can't replace\n                    // or if only a single item is allowed but we're not allowed to replace it we exit\n                    if (\n                        state.options.allowMultiple ||\n                        (!state.options.allowMultiple && !state.options.allowReplace)\n                    ) {\n                        var error = createResponse('warning', 0, 'Max files');\n\n                        dispatch('DID_THROW_MAX_FILES', {\n                            source: source,\n                            error: error,\n                        });\n\n                        failure({ error: error, file: null });\n\n                        return;\n                    }\n\n                    // let's replace the item\n                    // id of first item we're about to remove\n                    var _item = getActiveItems(state.items)[0];\n\n                    // if has been processed remove it from the server as well\n                    if (\n                        _item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        _item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        var forceRevert = query('GET_FORCE_REVERT');\n                        _item\n                            .revert(\n                                createRevertFunction(\n                                    state.options.server.url,\n                                    state.options.server.revert\n                                ),\n                                forceRevert\n                            )\n                            .then(function() {\n                                if (!forceRevert) return;\n\n                                // try to add now\n                                dispatch('ADD_ITEM', {\n                                    source: source,\n                                    index: index,\n                                    interactionMethod: interactionMethod,\n                                    success: success,\n                                    failure: failure,\n                                    options: options,\n                                });\n                            })\n                            .catch(function() {}); // no need to handle this catch state for now\n\n                        if (forceRevert) return;\n                    }\n\n                    // remove first item as it will be replaced by this item\n                    dispatch('REMOVE_ITEM', { query: _item.id });\n                }\n\n                // where did the file originate\n                var origin =\n                    options.type === 'local'\n                        ? FileOrigin.LOCAL\n                        : options.type === 'limbo'\n                        ? FileOrigin.LIMBO\n                        : FileOrigin.INPUT;\n\n                // create a new blank item\n                var item = createItem(\n                    // where did this file come from\n                    origin,\n\n                    // an input file never has a server file reference\n                    origin === FileOrigin.INPUT ? null : source,\n\n                    // file mock data, if defined\n                    options.file\n                );\n\n                // set initial meta data\n                Object.keys(options.metadata || {}).forEach(function(key) {\n                    item.setMetadata(key, options.metadata[key]);\n                });\n\n                // created the item, let plugins add methods\n                applyFilters('DID_CREATE_ITEM', item, { query: query, dispatch: dispatch });\n\n                // where to insert new items\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n\n                // adjust index if is not allowed to pick location\n                if (!state.options.itemInsertLocationFreedom) {\n                    index = itemInsertLocation === 'before' ? -1 : state.items.length;\n                }\n\n                // add item to list\n                insertItem(state.items, item, index);\n\n                // sort items in list\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // get a quick reference to the item id\n                var id = item.id;\n\n                // observe item events\n                item.on('init', function() {\n                    dispatch('DID_INIT_ITEM', { id: id });\n                });\n\n                item.on('load-init', function() {\n                    dispatch('DID_START_ITEM_LOAD', { id: id });\n                });\n\n                item.on('load-meta', function() {\n                    dispatch('DID_UPDATE_ITEM_META', { id: id });\n                });\n\n                item.on('load-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_LOAD_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('load-request-error', function(error) {\n                    var mainStatus = dynamicLabel(state.options.labelFileLoadError)(error);\n\n                    // is client error, no way to recover\n                    if (error.code >= 400 && error.code < 500) {\n                        dispatch('DID_THROW_ITEM_INVALID', {\n                            id: id,\n                            error: error,\n                            status: {\n                                main: mainStatus,\n                                sub: error.code + ' (' + error.body + ')',\n                            },\n                        });\n\n                        // reject the file so can be dealt with through API\n                        failure({ error: error, file: createItemAPI(item) });\n                        return;\n                    }\n\n                    // is possible server error, so might be possible to retry\n                    dispatch('DID_THROW_ITEM_LOAD_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: mainStatus,\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('load-file-error', function(error) {\n                    dispatch('DID_THROW_ITEM_INVALID', {\n                        id: id,\n                        error: error.status,\n                        status: error.status,\n                    });\n\n                    failure({ error: error.status, file: createItemAPI(item) });\n                });\n\n                item.on('load-abort', function() {\n                    dispatch('REMOVE_ITEM', { query: id });\n                });\n\n                item.on('load-skip', function() {\n                    item.on('metadata-update', function(change) {\n                        if (!isFile(item.file)) return;\n                        dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                    });\n\n                    dispatch('COMPLETE_LOAD_ITEM', {\n                        query: id,\n                        item: item,\n                        data: {\n                            source: source,\n                            success: success,\n                        },\n                    });\n                });\n\n                item.on('load', function() {\n                    var handleAdd = function handleAdd(shouldAdd) {\n                        // no should not add this file\n                        if (!shouldAdd) {\n                            dispatch('REMOVE_ITEM', {\n                                query: id,\n                            });\n\n                            return;\n                        }\n\n                        // now interested in metadata updates\n                        item.on('metadata-update', function(change) {\n                            dispatch('DID_UPDATE_ITEM_METADATA', { id: id, change: change });\n                        });\n\n                        // let plugins decide if the output data should be prepared at this point\n                        // means we'll do this and wait for idle state\n                        applyFilterChain('SHOULD_PREPARE_OUTPUT', false, {\n                            item: item,\n                            query: query,\n                        }).then(function(shouldPrepareOutput) {\n                            // plugins determined the output data should be prepared (or not), can be adjusted with beforePrepareOutput hook\n                            var beforePrepareFile = query('GET_BEFORE_PREPARE_FILE');\n                            if (beforePrepareFile)\n                                shouldPrepareOutput = beforePrepareFile(item, shouldPrepareOutput);\n\n                            var loadComplete = function loadComplete() {\n                                dispatch('COMPLETE_LOAD_ITEM', {\n                                    query: id,\n                                    item: item,\n                                    data: {\n                                        source: source,\n                                        success: success,\n                                    },\n                                });\n\n                                listUpdated(dispatch, state);\n                            };\n\n                            // exit\n                            if (shouldPrepareOutput) {\n                                // wait for idle state and then run PREPARE_OUTPUT\n                                dispatch(\n                                    'REQUEST_PREPARE_OUTPUT',\n                                    {\n                                        query: id,\n                                        item: item,\n                                        success: function success(file) {\n                                            dispatch('DID_PREPARE_OUTPUT', { id: id, file: file });\n                                            loadComplete();\n                                        },\n                                    },\n\n                                    true\n                                );\n\n                                return;\n                            }\n\n                            loadComplete();\n                        });\n                    };\n\n                    // item loaded, allow plugins to\n                    // - read data (quickly)\n                    // - add metadata\n                    applyFilterChain('DID_LOAD_ITEM', item, { query: query, dispatch: dispatch })\n                        .then(function() {\n                            optionalPromise(query('GET_BEFORE_ADD_FILE'), createItemAPI(item)).then(\n                                handleAdd\n                            );\n                        })\n                        .catch(function(e) {\n                            if (!e || !e.error || !e.status) return handleAdd(false);\n                            dispatch('DID_THROW_ITEM_INVALID', {\n                                id: id,\n                                error: e.error,\n                                status: e.status,\n                            });\n                        });\n                });\n\n                item.on('process-start', function() {\n                    dispatch('DID_START_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-progress', function(progress) {\n                    dispatch('DID_UPDATE_ITEM_PROCESS_PROGRESS', { id: id, progress: progress });\n                });\n\n                item.on('process-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-revert-error', function(error) {\n                    dispatch('DID_THROW_ITEM_PROCESSING_REVERT_ERROR', {\n                        id: id,\n                        error: error,\n                        status: {\n                            main: dynamicLabel(state.options.labelFileProcessingRevertError)(error),\n                            sub: state.options.labelTapToRetry,\n                        },\n                    });\n                });\n\n                item.on('process-complete', function(serverFileReference) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: id,\n                        error: null,\n                        serverFileReference: serverFileReference,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: serverFileReference });\n                });\n\n                item.on('process-abort', function() {\n                    dispatch('DID_ABORT_ITEM_PROCESSING', { id: id });\n                });\n\n                item.on('process-revert', function() {\n                    dispatch('DID_REVERT_ITEM_PROCESSING', { id: id });\n                    dispatch('DID_DEFINE_VALUE', { id: id, value: null });\n                });\n\n                // let view know the item has been inserted\n                dispatch('DID_ADD_ITEM', {\n                    id: id,\n                    index: index,\n                    interactionMethod: interactionMethod,\n                });\n\n                listUpdated(dispatch, state);\n\n                // start loading the source\n                var _ref8 = state.options.server || {},\n                    url = _ref8.url,\n                    load = _ref8.load,\n                    restore = _ref8.restore,\n                    fetch = _ref8.fetch;\n\n                item.load(\n                    source,\n\n                    // this creates a function that loads the file based on the type of file (string, base64, blob, file) and location of file (local, remote, limbo)\n                    createFileLoader(\n                        origin === FileOrigin.INPUT\n                            ? // input, if is remote, see if should use custom fetch, else use default fetchBlob\n                              isString(source) && isExternalURL(source)\n                                ? fetch\n                                    ? createFetchFunction(url, fetch)\n                                    : fetchBlob // remote url\n                                : fetchBlob // try to fetch url\n                            : // limbo or local\n                            origin === FileOrigin.LIMBO\n                            ? createFetchFunction(url, restore) // limbo\n                            : createFetchFunction(url, load) // local\n                    ),\n\n                    // called when the file is loaded so it can be piped through the filters\n                    function(file, success, error) {\n                        // let's process the file\n                        applyFilterChain('LOAD_FILE', file, { query: query })\n                            .then(success)\n                            .catch(error);\n                    }\n                );\n            },\n\n            REQUEST_PREPARE_OUTPUT: function REQUEST_PREPARE_OUTPUT(_ref9) {\n                var item = _ref9.item,\n                    success = _ref9.success,\n                    _ref9$failure = _ref9.failure,\n                    failure = _ref9$failure === void 0 ? function() {} : _ref9$failure;\n                // error response if item archived\n                var err = {\n                    error: createResponse('error', 0, 'Item not found'),\n                    file: null,\n                };\n\n                // don't handle archived items, an item could have been archived (load aborted) while waiting to be prepared\n                if (item.archived) return failure(err);\n\n                // allow plugins to alter the file data\n                applyFilterChain('PREPARE_OUTPUT', item.file, { query: query, item: item }).then(\n                    function(result) {\n                        applyFilterChain('COMPLETE_PREPARE_OUTPUT', result, {\n                            query: query,\n                            item: item,\n                        }).then(function(result) {\n                            // don't handle archived items, an item could have been archived (load aborted) while being prepared\n                            if (item.archived) return failure(err);\n\n                            // we done!\n                            success(result);\n                        });\n                    }\n                );\n            },\n\n            COMPLETE_LOAD_ITEM: function COMPLETE_LOAD_ITEM(_ref10) {\n                var item = _ref10.item,\n                    data = _ref10.data;\n                var success = data.success,\n                    source = data.source;\n\n                // sort items in list\n                var itemInsertLocation = query('GET_ITEM_INSERT_LOCATION');\n                if (isFunction(itemInsertLocation) && source) {\n                    sortItems(state, itemInsertLocation);\n                }\n\n                // let interface know the item has loaded\n                dispatch('DID_LOAD_ITEM', {\n                    id: item.id,\n                    error: null,\n                    serverFileReference: item.origin === FileOrigin.INPUT ? null : source,\n                });\n\n                // item has been successfully loaded and added to the\n                // list of items so can now be safely returned for use\n                success(createItemAPI(item));\n\n                // if this is a local server file we need to show a different state\n                if (item.origin === FileOrigin.LOCAL) {\n                    dispatch('DID_LOAD_LOCAL_ITEM', { id: item.id });\n                    return;\n                }\n\n                // if is a temp server file we prevent async upload call here (as the file is already on the server)\n                if (item.origin === FileOrigin.LIMBO) {\n                    dispatch('DID_COMPLETE_ITEM_PROCESSING', {\n                        id: item.id,\n                        error: null,\n                        serverFileReference: source,\n                    });\n\n                    dispatch('DID_DEFINE_VALUE', {\n                        id: item.id,\n                        value: item.serverId || source,\n                    });\n\n                    return;\n                }\n\n                // id we are allowed to upload the file immediately, lets do it\n                if (query('IS_ASYNC') && state.options.instantUpload) {\n                    dispatch('REQUEST_ITEM_PROCESSING', { query: item.id });\n                }\n            },\n\n            RETRY_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                // try loading the source one more time\n                item.retryLoad();\n            }),\n\n            REQUEST_ITEM_PREPARE: getItemByQueryFromState(state, function(item, _success, failure) {\n                dispatch(\n                    'REQUEST_PREPARE_OUTPUT',\n                    {\n                        query: item.id,\n                        item: item,\n                        success: function success(file) {\n                            dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n                            _success({\n                                file: item,\n                                output: file,\n                            });\n                        },\n                        failure: failure,\n                    },\n\n                    true\n                );\n            }),\n\n            REQUEST_ITEM_PROCESSING: getItemByQueryFromState(state, function(\n                item,\n                success,\n                failure\n            ) {\n                // cannot be queued (or is already queued)\n                var itemCanBeQueuedForProcessing =\n                    // waiting for something\n                    item.status === ItemStatus.IDLE ||\n                    // processing went wrong earlier\n                    item.status === ItemStatus.PROCESSING_ERROR;\n\n                // not ready to be processed\n                if (!itemCanBeQueuedForProcessing) {\n                    var processNow = function processNow() {\n                        return dispatch('REQUEST_ITEM_PROCESSING', {\n                            query: item,\n                            success: success,\n                            failure: failure,\n                        });\n                    };\n\n                    var process = function process() {\n                        return document.hidden ? processNow() : setTimeout(processNow, 32);\n                    };\n\n                    // if already done processing or tried to revert but didn't work, try again\n                    if (\n                        item.status === ItemStatus.PROCESSING_COMPLETE ||\n                        item.status === ItemStatus.PROCESSING_REVERT_ERROR\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        )\n                            .then(process)\n                            .catch(function() {}); // don't continue with processing if something went wrong\n                    } else if (item.status === ItemStatus.PROCESSING) {\n                        item.abortProcessing().then(process);\n                    }\n\n                    return;\n                }\n\n                // already queued for processing\n                if (item.status === ItemStatus.PROCESSING_QUEUED) return;\n\n                item.requestProcessing();\n\n                dispatch('DID_REQUEST_ITEM_PROCESSING', { id: item.id });\n\n                dispatch('PROCESS_ITEM', { query: item, success: success, failure: failure }, true);\n            }),\n\n            PROCESS_ITEM: getItemByQueryFromState(state, function(item, success, failure) {\n                var maxParallelUploads = query('GET_MAX_PARALLEL_UPLOADS');\n                var totalCurrentUploads = query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING)\n                    .length;\n\n                // queue and wait till queue is freed up\n                if (totalCurrentUploads === maxParallelUploads) {\n                    // queue for later processing\n                    state.processingQueue.push({\n                        id: item.id,\n                        success: success,\n                        failure: failure,\n                    });\n\n                    // stop it!\n                    return;\n                }\n\n                // if was not queued or is already processing exit here\n                if (item.status === ItemStatus.PROCESSING) return;\n\n                var processNext = function processNext() {\n                    // process queueud items\n                    var queueEntry = state.processingQueue.shift();\n\n                    // no items left\n                    if (!queueEntry) return;\n\n                    // get item reference\n                    var id = queueEntry.id,\n                        success = queueEntry.success,\n                        failure = queueEntry.failure;\n                    var itemReference = getItemByQuery(state.items, id);\n\n                    // if item was archived while in queue, jump to next\n                    if (!itemReference || itemReference.archived) {\n                        processNext();\n                        return;\n                    }\n\n                    // process queued item\n                    dispatch(\n                        'PROCESS_ITEM',\n                        { query: id, success: success, failure: failure },\n                        true\n                    );\n                };\n\n                // we done function\n                item.onOnce('process-complete', function() {\n                    success(createItemAPI(item));\n                    processNext();\n\n                    // if origin is local, and we're instant uploading, trigger remove of original\n                    // as revert will remove file from list\n                    var server = state.options.server;\n                    var instantUpload = state.options.instantUpload;\n                    if (\n                        instantUpload &&\n                        item.origin === FileOrigin.LOCAL &&\n                        isFunction(server.remove)\n                    ) {\n                        var noop = function noop() {};\n                        item.origin = FileOrigin.LIMBO;\n                        state.options.server.remove(item.source, noop, noop);\n                    }\n\n                    // All items processed? No errors?\n                    var allItemsProcessed =\n                        query('GET_ITEMS_BY_STATUS', ItemStatus.PROCESSING_COMPLETE).length ===\n                        state.items.length;\n                    if (allItemsProcessed) {\n                        dispatch('DID_COMPLETE_ITEM_PROCESSING_ALL');\n                    }\n                });\n\n                // we error function\n                item.onOnce('process-error', function(error) {\n                    failure({ error: error, file: createItemAPI(item) });\n                    processNext();\n                });\n\n                // start file processing\n                var options = state.options;\n                item.process(\n                    createFileProcessor(\n                        createProcessorFunction(\n                            options.server.url,\n                            options.server.process,\n                            options.name,\n                            {\n                                chunkTransferId: item.transferId,\n                                chunkServer: options.server.patch,\n                                chunkUploads: options.chunkUploads,\n                                chunkForce: options.chunkForce,\n                                chunkSize: options.chunkSize,\n                                chunkRetryDelays: options.chunkRetryDelays,\n                            }\n                        ),\n\n                        {\n                            allowMinimumUploadDuration: query('GET_ALLOW_MINIMUM_UPLOAD_DURATION'),\n                        }\n                    ),\n\n                    // called when the file is about to be processed so it can be piped through the transform filters\n                    function(file, success, error) {\n                        // allow plugins to alter the file data\n                        applyFilterChain('PREPARE_OUTPUT', file, { query: query, item: item })\n                            .then(function(file) {\n                                dispatch('DID_PREPARE_OUTPUT', { id: item.id, file: file });\n\n                                success(file);\n                            })\n                            .catch(error);\n                    }\n                );\n            }),\n\n            RETRY_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                dispatch('REQUEST_ITEM_PROCESSING', { query: item });\n            }),\n\n            REQUEST_REMOVE_ITEM: getItemByQueryFromState(state, function(item) {\n                optionalPromise(query('GET_BEFORE_REMOVE_FILE'), createItemAPI(item)).then(function(\n                    shouldRemove\n                ) {\n                    if (!shouldRemove) {\n                        return;\n                    }\n                    dispatch('REMOVE_ITEM', { query: item });\n                });\n            }),\n\n            RELEASE_ITEM: getItemByQueryFromState(state, function(item) {\n                item.release();\n            }),\n\n            REMOVE_ITEM: getItemByQueryFromState(state, function(item, success, failure, options) {\n                var removeFromView = function removeFromView() {\n                    // get id reference\n                    var id = item.id;\n\n                    // archive the item, this does not remove it from the list\n                    getItemById(state.items, id).archive();\n\n                    // tell the view the item has been removed\n                    dispatch('DID_REMOVE_ITEM', { error: null, id: id, item: item });\n\n                    // now the list has been modified\n                    listUpdated(dispatch, state);\n\n                    // correctly removed\n                    success(createItemAPI(item));\n                };\n\n                // if this is a local file and the `server.remove` function has been configured,\n                // send source there so dev can remove file from server\n                var server = state.options.server;\n                if (\n                    item.origin === FileOrigin.LOCAL &&\n                    server &&\n                    isFunction(server.remove) &&\n                    options.remove !== false\n                ) {\n                    dispatch('DID_START_ITEM_REMOVE', { id: item.id });\n\n                    server.remove(\n                        item.source,\n                        function() {\n                            return removeFromView();\n                        },\n                        function(status) {\n                            dispatch('DID_THROW_ITEM_REMOVE_ERROR', {\n                                id: item.id,\n                                error: createResponse('error', 0, status, null),\n                                status: {\n                                    main: dynamicLabel(state.options.labelFileRemoveError)(status),\n                                    sub: state.options.labelTapToRetry,\n                                },\n                            });\n                        }\n                    );\n                } else {\n                    // if is requesting revert and can revert need to call revert handler (not calling request_ because that would also trigger beforeRemoveHook)\n                    if (\n                        (options.revert &&\n                            item.origin !== FileOrigin.LOCAL &&\n                            item.serverId !== null) ||\n                        // if chunked uploads are enabled and we're uploading in chunks for this specific file\n                        // or if the file isn't big enough for chunked uploads but chunkForce is set then call\n                        // revert before removing from the view...\n                        (state.options.chunkUploads && item.file.size > state.options.chunkSize) ||\n                        (state.options.chunkUploads && state.options.chunkForce)\n                    ) {\n                        item.revert(\n                            createRevertFunction(\n                                state.options.server.url,\n                                state.options.server.revert\n                            ),\n                            query('GET_FORCE_REVERT')\n                        );\n                    }\n\n                    // can now safely remove from view\n                    removeFromView();\n                }\n            }),\n\n            ABORT_ITEM_LOAD: getItemByQueryFromState(state, function(item) {\n                item.abortLoad();\n            }),\n\n            ABORT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // test if is already processed\n                if (item.serverId) {\n                    dispatch('REVERT_ITEM_PROCESSING', { id: item.id });\n                    return;\n                }\n\n                // abort\n                item.abortProcessing().then(function() {\n                    var shouldRemove = state.options.instantUpload;\n                    if (shouldRemove) {\n                        dispatch('REMOVE_ITEM', { query: item.id });\n                    }\n                });\n            }),\n\n            REQUEST_REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                // not instant uploading, revert immediately\n                if (!state.options.instantUpload) {\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                    return;\n                }\n\n                // if we're instant uploading the file will also be removed if we revert,\n                // so if a before remove file hook is defined we need to run it now\n                var handleRevert = function handleRevert(shouldRevert) {\n                    if (!shouldRevert) return;\n                    dispatch('REVERT_ITEM_PROCESSING', { query: item });\n                };\n\n                var fn = query('GET_BEFORE_REMOVE_FILE');\n                if (!fn) {\n                    return handleRevert(true);\n                }\n\n                var requestRemoveResult = fn(createItemAPI(item));\n                if (requestRemoveResult == null) {\n                    // undefined or null\n                    return handleRevert(true);\n                }\n\n                if (typeof requestRemoveResult === 'boolean') {\n                    return handleRevert(requestRemoveResult);\n                }\n\n                if (typeof requestRemoveResult.then === 'function') {\n                    requestRemoveResult.then(handleRevert);\n                }\n            }),\n\n            REVERT_ITEM_PROCESSING: getItemByQueryFromState(state, function(item) {\n                item.revert(\n                    createRevertFunction(state.options.server.url, state.options.server.revert),\n                    query('GET_FORCE_REVERT')\n                )\n                    .then(function() {\n                        var shouldRemove = state.options.instantUpload || isMockItem(item);\n                        if (shouldRemove) {\n                            dispatch('REMOVE_ITEM', { query: item.id });\n                        }\n                    })\n                    .catch(function() {});\n            }),\n\n            SET_OPTIONS: function SET_OPTIONS(_ref11) {\n                var options = _ref11.options;\n                // get all keys passed\n                var optionKeys = Object.keys(options);\n\n                // get prioritized keyed to include (remove once not in options object)\n                var prioritizedOptionKeys = PrioritizedOptions.filter(function(key) {\n                    return optionKeys.includes(key);\n                });\n\n                // order the keys, prioritized first, then rest\n                var orderedOptionKeys = [].concat(\n                    _toConsumableArray(prioritizedOptionKeys),\n                    _toConsumableArray(\n                        Object.keys(options).filter(function(key) {\n                            return !prioritizedOptionKeys.includes(key);\n                        })\n                    )\n                );\n\n                // dispatch set event for each option\n                orderedOptionKeys.forEach(function(key) {\n                    dispatch('SET_' + fromCamels(key, '_').toUpperCase(), {\n                        value: options[key],\n                    });\n                });\n            },\n        };\n    };\n\n    var PrioritizedOptions = ['server'];\n\n    var formatFilename = function formatFilename(name) {\n        return name;\n    };\n\n    var createElement$1 = function createElement(tagName) {\n        return document.createElement(tagName);\n    };\n\n    var text = function text(node, value) {\n        var textNode = node.childNodes[0];\n        if (!textNode) {\n            textNode = document.createTextNode(value);\n            node.appendChild(textNode);\n        } else if (value !== textNode.nodeValue) {\n            textNode.nodeValue = value;\n        }\n    };\n\n    var polarToCartesian = function polarToCartesian(centerX, centerY, radius, angleInDegrees) {\n        var angleInRadians = (((angleInDegrees % 360) - 90) * Math.PI) / 180.0;\n        return {\n            x: centerX + radius * Math.cos(angleInRadians),\n            y: centerY + radius * Math.sin(angleInRadians),\n        };\n    };\n\n    var describeArc = function describeArc(x, y, radius, startAngle, endAngle, arcSweep) {\n        var start = polarToCartesian(x, y, radius, endAngle);\n        var end = polarToCartesian(x, y, radius, startAngle);\n        return ['M', start.x, start.y, 'A', radius, radius, 0, arcSweep, 0, end.x, end.y].join(' ');\n    };\n\n    var percentageArc = function percentageArc(x, y, radius, from, to) {\n        var arcSweep = 1;\n        if (to > from && to - from <= 0.5) {\n            arcSweep = 0;\n        }\n        if (from > to && from - to >= 0.5) {\n            arcSweep = 0;\n        }\n        return describeArc(\n            x,\n            y,\n            radius,\n            Math.min(0.9999, from) * 360,\n            Math.min(0.9999, to) * 360,\n            arcSweep\n        );\n    };\n\n    var create = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // start at 0\n        props.spin = false;\n        props.progress = 0;\n        props.opacity = 0;\n\n        // svg\n        var svg = createElement('svg');\n        root.ref.path = createElement('path', {\n            'stroke-width': 2,\n            'stroke-linecap': 'round',\n        });\n\n        svg.appendChild(root.ref.path);\n\n        root.ref.svg = svg;\n\n        root.appendChild(svg);\n    };\n\n    var write = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        if (props.opacity === 0) {\n            return;\n        }\n\n        if (props.align) {\n            root.element.dataset.align = props.align;\n        }\n\n        // get width of stroke\n        var ringStrokeWidth = parseInt(attr(root.ref.path, 'stroke-width'), 10);\n\n        // calculate size of ring\n        var size = root.rect.element.width * 0.5;\n\n        // ring state\n        var ringFrom = 0;\n        var ringTo = 0;\n\n        // now in busy mode\n        if (props.spin) {\n            ringFrom = 0;\n            ringTo = 0.5;\n        } else {\n            ringFrom = 0;\n            ringTo = props.progress;\n        }\n\n        // get arc path\n        var coordinates = percentageArc(size, size, size - ringStrokeWidth, ringFrom, ringTo);\n\n        // update progress bar\n        attr(root.ref.path, 'd', coordinates);\n\n        // hide while contains 0 value\n        attr(root.ref.path, 'stroke-opacity', props.spin || props.progress > 0 ? 1 : 0);\n    };\n\n    var progressIndicator = createView({\n        tag: 'div',\n        name: 'progress-indicator',\n        ignoreRectUpdate: true,\n        ignoreRect: true,\n        create: create,\n        write: write,\n        mixins: {\n            apis: ['progress', 'spin', 'align'],\n            styles: ['opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 500 },\n                progress: {\n                    type: 'spring',\n                    stiffness: 0.95,\n                    damping: 0.65,\n                    mass: 10,\n                },\n            },\n        },\n    });\n\n    var create$1 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.innerHTML = (props.icon || '') + ('<span>' + props.label + '</span>');\n\n        props.isDisabled = false;\n    };\n\n    var write$1 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        var isDisabled = props.isDisabled;\n        var shouldDisable = root.query('GET_DISABLED') || props.opacity === 0;\n\n        if (shouldDisable && !isDisabled) {\n            props.isDisabled = true;\n            attr(root.element, 'disabled', 'disabled');\n        } else if (!shouldDisable && isDisabled) {\n            props.isDisabled = false;\n            root.element.removeAttribute('disabled');\n        }\n    };\n\n    var fileActionButton = createView({\n        tag: 'button',\n        attributes: {\n            type: 'button',\n        },\n\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'file-action-button',\n        mixins: {\n            apis: ['label'],\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n\n            listeners: true,\n        },\n\n        create: create$1,\n        write: write$1,\n    });\n\n    var toNaturalFileSize = function toNaturalFileSize(bytes) {\n        var decimalSeparator =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '.';\n        var base = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1000;\n        var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n        var _options$labelBytes = options.labelBytes,\n            labelBytes = _options$labelBytes === void 0 ? 'bytes' : _options$labelBytes,\n            _options$labelKilobyt = options.labelKilobytes,\n            labelKilobytes = _options$labelKilobyt === void 0 ? 'KB' : _options$labelKilobyt,\n            _options$labelMegabyt = options.labelMegabytes,\n            labelMegabytes = _options$labelMegabyt === void 0 ? 'MB' : _options$labelMegabyt,\n            _options$labelGigabyt = options.labelGigabytes,\n            labelGigabytes = _options$labelGigabyt === void 0 ? 'GB' : _options$labelGigabyt;\n\n        // no negative byte sizes\n        bytes = Math.round(Math.abs(bytes));\n\n        var KB = base;\n        var MB = base * base;\n        var GB = base * base * base;\n\n        // just bytes\n        if (bytes < KB) {\n            return bytes + ' ' + labelBytes;\n        }\n\n        // kilobytes\n        if (bytes < MB) {\n            return Math.floor(bytes / KB) + ' ' + labelKilobytes;\n        }\n\n        // megabytes\n        if (bytes < GB) {\n            return removeDecimalsWhenZero(bytes / MB, 1, decimalSeparator) + ' ' + labelMegabytes;\n        }\n\n        // gigabytes\n        return removeDecimalsWhenZero(bytes / GB, 2, decimalSeparator) + ' ' + labelGigabytes;\n    };\n\n    var removeDecimalsWhenZero = function removeDecimalsWhenZero(value, decimalCount, separator) {\n        return value\n            .toFixed(decimalCount)\n            .split('.')\n            .filter(function(part) {\n                return part !== '0';\n            })\n            .join(separator);\n    };\n\n    var create$2 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // filename\n        var fileName = createElement$1('span');\n        fileName.className = 'filepond--file-info-main';\n        // hide for screenreaders\n        // the file is contained in a fieldset with legend that contains the filename\n        // no need to read it twice\n        attr(fileName, 'aria-hidden', 'true');\n        root.appendChild(fileName);\n        root.ref.fileName = fileName;\n\n        // filesize\n        var fileSize = createElement$1('span');\n        fileSize.className = 'filepond--file-info-sub';\n        root.appendChild(fileSize);\n        root.ref.fileSize = fileSize;\n\n        // set initial values\n        text(fileSize, root.query('GET_LABEL_FILE_WAITING_FOR_SIZE'));\n        text(fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFile = function updateFile(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        text(\n            root.ref.fileSize,\n            toNaturalFileSize(\n                root.query('GET_ITEM_SIZE', props.id),\n                '.',\n                root.query('GET_FILE_SIZE_BASE'),\n                root.query('GET_FILE_SIZE_LABELS', root.query)\n            )\n        );\n\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var updateFileSizeOnError = function updateFileSizeOnError(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props;\n        // if size is available don't fallback to unknown size message\n        if (isInt(root.query('GET_ITEM_SIZE', props.id))) {\n            updateFile({ root: root, props: props });\n            return;\n        }\n\n        text(root.ref.fileSize, root.query('GET_LABEL_FILE_SIZE_NOT_AVAILABLE'));\n    };\n\n    var fileInfo = createView({\n        name: 'file-info',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: updateFile,\n            DID_UPDATE_ITEM_META: updateFile,\n            DID_THROW_ITEM_LOAD_ERROR: updateFileSizeOnError,\n            DID_THROW_ITEM_INVALID: updateFileSizeOnError,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$2,\n        mixins: {\n            styles: ['translateX', 'translateY'],\n            animations: {\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var toPercentage = function toPercentage(value) {\n        return Math.round(value * 100);\n    };\n\n    var create$3 = function create(_ref) {\n        var root = _ref.root;\n\n        // main status\n        var main = createElement$1('span');\n        main.className = 'filepond--file-status-main';\n        root.appendChild(main);\n        root.ref.main = main;\n\n        // sub status\n        var sub = createElement$1('span');\n        sub.className = 'filepond--file-status-sub';\n        root.appendChild(sub);\n        root.ref.sub = sub;\n\n        didSetItemLoadProgress({ root: root, action: { progress: null } });\n    };\n\n    var didSetItemLoadProgress = function didSetItemLoadProgress(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_LOADING')\n                : root.query('GET_LABEL_FILE_LOADING') + ' ' + toPercentage(action.progress) + '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didSetItemProcessProgress = function didSetItemProcessProgress(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var title =\n            action.progress === null\n                ? root.query('GET_LABEL_FILE_PROCESSING')\n                : root.query('GET_LABEL_FILE_PROCESSING') +\n                  ' ' +\n                  toPercentage(action.progress) +\n                  '%';\n\n        text(root.ref.main, title);\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didRequestItemProcessing = function didRequestItemProcessing(_ref4) {\n        var root = _ref4.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_CANCEL'));\n    };\n\n    var didAbortItemProcessing = function didAbortItemProcessing(_ref5) {\n        var root = _ref5.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_ABORTED'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_RETRY'));\n    };\n\n    var didCompleteItemProcessing = function didCompleteItemProcessing(_ref6) {\n        var root = _ref6.root;\n        text(root.ref.main, root.query('GET_LABEL_FILE_PROCESSING_COMPLETE'));\n        text(root.ref.sub, root.query('GET_LABEL_TAP_TO_UNDO'));\n    };\n\n    var clear = function clear(_ref7) {\n        var root = _ref7.root;\n        text(root.ref.main, '');\n        text(root.ref.sub, '');\n    };\n\n    var error = function error(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        text(root.ref.main, action.status.main);\n        text(root.ref.sub, action.status.sub);\n    };\n\n    var fileStatus = createView({\n        name: 'file-status',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: clear,\n            DID_REVERT_ITEM_PROCESSING: clear,\n            DID_REQUEST_ITEM_PROCESSING: didRequestItemProcessing,\n            DID_ABORT_ITEM_PROCESSING: didAbortItemProcessing,\n            DID_COMPLETE_ITEM_PROCESSING: didCompleteItemProcessing,\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: didSetItemProcessProgress,\n            DID_UPDATE_ITEM_LOAD_PROGRESS: didSetItemLoadProgress,\n            DID_THROW_ITEM_LOAD_ERROR: error,\n            DID_THROW_ITEM_INVALID: error,\n            DID_THROW_ITEM_PROCESSING_ERROR: error,\n            DID_THROW_ITEM_PROCESSING_REVERT_ERROR: error,\n            DID_THROW_ITEM_REMOVE_ERROR: error,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        create: create$3,\n        mixins: {\n            styles: ['translateX', 'translateY', 'opacity'],\n            animations: {\n                opacity: { type: 'tween', duration: 250 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    /**\n     * Button definitions for the file view\n     */\n\n    var Buttons = {\n        AbortItemLoad: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_LOAD',\n            action: 'ABORT_ITEM_LOAD',\n            className: 'filepond--action-abort-item-load',\n            align: 'LOAD_INDICATOR_POSITION', // right\n        },\n        RetryItemLoad: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_LOAD',\n            action: 'RETRY_ITEM_LOAD',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-load',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RemoveItem: {\n            label: 'GET_LABEL_BUTTON_REMOVE_ITEM',\n            action: 'REQUEST_REMOVE_ITEM',\n            icon: 'GET_ICON_REMOVE',\n            className: 'filepond--action-remove-item',\n            align: 'BUTTON_REMOVE_ITEM_POSITION', // left\n        },\n        ProcessItem: {\n            label: 'GET_LABEL_BUTTON_PROCESS_ITEM',\n            action: 'REQUEST_ITEM_PROCESSING',\n            icon: 'GET_ICON_PROCESS',\n            className: 'filepond--action-process-item',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        AbortItemProcessing: {\n            label: 'GET_LABEL_BUTTON_ABORT_ITEM_PROCESSING',\n            action: 'ABORT_ITEM_PROCESSING',\n            className: 'filepond--action-abort-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RetryItemProcessing: {\n            label: 'GET_LABEL_BUTTON_RETRY_ITEM_PROCESSING',\n            action: 'RETRY_ITEM_PROCESSING',\n            icon: 'GET_ICON_RETRY',\n            className: 'filepond--action-retry-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n        RevertItemProcessing: {\n            label: 'GET_LABEL_BUTTON_UNDO_ITEM_PROCESSING',\n            action: 'REQUEST_REVERT_ITEM_PROCESSING',\n            icon: 'GET_ICON_UNDO',\n            className: 'filepond--action-revert-item-processing',\n            align: 'BUTTON_PROCESS_ITEM_POSITION', // right\n        },\n    };\n\n    // make a list of buttons, we can then remove buttons from this list if they're disabled\n    var ButtonKeys = [];\n    forin(Buttons, function(key) {\n        ButtonKeys.push(key);\n    });\n\n    var calculateFileInfoOffset = function calculateFileInfoOffset(root) {\n        if (getRemoveIndicatorAligment(root) === 'right') return 0;\n        var buttonRect = root.ref.buttonRemoveItem.rect.element;\n        return buttonRect.hidden ? null : buttonRect.width + buttonRect.left;\n    };\n\n    var calculateButtonWidth = function calculateButtonWidth(root) {\n        var buttonRect = root.ref.buttonAbortItemLoad.rect.element;\n        return buttonRect.width;\n    };\n\n    // Force on full pixels so text stays crips\n    var calculateFileVerticalCenterOffset = function calculateFileVerticalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.height / 4);\n    };\n    var calculateFileHorizontalCenterOffset = function calculateFileHorizontalCenterOffset(root) {\n        return Math.floor(root.ref.buttonRemoveItem.rect.element.left / 2);\n    };\n\n    var getLoadIndicatorAlignment = function getLoadIndicatorAlignment(root) {\n        return root.query('GET_STYLE_LOAD_INDICATOR_POSITION');\n    };\n    var getProcessIndicatorAlignment = function getProcessIndicatorAlignment(root) {\n        return root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION');\n    };\n    var getRemoveIndicatorAligment = function getRemoveIndicatorAligment(root) {\n        return root.query('GET_STYLE_BUTTON_REMOVE_ITEM_POSITION');\n    };\n\n    var DefaultStyle = {\n        buttonAbortItemLoad: { opacity: 0 },\n        buttonRetryItemLoad: { opacity: 0 },\n        buttonRemoveItem: { opacity: 0 },\n        buttonProcessItem: { opacity: 0 },\n        buttonAbortItemProcessing: { opacity: 0 },\n        buttonRetryItemProcessing: { opacity: 0 },\n        buttonRevertItemProcessing: { opacity: 0 },\n        loadProgressIndicator: { opacity: 0, align: getLoadIndicatorAlignment },\n        processProgressIndicator: { opacity: 0, align: getProcessIndicatorAlignment },\n        processingCompleteIndicator: { opacity: 0, scaleX: 0.75, scaleY: 0.75 },\n        info: { translateX: 0, translateY: 0, opacity: 0 },\n        status: { translateX: 0, translateY: 0, opacity: 0 },\n    };\n\n    var IdleStyle = {\n        buttonRemoveItem: { opacity: 1 },\n        buttonProcessItem: { opacity: 1 },\n        info: { translateX: calculateFileInfoOffset },\n        status: { translateX: calculateFileInfoOffset },\n    };\n\n    var ProcessingStyle = {\n        buttonAbortItemProcessing: { opacity: 1 },\n        processProgressIndicator: { opacity: 1 },\n        status: { opacity: 1 },\n    };\n\n    var StyleMap = {\n        DID_THROW_ITEM_INVALID: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset, opacity: 1 },\n        },\n\n        DID_START_ITEM_LOAD: {\n            buttonAbortItemLoad: { opacity: 1 },\n            loadProgressIndicator: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_LOAD_ERROR: {\n            buttonRetryItemLoad: { opacity: 1 },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_START_ITEM_REMOVE: {\n            processProgressIndicator: { opacity: 1, align: getRemoveIndicatorAligment },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 0 },\n        },\n\n        DID_THROW_ITEM_REMOVE_ERROR: {\n            processProgressIndicator: { opacity: 0, align: getRemoveIndicatorAligment },\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1, translateX: calculateFileInfoOffset },\n        },\n\n        DID_LOAD_ITEM: IdleStyle,\n        DID_LOAD_LOCAL_ITEM: {\n            buttonRemoveItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_START_ITEM_PROCESSING: ProcessingStyle,\n        DID_REQUEST_ITEM_PROCESSING: ProcessingStyle,\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: ProcessingStyle,\n        DID_COMPLETE_ITEM_PROCESSING: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            info: { opacity: 1 },\n            status: { opacity: 1 },\n        },\n\n        DID_THROW_ITEM_PROCESSING_ERROR: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonRetryItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n        },\n\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: {\n            buttonRevertItemProcessing: { opacity: 1 },\n            status: { opacity: 1 },\n            info: { opacity: 1 },\n        },\n\n        DID_ABORT_ITEM_PROCESSING: {\n            buttonRemoveItem: { opacity: 1 },\n            buttonProcessItem: { opacity: 1 },\n            info: { translateX: calculateFileInfoOffset },\n            status: { opacity: 1 },\n        },\n\n        DID_REVERT_ITEM_PROCESSING: IdleStyle,\n    };\n\n    // complete indicator view\n    var processingCompleteIndicatorView = createView({\n        create: function create(_ref) {\n            var root = _ref.root;\n            root.element.innerHTML = root.query('GET_ICON_DONE');\n        },\n        name: 'processing-complete-indicator',\n        ignoreRect: true,\n        mixins: {\n            styles: ['scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$4 = function create(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // copy Buttons object\n        var LocalButtons = Object.keys(Buttons).reduce(function(prev, curr) {\n            prev[curr] = Object.assign({}, Buttons[curr]);\n            return prev;\n        }, {});\n        var id = props.id;\n\n        // allow reverting upload\n        var allowRevert = root.query('GET_ALLOW_REVERT');\n\n        // allow remove file\n        var allowRemove = root.query('GET_ALLOW_REMOVE');\n\n        // allow processing upload\n        var allowProcess = root.query('GET_ALLOW_PROCESS');\n\n        // is instant uploading, need this to determine the icon of the undo button\n        var instantUpload = root.query('GET_INSTANT_UPLOAD');\n\n        // is async set up\n        var isAsync = root.query('IS_ASYNC');\n\n        // should align remove item buttons\n        var alignRemoveItemButton = root.query('GET_STYLE_BUTTON_REMOVE_ITEM_ALIGN');\n\n        // enabled buttons array\n        var buttonFilter;\n        if (isAsync) {\n            if (allowProcess && !allowRevert) {\n                // only remove revert button\n                buttonFilter = function buttonFilter(key) {\n                    return !/RevertItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && allowRevert) {\n                // only remove process button\n                buttonFilter = function buttonFilter(key) {\n                    return !/ProcessItem|RetryItemProcessing|AbortItemProcessing/.test(key);\n                };\n            } else if (!allowProcess && !allowRevert) {\n                // remove all process buttons\n                buttonFilter = function buttonFilter(key) {\n                    return !/Process/.test(key);\n                };\n            }\n        } else {\n            // no process controls available\n            buttonFilter = function buttonFilter(key) {\n                return !/Process/.test(key);\n            };\n        }\n\n        var enabledButtons = buttonFilter ? ButtonKeys.filter(buttonFilter) : ButtonKeys.concat();\n\n        // update icon and label for revert button when instant uploading\n        if (instantUpload && allowRevert) {\n            LocalButtons['RevertItemProcessing'].label = 'GET_LABEL_BUTTON_REMOVE_ITEM';\n            LocalButtons['RevertItemProcessing'].icon = 'GET_ICON_REMOVE';\n        }\n\n        // remove last button (revert) if not allowed\n        if (isAsync && !allowRevert) {\n            var map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            map.info.translateX = calculateFileHorizontalCenterOffset;\n            map.info.translateY = calculateFileVerticalCenterOffset;\n            map.status.translateY = calculateFileVerticalCenterOffset;\n            map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // should align center\n        if (isAsync && !allowProcess) {\n            [\n                'DID_START_ITEM_PROCESSING',\n                'DID_REQUEST_ITEM_PROCESSING',\n                'DID_UPDATE_ITEM_PROCESS_PROGRESS',\n                'DID_THROW_ITEM_PROCESSING_ERROR',\n            ].forEach(function(key) {\n                StyleMap[key].status.translateY = calculateFileVerticalCenterOffset;\n            });\n            StyleMap['DID_THROW_ITEM_PROCESSING_ERROR'].status.translateX = calculateButtonWidth;\n        }\n\n        // move remove button to right\n        if (alignRemoveItemButton && allowRevert) {\n            LocalButtons['RevertItemProcessing'].align = 'BUTTON_REMOVE_ITEM_POSITION';\n            var _map = StyleMap['DID_COMPLETE_ITEM_PROCESSING'];\n            _map.info.translateX = calculateFileInfoOffset;\n            _map.status.translateY = calculateFileVerticalCenterOffset;\n            _map.processingCompleteIndicator = { opacity: 1, scaleX: 1, scaleY: 1 };\n        }\n\n        // show/hide RemoveItem button\n        if (!allowRemove) {\n            LocalButtons['RemoveItem'].disabled = true;\n        }\n\n        // create the button views\n        forin(LocalButtons, function(key, definition) {\n            // create button\n            var buttonView = root.createChildView(fileActionButton, {\n                label: root.query(definition.label),\n                icon: root.query(definition.icon),\n                opacity: 0,\n            });\n\n            // should be appended?\n            if (enabledButtons.includes(key)) {\n                root.appendChildView(buttonView);\n            }\n\n            // toggle\n            if (definition.disabled) {\n                buttonView.element.setAttribute('disabled', 'disabled');\n                buttonView.element.setAttribute('hidden', 'hidden');\n            }\n\n            // add position attribute\n            buttonView.element.dataset.align = root.query('GET_STYLE_' + definition.align);\n\n            // add class\n            buttonView.element.classList.add(definition.className);\n\n            // handle interactions\n            buttonView.on('click', function(e) {\n                e.stopPropagation();\n                if (definition.disabled) return;\n                root.dispatch(definition.action, { query: id });\n            });\n\n            // set reference\n            root.ref['button' + key] = buttonView;\n        });\n\n        // checkmark\n        root.ref.processingCompleteIndicator = root.appendChildView(\n            root.createChildView(processingCompleteIndicatorView)\n        );\n\n        root.ref.processingCompleteIndicator.element.dataset.align = root.query(\n            'GET_STYLE_BUTTON_PROCESS_ITEM_POSITION'\n        );\n\n        // create file info view\n        root.ref.info = root.appendChildView(root.createChildView(fileInfo, { id: id }));\n\n        // create file status view\n        root.ref.status = root.appendChildView(root.createChildView(fileStatus, { id: id }));\n\n        // add progress indicators\n        var loadIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_LOAD_INDICATOR_POSITION'),\n            })\n        );\n\n        loadIndicatorView.element.classList.add('filepond--load-indicator');\n        root.ref.loadProgressIndicator = loadIndicatorView;\n\n        var progressIndicatorView = root.appendChildView(\n            root.createChildView(progressIndicator, {\n                opacity: 0,\n                align: root.query('GET_STYLE_PROGRESS_INDICATOR_POSITION'),\n            })\n        );\n\n        progressIndicatorView.element.classList.add('filepond--process-indicator');\n        root.ref.processProgressIndicator = progressIndicatorView;\n\n        // current active styles\n        root.ref.activeStyles = [];\n    };\n\n    var write$2 = function write(_ref3) {\n        var root = _ref3.root,\n            actions = _ref3.actions,\n            props = _ref3.props;\n        // route actions\n        route({ root: root, actions: actions, props: props });\n\n        // select last state change action\n        var action = actions\n            .concat()\n            .filter(function(action) {\n                return /^DID_/.test(action.type);\n            })\n            .reverse()\n            .find(function(action) {\n                return StyleMap[action.type];\n            });\n\n        // a new action happened, let's get the matching styles\n        if (action) {\n            // define new active styles\n            root.ref.activeStyles = [];\n\n            var stylesToApply = StyleMap[action.type];\n            forin(DefaultStyle, function(name, defaultStyles) {\n                // get reference to control\n                var control = root.ref[name];\n\n                // loop over all styles for this control\n                forin(defaultStyles, function(key, defaultValue) {\n                    var value =\n                        stylesToApply[name] && typeof stylesToApply[name][key] !== 'undefined'\n                            ? stylesToApply[name][key]\n                            : defaultValue;\n                    root.ref.activeStyles.push({ control: control, key: key, value: value });\n                });\n            });\n        }\n\n        // apply active styles to element\n        root.ref.activeStyles.forEach(function(_ref4) {\n            var control = _ref4.control,\n                key = _ref4.key,\n                value = _ref4.value;\n            control[key] = typeof value === 'function' ? value(root) : value;\n        });\n    };\n\n    var route = createRoute({\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING: function DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING(\n            _ref5\n        ) {\n            var root = _ref5.root,\n                action = _ref5.action;\n            root.ref.buttonAbortItemProcessing.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD: function DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD(_ref6) {\n            var root = _ref6.root,\n                action = _ref6.action;\n            root.ref.buttonAbortItemLoad.label = action.value;\n        },\n        DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL: function DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL(\n            _ref7\n        ) {\n            var root = _ref7.root,\n                action = _ref7.action;\n            root.ref.buttonAbortItemRemoval.label = action.value;\n        },\n        DID_REQUEST_ITEM_PROCESSING: function DID_REQUEST_ITEM_PROCESSING(_ref8) {\n            var root = _ref8.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_LOAD: function DID_START_ITEM_LOAD(_ref9) {\n            var root = _ref9.root;\n            root.ref.loadProgressIndicator.spin = true;\n            root.ref.loadProgressIndicator.progress = 0;\n        },\n        DID_START_ITEM_REMOVE: function DID_START_ITEM_REMOVE(_ref10) {\n            var root = _ref10.root;\n            root.ref.processProgressIndicator.spin = true;\n            root.ref.processProgressIndicator.progress = 0;\n        },\n        DID_UPDATE_ITEM_LOAD_PROGRESS: function DID_UPDATE_ITEM_LOAD_PROGRESS(_ref11) {\n            var root = _ref11.root,\n                action = _ref11.action;\n            root.ref.loadProgressIndicator.spin = false;\n            root.ref.loadProgressIndicator.progress = action.progress;\n        },\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: function DID_UPDATE_ITEM_PROCESS_PROGRESS(_ref12) {\n            var root = _ref12.root,\n                action = _ref12.action;\n            root.ref.processProgressIndicator.spin = false;\n            root.ref.processProgressIndicator.progress = action.progress;\n        },\n    });\n\n    var file = createView({\n        create: create$4,\n        write: write$2,\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        name: 'file',\n    });\n\n    /**\n     * Creates the file view\n     */\n    var create$5 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // filename\n        root.ref.fileName = createElement$1('legend');\n        root.appendChild(root.ref.fileName);\n\n        // file appended\n        root.ref.file = root.appendChildView(root.createChildView(file, { id: props.id }));\n\n        // data has moved to data.js\n        root.ref.data = false;\n    };\n\n    /**\n     * Data storage\n     */\n    var didLoadItem = function didLoadItem(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n        // updates the legend of the fieldset so screenreaders can better group buttons\n        text(root.ref.fileName, formatFilename(root.query('GET_ITEM_NAME', props.id)));\n    };\n\n    var fileWrapper = createView({\n        create: create$5,\n        ignoreRect: true,\n        write: createRoute({\n            DID_LOAD_ITEM: didLoadItem,\n        }),\n\n        didCreateView: function didCreateView(root) {\n            applyFilters('CREATE_VIEW', Object.assign({}, root, { view: root }));\n        },\n        tag: 'fieldset',\n        name: 'file-wrapper',\n    });\n\n    var PANEL_SPRING_PROPS = { type: 'spring', damping: 0.6, mass: 7 };\n\n    var create$6 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        [\n            {\n                name: 'top',\n            },\n\n            {\n                name: 'center',\n                props: {\n                    translateY: null,\n                    scaleY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        scaleY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY', 'scaleY'],\n                },\n            },\n\n            {\n                name: 'bottom',\n                props: {\n                    translateY: null,\n                },\n\n                mixins: {\n                    animations: {\n                        translateY: PANEL_SPRING_PROPS,\n                    },\n\n                    styles: ['translateY'],\n                },\n            },\n        ].forEach(function(section) {\n            createSection(root, section, props.name);\n        });\n\n        root.element.classList.add('filepond--' + props.name);\n\n        root.ref.scalable = null;\n    };\n\n    var createSection = function createSection(root, section, className) {\n        var viewConstructor = createView({\n            name: 'panel-' + section.name + ' filepond--' + className,\n            mixins: section.mixins,\n            ignoreRectUpdate: true,\n        });\n\n        var view = root.createChildView(viewConstructor, section.props);\n\n        root.ref[section.name] = root.appendChildView(view);\n    };\n\n    var write$3 = function write(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props;\n\n        // update scalable state\n        if (root.ref.scalable === null || props.scalable !== root.ref.scalable) {\n            root.ref.scalable = isBoolean(props.scalable) ? props.scalable : true;\n            root.element.dataset.scalable = root.ref.scalable;\n        }\n\n        // no height, can't set\n        if (!props.height) return;\n\n        // get child rects\n        var topRect = root.ref.top.rect.element;\n        var bottomRect = root.ref.bottom.rect.element;\n\n        // make sure height never is smaller than bottom and top seciton heights combined (will probably never happen, but who knows)\n        var height = Math.max(topRect.height + bottomRect.height, props.height);\n\n        // offset center part\n        root.ref.center.translateY = topRect.height;\n\n        // scale center part\n        // use math ceil to prevent transparent lines because of rounding errors\n        root.ref.center.scaleY = (height - topRect.height - bottomRect.height) / 100;\n\n        // offset bottom part\n        root.ref.bottom.translateY = height - bottomRect.height;\n    };\n\n    var panel = createView({\n        name: 'panel',\n        read: function read(_ref3) {\n            var root = _ref3.root,\n                props = _ref3.props;\n            return (props.heightCurrent = root.ref.bottom.translateY);\n        },\n        write: write$3,\n        create: create$6,\n        ignoreRect: true,\n        mixins: {\n            apis: ['height', 'heightCurrent', 'scalable'],\n        },\n    });\n\n    var createDragHelper = function createDragHelper(items) {\n        var itemIds = items.map(function(item) {\n            return item.id;\n        });\n        var prevIndex = undefined;\n        return {\n            setIndex: function setIndex(index) {\n                prevIndex = index;\n            },\n            getIndex: function getIndex() {\n                return prevIndex;\n            },\n            getItemIndex: function getItemIndex(item) {\n                return itemIds.indexOf(item.id);\n            },\n        };\n    };\n\n    var ITEM_TRANSLATE_SPRING = {\n        type: 'spring',\n        stiffness: 0.75,\n        damping: 0.45,\n        mass: 10,\n    };\n\n    var ITEM_SCALE_SPRING = 'spring';\n\n    var StateMap = {\n        DID_START_ITEM_LOAD: 'busy',\n        DID_UPDATE_ITEM_LOAD_PROGRESS: 'loading',\n        DID_THROW_ITEM_INVALID: 'load-invalid',\n        DID_THROW_ITEM_LOAD_ERROR: 'load-error',\n        DID_LOAD_ITEM: 'idle',\n        DID_THROW_ITEM_REMOVE_ERROR: 'remove-error',\n        DID_START_ITEM_REMOVE: 'busy',\n        DID_START_ITEM_PROCESSING: 'busy processing',\n        DID_REQUEST_ITEM_PROCESSING: 'busy processing',\n        DID_UPDATE_ITEM_PROCESS_PROGRESS: 'processing',\n        DID_COMPLETE_ITEM_PROCESSING: 'processing-complete',\n        DID_THROW_ITEM_PROCESSING_ERROR: 'processing-error',\n        DID_THROW_ITEM_PROCESSING_REVERT_ERROR: 'processing-revert-error',\n        DID_ABORT_ITEM_PROCESSING: 'cancelled',\n        DID_REVERT_ITEM_PROCESSING: 'idle',\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$7 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // select\n        root.ref.handleClick = function(e) {\n            return root.dispatch('DID_ACTIVATE_ITEM', { id: props.id });\n        };\n\n        // set id\n        root.element.id = 'filepond--item-' + props.id;\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // file view\n        root.ref.container = root.appendChildView(\n            root.createChildView(fileWrapper, { id: props.id })\n        );\n\n        // file panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'item-panel' }));\n\n        // default start height\n        root.ref.panel.height = null;\n\n        // by default not marked for removal\n        props.markedForRemoval = false;\n\n        // if not allowed to reorder file items, exit here\n        if (!root.query('GET_ALLOW_REORDER')) return;\n\n        // set to idle so shows grab cursor\n        root.element.dataset.dragState = 'idle';\n\n        var grab = function grab(e) {\n            if (!e.isPrimary) return;\n\n            var removedActivateListener = false;\n\n            var origin = {\n                x: e.pageX,\n                y: e.pageY,\n            };\n\n            props.dragOrigin = {\n                x: root.translateX,\n                y: root.translateY,\n            };\n\n            props.dragCenter = {\n                x: e.offsetX,\n                y: e.offsetY,\n            };\n\n            var dragState = createDragHelper(root.query('GET_ACTIVE_ITEMS'));\n\n            root.dispatch('DID_GRAB_ITEM', { id: props.id, dragState: dragState });\n\n            var drag = function drag(e) {\n                if (!e.isPrimary) return;\n\n                e.stopPropagation();\n                e.preventDefault();\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                // if dragged stop listening to clicks, will re-add when done dragging\n                var dist =\n                    props.dragOffset.x * props.dragOffset.x +\n                    props.dragOffset.y * props.dragOffset.y;\n                if (dist > 16 && !removedActivateListener) {\n                    removedActivateListener = true;\n                    root.element.removeEventListener('click', root.ref.handleClick);\n                }\n\n                root.dispatch('DID_DRAG_ITEM', { id: props.id, dragState: dragState });\n            };\n\n            var drop = function drop(e) {\n                if (!e.isPrimary) return;\n\n                props.dragOffset = {\n                    x: e.pageX - origin.x,\n                    y: e.pageY - origin.y,\n                };\n\n                reset();\n            };\n\n            var cancel = function cancel() {\n                reset();\n            };\n\n            var reset = function reset() {\n                document.removeEventListener('pointercancel', cancel);\n                document.removeEventListener('pointermove', drag);\n                document.removeEventListener('pointerup', drop);\n\n                root.dispatch('DID_DROP_ITEM', { id: props.id, dragState: dragState });\n\n                // start listening to clicks again\n                if (removedActivateListener) {\n                    setTimeout(function() {\n                        return root.element.addEventListener('click', root.ref.handleClick);\n                    }, 0);\n                }\n            };\n\n            document.addEventListener('pointercancel', cancel);\n            document.addEventListener('pointermove', drag);\n            document.addEventListener('pointerup', drop);\n        };\n\n        root.element.addEventListener('pointerdown', grab);\n    };\n\n    var route$1 = createRoute({\n        DID_UPDATE_PANEL_HEIGHT: function DID_UPDATE_PANEL_HEIGHT(_ref2) {\n            var root = _ref2.root,\n                action = _ref2.action;\n            root.height = action.height;\n        },\n    });\n\n    var write$4 = createRoute(\n        {\n            DID_GRAB_ITEM: function DID_GRAB_ITEM(_ref3) {\n                var root = _ref3.root,\n                    props = _ref3.props;\n                props.dragOrigin = {\n                    x: root.translateX,\n                    y: root.translateY,\n                };\n            },\n            DID_DRAG_ITEM: function DID_DRAG_ITEM(_ref4) {\n                var root = _ref4.root;\n                root.element.dataset.dragState = 'drag';\n            },\n            DID_DROP_ITEM: function DID_DROP_ITEM(_ref5) {\n                var root = _ref5.root,\n                    props = _ref5.props;\n                props.dragOffset = null;\n                props.dragOrigin = null;\n                root.element.dataset.dragState = 'drop';\n            },\n        },\n\n        function(_ref6) {\n            var root = _ref6.root,\n                actions = _ref6.actions,\n                props = _ref6.props,\n                shouldOptimize = _ref6.shouldOptimize;\n            if (root.element.dataset.dragState === 'drop') {\n                if (root.scaleX <= 1) {\n                    root.element.dataset.dragState = 'idle';\n                }\n            }\n\n            // select last state change action\n            var action = actions\n                .concat()\n                .filter(function(action) {\n                    return /^DID_/.test(action.type);\n                })\n                .reverse()\n                .find(function(action) {\n                    return StateMap[action.type];\n                });\n\n            // no need to set same state twice\n            if (action && action.type !== props.currentState) {\n                // set current state\n                props.currentState = action.type;\n\n                // set state\n                root.element.dataset.filepondItemState = StateMap[props.currentState] || '';\n            }\n\n            // route actions\n            var aspectRatio =\n                root.query('GET_ITEM_PANEL_ASPECT_RATIO') || root.query('GET_PANEL_ASPECT_RATIO');\n            if (!aspectRatio) {\n                route$1({ root: root, actions: actions, props: props });\n                if (!root.height && root.ref.container.rect.element.height > 0) {\n                    root.height = root.ref.container.rect.element.height;\n                }\n            } else if (!shouldOptimize) {\n                root.height = root.rect.element.width * aspectRatio;\n            }\n\n            // sync panel height with item height\n            if (shouldOptimize) {\n                root.ref.panel.height = null;\n            }\n\n            root.ref.panel.height = root.height;\n        }\n    );\n\n    var item = createView({\n        create: create$7,\n        write: write$4,\n        destroy: function destroy(_ref7) {\n            var root = _ref7.root,\n                props = _ref7.props;\n            root.element.removeEventListener('click', root.ref.handleClick);\n            root.dispatch('RELEASE_ITEM', { query: props.id });\n        },\n        tag: 'li',\n        name: 'item',\n        mixins: {\n            apis: [\n                'id',\n                'interactionMethod',\n                'markedForRemoval',\n                'spawnDate',\n                'dragCenter',\n                'dragOrigin',\n                'dragOffset',\n            ],\n\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity', 'height'],\n            animations: {\n                scaleX: ITEM_SCALE_SPRING,\n                scaleY: ITEM_SCALE_SPRING,\n                translateX: ITEM_TRANSLATE_SPRING,\n                translateY: ITEM_TRANSLATE_SPRING,\n                opacity: { type: 'tween', duration: 150 },\n            },\n        },\n    });\n\n    var getItemsPerRow = function(horizontalSpace, itemWidth) {\n        // add one pixel leeway, when using percentages for item width total items can be 1.99 per row\n\n        return Math.max(1, Math.floor((horizontalSpace + 1) / itemWidth));\n    };\n\n    var getItemIndexByPosition = function getItemIndexByPosition(view, children, positionInView) {\n        if (!positionInView) return;\n\n        var horizontalSpace = view.rect.element.width;\n        // const children = view.childViews;\n        var l = children.length;\n        var last = null;\n\n        // -1, don't move items to accomodate (either add to top or bottom)\n        if (l === 0 || positionInView.top < children[0].rect.element.top) return -1;\n\n        // let's get the item width\n        var item = children[0];\n        var itemRect = item.rect.element;\n        var itemHorizontalMargin = itemRect.marginLeft + itemRect.marginRight;\n        var itemWidth = itemRect.width + itemHorizontalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            for (var index = 0; index < l; index++) {\n                var child = children[index];\n                var childMid = child.rect.outer.top + child.rect.element.height * 0.5;\n                if (positionInView.top < childMid) {\n                    return index;\n                }\n            }\n            return l;\n        }\n\n        // grid\n        var itemVerticalMargin = itemRect.marginTop + itemRect.marginBottom;\n        var itemHeight = itemRect.height + itemVerticalMargin;\n        for (var _index = 0; _index < l; _index++) {\n            var indexX = _index % itemsPerRow;\n            var indexY = Math.floor(_index / itemsPerRow);\n\n            var offsetX = indexX * itemWidth;\n            var offsetY = indexY * itemHeight;\n\n            var itemTop = offsetY - itemRect.marginTop;\n            var itemRight = offsetX + itemWidth;\n            var itemBottom = offsetY + itemHeight + itemRect.marginBottom;\n\n            if (positionInView.top < itemBottom && positionInView.top > itemTop) {\n                if (positionInView.left < itemRight) {\n                    return _index;\n                } else if (_index !== l - 1) {\n                    last = _index;\n                } else {\n                    last = null;\n                }\n            }\n        }\n\n        if (last !== null) {\n            return last;\n        }\n\n        return l;\n    };\n\n    var dropAreaDimensions = {\n        height: 0,\n        width: 0,\n        get getHeight() {\n            return this.height;\n        },\n        set setHeight(val) {\n            if (this.height === 0 || val === 0) this.height = val;\n        },\n        get getWidth() {\n            return this.width;\n        },\n        set setWidth(val) {\n            if (this.width === 0 || val === 0) this.width = val;\n        },\n        setDimensions: function setDimensions(height, width) {\n            if (this.height === 0 || height === 0) this.height = height;\n            if (this.width === 0 || width === 0) this.width = width;\n        },\n    };\n\n    var create$8 = function create(_ref) {\n        var root = _ref.root;\n        // need to set role to list as otherwise it won't be read as a list by VoiceOver\n        attr(root.element, 'role', 'list');\n\n        root.ref.lastItemSpanwDate = Date.now();\n    };\n\n    /**\n     * Inserts a new item\n     * @param root\n     * @param action\n     */\n    var addItemView = function addItemView(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        var id = action.id,\n            index = action.index,\n            interactionMethod = action.interactionMethod;\n\n        root.ref.addIndex = index;\n\n        var now = Date.now();\n        var spawnDate = now;\n        var opacity = 1;\n\n        if (interactionMethod !== InteractionMethod.NONE) {\n            opacity = 0;\n            var cooldown = root.query('GET_ITEM_INSERT_INTERVAL');\n            var dist = now - root.ref.lastItemSpanwDate;\n            spawnDate = dist < cooldown ? now + (cooldown - dist) : now;\n        }\n\n        root.ref.lastItemSpanwDate = spawnDate;\n\n        root.appendChildView(\n            root.createChildView(\n                // view type\n                item,\n\n                // props\n                {\n                    spawnDate: spawnDate,\n                    id: id,\n                    opacity: opacity,\n                    interactionMethod: interactionMethod,\n                }\n            ),\n\n            index\n        );\n    };\n\n    var moveItem = function moveItem(item, x, y) {\n        var vx = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n        var vy = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : 1;\n        // set to null to remove animation while dragging\n        if (item.dragOffset) {\n            item.translateX = null;\n            item.translateY = null;\n            item.translateX = item.dragOrigin.x + item.dragOffset.x;\n            item.translateY = item.dragOrigin.y + item.dragOffset.y;\n            item.scaleX = 1.025;\n            item.scaleY = 1.025;\n        } else {\n            item.translateX = x;\n            item.translateY = y;\n\n            if (Date.now() > item.spawnDate) {\n                // reveal element\n                if (item.opacity === 0) {\n                    introItemView(item, x, y, vx, vy);\n                }\n\n                // make sure is default scale every frame\n                item.scaleX = 1;\n                item.scaleY = 1;\n                item.opacity = 1;\n            }\n        }\n    };\n\n    var introItemView = function introItemView(item, x, y, vx, vy) {\n        if (item.interactionMethod === InteractionMethod.NONE) {\n            item.translateX = null;\n            item.translateX = x;\n            item.translateY = null;\n            item.translateY = y;\n        } else if (item.interactionMethod === InteractionMethod.DROP) {\n            item.translateX = null;\n            item.translateX = x - vx * 20;\n\n            item.translateY = null;\n            item.translateY = y - vy * 10;\n\n            item.scaleX = 0.8;\n            item.scaleY = 0.8;\n        } else if (item.interactionMethod === InteractionMethod.BROWSE) {\n            item.translateY = null;\n            item.translateY = y - 30;\n        } else if (item.interactionMethod === InteractionMethod.API) {\n            item.translateX = null;\n            item.translateX = x - 30;\n            item.translateY = null;\n        }\n    };\n\n    /**\n     * Removes an existing item\n     * @param root\n     * @param action\n     */\n    var removeItemView = function removeItemView(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var id = action.id;\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        // if no view found, exit\n        if (!view) {\n            return;\n        }\n\n        // animate view out of view\n        view.scaleX = 0.9;\n        view.scaleY = 0.9;\n        view.opacity = 0;\n\n        // mark for removal\n        view.markedForRemoval = true;\n    };\n\n    var getItemHeight = function getItemHeight(child) {\n        return (\n            child.rect.element.height +\n            child.rect.element.marginBottom * 0.5 +\n            child.rect.element.marginTop * 0.5\n        );\n    };\n    var getItemWidth = function getItemWidth(child) {\n        return (\n            child.rect.element.width +\n            child.rect.element.marginLeft * 0.5 +\n            child.rect.element.marginRight * 0.5\n        );\n    };\n\n    var dragItem = function dragItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var id = action.id,\n            dragState = action.dragState;\n\n        // reference to item\n        var item = root.query('GET_ITEM', { id: id });\n\n        // get the view matching the given id\n        var view = root.childViews.find(function(child) {\n            return child.id === id;\n        });\n\n        var numItems = root.childViews.length;\n        var oldIndex = dragState.getItemIndex(item);\n\n        // if no view found, exit\n        if (!view) return;\n\n        var dragPosition = {\n            x: view.dragOrigin.x + view.dragOffset.x + view.dragCenter.x,\n            y: view.dragOrigin.y + view.dragOffset.y + view.dragCenter.y,\n        };\n\n        // get drag area dimensions\n        var dragHeight = getItemHeight(view);\n        var dragWidth = getItemWidth(view);\n\n        // get rows and columns (There will always be at least one row and one column if a file is present)\n        var cols = Math.floor(root.rect.outer.width / dragWidth);\n        if (cols > numItems) cols = numItems;\n\n        // rows are used to find when we have left the preview area bounding box\n        var rows = Math.floor(numItems / cols + 1);\n\n        dropAreaDimensions.setHeight = dragHeight * rows;\n        dropAreaDimensions.setWidth = dragWidth * cols;\n\n        // get new index of dragged item\n        var location = {\n            y: Math.floor(dragPosition.y / dragHeight),\n            x: Math.floor(dragPosition.x / dragWidth),\n            getGridIndex: function getGridIndex() {\n                if (\n                    dragPosition.y > dropAreaDimensions.getHeight ||\n                    dragPosition.y < 0 ||\n                    dragPosition.x > dropAreaDimensions.getWidth ||\n                    dragPosition.x < 0\n                )\n                    return oldIndex;\n                return this.y * cols + this.x;\n            },\n            getColIndex: function getColIndex() {\n                var items = root.query('GET_ACTIVE_ITEMS');\n                var visibleChildren = root.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = items.map(function(item) {\n                    return visibleChildren.find(function(childView) {\n                        return childView.id === item.id;\n                    });\n                });\n\n                var currentIndex = children.findIndex(function(child) {\n                    return child === view;\n                });\n                var dragHeight = getItemHeight(view);\n                var l = children.length;\n                var idx = l;\n                var childHeight = 0;\n                var childBottom = 0;\n                var childTop = 0;\n                for (var i = 0; i < l; i++) {\n                    childHeight = getItemHeight(children[i]);\n                    childTop = childBottom;\n                    childBottom = childTop + childHeight;\n                    if (dragPosition.y < childBottom) {\n                        if (currentIndex > i) {\n                            if (dragPosition.y < childTop + dragHeight) {\n                                idx = i;\n                                break;\n                            }\n                            continue;\n                        }\n                        idx = i;\n                        break;\n                    }\n                }\n                return idx;\n            },\n        };\n\n        // get new index\n        var index = cols > 1 ? location.getGridIndex() : location.getColIndex();\n        root.dispatch('MOVE_ITEM', { query: view, index: index });\n\n        // if the index of the item changed, dispatch reorder action\n        var currentIndex = dragState.getIndex();\n\n        if (currentIndex === undefined || currentIndex !== index) {\n            dragState.setIndex(index);\n\n            if (currentIndex === undefined) return;\n\n            root.dispatch('DID_REORDER_ITEMS', {\n                items: root.query('GET_ACTIVE_ITEMS'),\n                origin: oldIndex,\n                target: index,\n            });\n        }\n    };\n\n    /**\n     * Setup action routes\n     */\n    var route$2 = createRoute({\n        DID_ADD_ITEM: addItemView,\n        DID_REMOVE_ITEM: removeItemView,\n        DID_DRAG_ITEM: dragItem,\n    });\n\n    /**\n     * Write to view\n     * @param root\n     * @param actions\n     * @param props\n     */\n    var write$5 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions,\n            shouldOptimize = _ref5.shouldOptimize;\n        // route actions\n        route$2({ root: root, props: props, actions: actions });\n        var dragCoordinates = props.dragCoordinates;\n\n        // available space on horizontal axis\n        var horizontalSpace = root.rect.element.width;\n\n        // only draw children that have dimensions\n        var visibleChildren = root.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n\n        // sort based on current active items\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // get index\n        var dragIndex = dragCoordinates\n            ? getItemIndexByPosition(root, children, dragCoordinates)\n            : null;\n\n        // add index is used to reserve the dropped/added item index till the actual item is rendered\n        var addIndex = root.ref.addIndex || null;\n\n        // add index no longer needed till possibly next draw\n        root.ref.addIndex = null;\n\n        var dragIndexOffset = 0;\n        var removeIndexOffset = 0;\n        var addIndexOffset = 0;\n\n        if (children.length === 0) return;\n\n        var childRect = children[0].rect.element;\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            var offsetY = 0;\n            var dragOffset = 0;\n\n            children.forEach(function(child, index) {\n                if (dragIndex) {\n                    var dist = index - dragIndex;\n                    if (dist === -2) {\n                        dragOffset = -itemVerticalMargin * 0.25;\n                    } else if (dist === -1) {\n                        dragOffset = -itemVerticalMargin * 0.75;\n                    } else if (dist === 0) {\n                        dragOffset = itemVerticalMargin * 0.75;\n                    } else if (dist === 1) {\n                        dragOffset = itemVerticalMargin * 0.25;\n                    } else {\n                        dragOffset = 0;\n                    }\n                }\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                if (!child.markedForRemoval) {\n                    moveItem(child, 0, offsetY + dragOffset);\n                }\n\n                var itemHeight = child.rect.element.height + itemVerticalMargin;\n\n                var visualHeight = itemHeight * (child.markedForRemoval ? child.opacity : 1);\n\n                offsetY += visualHeight;\n            });\n        }\n        // grid\n        else {\n            var prevX = 0;\n            var prevY = 0;\n\n            children.forEach(function(child, index) {\n                if (index === dragIndex) {\n                    dragIndexOffset = 1;\n                }\n\n                if (index === addIndex) {\n                    addIndexOffset += 1;\n                }\n\n                if (child.markedForRemoval && child.opacity < 0.5) {\n                    removeIndexOffset -= 1;\n                }\n\n                var visualIndex = index + addIndexOffset + dragIndexOffset + removeIndexOffset;\n\n                var indexX = visualIndex % itemsPerRow;\n                var indexY = Math.floor(visualIndex / itemsPerRow);\n\n                var offsetX = indexX * itemWidth;\n                var offsetY = indexY * itemHeight;\n\n                var vectorX = Math.sign(offsetX - prevX);\n                var vectorY = Math.sign(offsetY - prevY);\n\n                prevX = offsetX;\n                prevY = offsetY;\n\n                if (child.markedForRemoval) return;\n\n                if (shouldOptimize) {\n                    child.translateX = null;\n                    child.translateY = null;\n                }\n\n                moveItem(child, offsetX, offsetY, vectorX, vectorY);\n            });\n        }\n    };\n\n    /**\n     * Filters actions that are meant specifically for a certain child of the list\n     * @param child\n     * @param actions\n     */\n    var filterSetItemActions = function filterSetItemActions(child, actions) {\n        return actions.filter(function(action) {\n            // if action has an id, filter out actions that don't have this child id\n            if (action.data && action.data.id) {\n                return child.id === action.data.id;\n            }\n\n            // allow all other actions\n            return true;\n        });\n    };\n\n    var list = createView({\n        create: create$8,\n        write: write$5,\n        tag: 'ul',\n        name: 'list',\n        didWriteView: function didWriteView(_ref6) {\n            var root = _ref6.root;\n            root.childViews\n                .filter(function(view) {\n                    return view.markedForRemoval && view.opacity === 0 && view.resting;\n                })\n                .forEach(function(view) {\n                    view._destroy();\n                    root.removeChildView(view);\n                });\n        },\n        filterFrameActionsForChild: filterSetItemActions,\n        mixins: {\n            apis: ['dragCoordinates'],\n        },\n    });\n\n    var create$9 = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.ref.list = root.appendChildView(root.createChildView(list));\n        props.dragCoordinates = null;\n        props.overflowing = false;\n    };\n\n    var storeDragCoordinates = function storeDragCoordinates(_ref2) {\n        var root = _ref2.root,\n            props = _ref2.props,\n            action = _ref2.action;\n        if (!root.query('GET_ITEM_INSERT_LOCATION_FREEDOM')) return;\n        props.dragCoordinates = {\n            left: action.position.scopeLeft - root.ref.list.rect.element.left,\n            top:\n                action.position.scopeTop -\n                (root.rect.outer.top + root.rect.element.marginTop + root.rect.element.scrollTop),\n        };\n    };\n\n    var clearDragCoordinates = function clearDragCoordinates(_ref3) {\n        var props = _ref3.props;\n        props.dragCoordinates = null;\n    };\n\n    var route$3 = createRoute({\n        DID_DRAG: storeDragCoordinates,\n        DID_END_DRAG: clearDragCoordinates,\n    });\n\n    var write$6 = function write(_ref4) {\n        var root = _ref4.root,\n            props = _ref4.props,\n            actions = _ref4.actions;\n\n        // route actions\n        route$3({ root: root, props: props, actions: actions });\n\n        // current drag position\n        root.ref.list.dragCoordinates = props.dragCoordinates;\n\n        // if currently overflowing but no longer received overflow\n        if (props.overflowing && !props.overflow) {\n            props.overflowing = false;\n\n            // reset overflow state\n            root.element.dataset.state = '';\n            root.height = null;\n        }\n\n        // if is not overflowing currently but does receive overflow value\n        if (props.overflow) {\n            var newHeight = Math.round(props.overflow);\n            if (newHeight !== root.height) {\n                props.overflowing = true;\n                root.element.dataset.state = 'overflow';\n                root.height = newHeight;\n            }\n        }\n    };\n\n    var listScroller = createView({\n        create: create$9,\n        write: write$6,\n        name: 'list-scroller',\n        mixins: {\n            apis: ['overflow', 'dragCoordinates'],\n            styles: ['height', 'translateY'],\n            animations: {\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var attrToggle = function attrToggle(element, name, state) {\n        var enabledValue = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n        if (state) {\n            attr(element, name, enabledValue);\n        } else {\n            element.removeAttribute(name);\n        }\n    };\n\n    var resetFileInput = function resetFileInput(input) {\n        // no value, no need to reset\n        if (!input || input.value === '') {\n            return;\n        }\n\n        try {\n            // for modern browsers\n            input.value = '';\n        } catch (err) {}\n\n        // for IE10\n        if (input.value) {\n            // quickly append input to temp form and reset form\n            var form = createElement$1('form');\n            var parentNode = input.parentNode;\n            var ref = input.nextSibling;\n            form.appendChild(input);\n            form.reset();\n\n            // re-inject input where it originally was\n            if (ref) {\n                parentNode.insertBefore(input, ref);\n            } else {\n                parentNode.appendChild(input);\n            }\n        }\n    };\n\n    var create$a = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n\n        // set id so can be referenced from outside labels\n        root.element.id = 'filepond--browser-' + props.id;\n\n        // set name of element (is removed when a value is set)\n        attr(root.element, 'name', root.query('GET_NAME'));\n\n        // we have to link this element to the status element\n        attr(root.element, 'aria-controls', 'filepond--assistant-' + props.id);\n\n        // set label, we use labelled by as otherwise the screenreader does not read the \"browse\" text in the label (as it has tabindex: 0)\n        attr(root.element, 'aria-labelledby', 'filepond--drop-label-' + props.id);\n\n        // set configurable props\n        setAcceptedFileTypes({\n            root: root,\n            action: { value: root.query('GET_ACCEPTED_FILE_TYPES') },\n        });\n        toggleAllowMultiple({ root: root, action: { value: root.query('GET_ALLOW_MULTIPLE') } });\n        toggleDirectoryFilter({\n            root: root,\n            action: { value: root.query('GET_ALLOW_DIRECTORIES_ONLY') },\n        });\n        toggleDisabled({ root: root });\n        toggleRequired({ root: root, action: { value: root.query('GET_REQUIRED') } });\n        setCaptureMethod({ root: root, action: { value: root.query('GET_CAPTURE_METHOD') } });\n\n        // handle changes to the input field\n        root.ref.handleChange = function(e) {\n            if (!root.element.value) {\n                return;\n            }\n\n            // extract files and move value of webkitRelativePath path to _relativePath\n            var files = Array.from(root.element.files).map(function(file) {\n                file._relativePath = file.webkitRelativePath;\n                return file;\n            });\n\n            // we add a little delay so the OS file select window can move out of the way before we add our file\n            setTimeout(function() {\n                // load files\n                props.onload(files);\n\n                // reset input, it's just for exposing a method to drop files, should not retain any state\n                resetFileInput(root.element);\n            }, 250);\n        };\n\n        root.element.addEventListener('change', root.ref.handleChange);\n    };\n\n    var setAcceptedFileTypes = function setAcceptedFileTypes(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.query('GET_ALLOW_SYNC_ACCEPT_ATTRIBUTE')) return;\n        attrToggle(\n            root.element,\n            'accept',\n            !!action.value,\n            action.value ? action.value.join(',') : ''\n        );\n    };\n\n    var toggleAllowMultiple = function toggleAllowMultiple(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        attrToggle(root.element, 'multiple', action.value);\n    };\n\n    var toggleDirectoryFilter = function toggleDirectoryFilter(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        attrToggle(root.element, 'webkitdirectory', action.value);\n    };\n\n    var toggleDisabled = function toggleDisabled(_ref5) {\n        var root = _ref5.root;\n        var isDisabled = root.query('GET_DISABLED');\n        var doesAllowBrowse = root.query('GET_ALLOW_BROWSE');\n        var disableField = isDisabled || !doesAllowBrowse;\n        attrToggle(root.element, 'disabled', disableField);\n    };\n\n    var toggleRequired = function toggleRequired(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        // want to remove required, always possible\n        if (!action.value) {\n            attrToggle(root.element, 'required', false);\n        }\n        // if want to make required, only possible when zero items\n        else if (root.query('GET_TOTAL_ITEMS') === 0) {\n            attrToggle(root.element, 'required', true);\n        }\n    };\n\n    var setCaptureMethod = function setCaptureMethod(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        attrToggle(\n            root.element,\n            'capture',\n            !!action.value,\n            action.value === true ? '' : action.value\n        );\n    };\n\n    var updateRequiredStatus = function updateRequiredStatus(_ref8) {\n        var root = _ref8.root;\n        var element = root.element;\n        // always remove the required attribute when more than zero items\n        if (root.query('GET_TOTAL_ITEMS') > 0) {\n            attrToggle(element, 'required', false);\n            attrToggle(element, 'name', false);\n        } else {\n            // add name attribute\n            attrToggle(element, 'name', true, root.query('GET_NAME'));\n\n            // remove any validation messages\n            var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n            if (shouldCheckValidity) {\n                element.setCustomValidity('');\n            }\n\n            // we only add required if the field has been deemed required\n            if (root.query('GET_REQUIRED')) {\n                attrToggle(element, 'required', true);\n            }\n        }\n    };\n\n    var updateFieldValidityStatus = function updateFieldValidityStatus(_ref9) {\n        var root = _ref9.root;\n        var shouldCheckValidity = root.query('GET_CHECK_VALIDITY');\n        if (!shouldCheckValidity) return;\n        root.element.setCustomValidity(root.query('GET_LABEL_INVALID_FIELD'));\n    };\n\n    var browser = createView({\n        tag: 'input',\n        name: 'browser',\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        attributes: {\n            type: 'file',\n        },\n\n        create: create$a,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            root.element.removeEventListener('change', root.ref.handleChange);\n        },\n        write: createRoute({\n            DID_LOAD_ITEM: updateRequiredStatus,\n            DID_REMOVE_ITEM: updateRequiredStatus,\n            DID_THROW_ITEM_INVALID: updateFieldValidityStatus,\n\n            DID_SET_DISABLED: toggleDisabled,\n            DID_SET_ALLOW_BROWSE: toggleDisabled,\n            DID_SET_ALLOW_DIRECTORIES_ONLY: toggleDirectoryFilter,\n            DID_SET_ALLOW_MULTIPLE: toggleAllowMultiple,\n            DID_SET_ACCEPTED_FILE_TYPES: setAcceptedFileTypes,\n            DID_SET_CAPTURE_METHOD: setCaptureMethod,\n            DID_SET_REQUIRED: toggleRequired,\n        }),\n    });\n\n    var Key = {\n        ENTER: 13,\n        SPACE: 32,\n    };\n\n    var create$b = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // create the label and link it to the file browser\n        var label = createElement$1('label');\n        attr(label, 'for', 'filepond--browser-' + props.id);\n\n        // use for labeling file input (aria-labelledby on file input)\n        attr(label, 'id', 'filepond--drop-label-' + props.id);\n\n        // handle keys\n        root.ref.handleKeyDown = function(e) {\n            var isActivationKey = e.keyCode === Key.ENTER || e.keyCode === Key.SPACE;\n            if (!isActivationKey) return;\n            // stops from triggering the element a second time\n            e.preventDefault();\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        root.ref.handleClick = function(e) {\n            var isLabelClick = e.target === label || label.contains(e.target);\n\n            // don't want to click twice\n            if (isLabelClick) return;\n\n            // click link (will then in turn activate file input)\n            root.ref.label.click();\n        };\n\n        // attach events\n        label.addEventListener('keydown', root.ref.handleKeyDown);\n        root.element.addEventListener('click', root.ref.handleClick);\n\n        // update\n        updateLabelValue(label, props.caption);\n\n        // add!\n        root.appendChild(label);\n        root.ref.label = label;\n    };\n\n    var updateLabelValue = function updateLabelValue(label, value) {\n        label.innerHTML = value;\n        var clickable = label.querySelector('.filepond--label-action');\n        if (clickable) {\n            attr(clickable, 'tabindex', '0');\n        }\n        return value;\n    };\n\n    var dropLabel = createView({\n        name: 'drop-label',\n        ignoreRect: true,\n        create: create$b,\n        destroy: function destroy(_ref2) {\n            var root = _ref2.root;\n            root.ref.label.addEventListener('keydown', root.ref.handleKeyDown);\n            root.element.removeEventListener('click', root.ref.handleClick);\n        },\n        write: createRoute({\n            DID_SET_LABEL_IDLE: function DID_SET_LABEL_IDLE(_ref3) {\n                var root = _ref3.root,\n                    action = _ref3.action;\n                updateLabelValue(root.ref.label, action.value);\n            },\n        }),\n\n        mixins: {\n            styles: ['opacity', 'translateX', 'translateY'],\n            animations: {\n                opacity: { type: 'tween', duration: 150 },\n                translateX: 'spring',\n                translateY: 'spring',\n            },\n        },\n    });\n\n    var blob = createView({\n        name: 'drip-blob',\n        ignoreRect: true,\n        mixins: {\n            styles: ['translateX', 'translateY', 'scaleX', 'scaleY', 'opacity'],\n            animations: {\n                scaleX: 'spring',\n                scaleY: 'spring',\n                translateX: 'spring',\n                translateY: 'spring',\n                opacity: { type: 'tween', duration: 250 },\n            },\n        },\n    });\n\n    var addBlob = function addBlob(_ref) {\n        var root = _ref.root;\n        var centerX = root.rect.element.width * 0.5;\n        var centerY = root.rect.element.height * 0.5;\n\n        root.ref.blob = root.appendChildView(\n            root.createChildView(blob, {\n                opacity: 0,\n                scaleX: 2.5,\n                scaleY: 2.5,\n                translateX: centerX,\n                translateY: centerY,\n            })\n        );\n    };\n\n    var moveBlob = function moveBlob(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!root.ref.blob) {\n            addBlob({ root: root });\n            return;\n        }\n\n        root.ref.blob.translateX = action.position.scopeLeft;\n        root.ref.blob.translateY = action.position.scopeTop;\n        root.ref.blob.scaleX = 1;\n        root.ref.blob.scaleY = 1;\n        root.ref.blob.opacity = 1;\n    };\n\n    var hideBlob = function hideBlob(_ref3) {\n        var root = _ref3.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.opacity = 0;\n    };\n\n    var explodeBlob = function explodeBlob(_ref4) {\n        var root = _ref4.root;\n        if (!root.ref.blob) {\n            return;\n        }\n        root.ref.blob.scaleX = 2.5;\n        root.ref.blob.scaleY = 2.5;\n        root.ref.blob.opacity = 0;\n    };\n\n    var write$7 = function write(_ref5) {\n        var root = _ref5.root,\n            props = _ref5.props,\n            actions = _ref5.actions;\n        route$4({ root: root, props: props, actions: actions });\n        var blob = root.ref.blob;\n\n        if (actions.length === 0 && blob && blob.opacity === 0) {\n            root.removeChildView(blob);\n            root.ref.blob = null;\n        }\n    };\n\n    var route$4 = createRoute({\n        DID_DRAG: moveBlob,\n        DID_DROP: explodeBlob,\n        DID_END_DRAG: hideBlob,\n    });\n\n    var drip = createView({\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        name: 'drip',\n        write: write$7,\n    });\n\n    var setInputFiles = function setInputFiles(element, files) {\n        try {\n            // Create a DataTransfer instance and add a newly created file\n            var dataTransfer = new DataTransfer();\n            files.forEach(function(file) {\n                if (file instanceof File) {\n                    dataTransfer.items.add(file);\n                } else {\n                    dataTransfer.items.add(\n                        new File([file], file.name, {\n                            type: file.type,\n                        })\n                    );\n                }\n            });\n\n            // Assign the DataTransfer files list to the file input\n            element.files = dataTransfer.files;\n        } catch (err) {\n            return false;\n        }\n        return true;\n    };\n\n    var create$c = function create(_ref) {\n        var root = _ref.root;\n        return (root.ref.fields = {});\n    };\n\n    var getField = function getField(root, id) {\n        return root.ref.fields[id];\n    };\n\n    var syncFieldPositionsWithItems = function syncFieldPositionsWithItems(root) {\n        root.query('GET_ACTIVE_ITEMS').forEach(function(item) {\n            if (!root.ref.fields[item.id]) return;\n            root.element.appendChild(root.ref.fields[item.id]);\n        });\n    };\n\n    var didReorderItems = function didReorderItems(_ref2) {\n        var root = _ref2.root;\n        return syncFieldPositionsWithItems(root);\n    };\n\n    var didAddItem = function didAddItem(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        var fileItem = root.query('GET_ITEM', action.id);\n        var isLocalFile = fileItem.origin === FileOrigin.LOCAL;\n        var shouldUseFileInput = !isLocalFile && root.query('SHOULD_UPDATE_FILE_INPUT');\n        var dataContainer = createElement$1('input');\n        dataContainer.type = shouldUseFileInput ? 'file' : 'hidden';\n        dataContainer.name = root.query('GET_NAME');\n        root.ref.fields[action.id] = dataContainer;\n        syncFieldPositionsWithItems(root);\n    };\n\n    var didLoadItem$1 = function didLoadItem(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n\n        // store server ref in hidden input\n        if (action.serverFileReference !== null) field.value = action.serverFileReference;\n\n        // store file item in file input\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n\n        var fileItem = root.query('GET_ITEM', action.id);\n        setInputFiles(field, [fileItem.file]);\n    };\n\n    var didPrepareOutput = function didPrepareOutput(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        // this timeout pushes the handler after 'load'\n        if (!root.query('SHOULD_UPDATE_FILE_INPUT')) return;\n        setTimeout(function() {\n            var field = getField(root, action.id);\n            if (!field) return;\n            setInputFiles(field, [action.file]);\n        }, 0);\n    };\n\n    var didSetDisabled = function didSetDisabled(_ref6) {\n        var root = _ref6.root;\n        root.element.disabled = root.query('GET_DISABLED');\n    };\n\n    var didRemoveItem = function didRemoveItem(_ref7) {\n        var root = _ref7.root,\n            action = _ref7.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (field.parentNode) field.parentNode.removeChild(field);\n        delete root.ref.fields[action.id];\n    };\n\n    // only runs for server files. will refuse to update the value if the field\n    // is a file field\n    var didDefineValue = function didDefineValue(_ref8) {\n        var root = _ref8.root,\n            action = _ref8.action;\n        var field = getField(root, action.id);\n        if (!field) return;\n        if (action.value === null) {\n            // clear field value\n            field.removeAttribute('value');\n        } else {\n            // set field value\n            if (field.type != 'file') {\n                field.value = action.value;\n            }\n        }\n        syncFieldPositionsWithItems(root);\n    };\n\n    var write$8 = createRoute({\n        DID_SET_DISABLED: didSetDisabled,\n        DID_ADD_ITEM: didAddItem,\n        DID_LOAD_ITEM: didLoadItem$1,\n        DID_REMOVE_ITEM: didRemoveItem,\n        DID_DEFINE_VALUE: didDefineValue,\n        DID_PREPARE_OUTPUT: didPrepareOutput,\n        DID_REORDER_ITEMS: didReorderItems,\n        DID_SORT_ITEMS: didReorderItems,\n    });\n\n    var data = createView({\n        tag: 'fieldset',\n        name: 'data',\n        create: create$c,\n        write: write$8,\n        ignoreRect: true,\n    });\n\n    var getRootNode = function getRootNode(element) {\n        return 'getRootNode' in element ? element.getRootNode() : document;\n    };\n\n    var images = ['jpg', 'jpeg', 'png', 'gif', 'bmp', 'webp', 'svg', 'tiff'];\n    var text$1 = ['css', 'csv', 'html', 'txt'];\n    var map = {\n        zip: 'zip|compressed',\n        epub: 'application/epub+zip',\n    };\n\n    var guesstimateMimeType = function guesstimateMimeType() {\n        var extension = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        extension = extension.toLowerCase();\n        if (images.includes(extension)) {\n            return (\n                'image/' +\n                (extension === 'jpg' ? 'jpeg' : extension === 'svg' ? 'svg+xml' : extension)\n            );\n        }\n        if (text$1.includes(extension)) {\n            return 'text/' + extension;\n        }\n\n        return map[extension] || '';\n    };\n\n    var requestDataTransferItems = function requestDataTransferItems(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // try to get links from transfer, if found we'll exit immediately (unless a file is in the dataTransfer as well, this is because Firefox could represent the file as a URL and a file object at the same time)\n            var links = getLinks(dataTransfer);\n            if (links.length && !hasFiles(dataTransfer)) {\n                return resolve(links);\n            }\n            // try to get files from the transfer\n            getFiles(dataTransfer).then(resolve);\n        });\n    };\n\n    /**\n     * Test if datatransfer has files\n     */\n    var hasFiles = function hasFiles(dataTransfer) {\n        if (dataTransfer.files) return dataTransfer.files.length > 0;\n        return false;\n    };\n\n    /**\n     * Extracts files from a DataTransfer object\n     */\n    var getFiles = function getFiles(dataTransfer) {\n        return new Promise(function(resolve, reject) {\n            // get the transfer items as promises\n            var promisedFiles = (dataTransfer.items ? Array.from(dataTransfer.items) : [])\n                // only keep file system items (files and directories)\n                .filter(function(item) {\n                    return isFileSystemItem(item);\n                })\n\n                // map each item to promise\n                .map(function(item) {\n                    return getFilesFromItem(item);\n                });\n\n            // if is empty, see if we can extract some info from the files property as a fallback\n            if (!promisedFiles.length) {\n                // TODO: test for directories (should not be allowed)\n                // Use FileReader, problem is that the files property gets lost in the process\n                resolve(dataTransfer.files ? Array.from(dataTransfer.files) : []);\n                return;\n            }\n\n            // done!\n            Promise.all(promisedFiles)\n                .then(function(returnedFileGroups) {\n                    // flatten groups\n                    var files = [];\n                    returnedFileGroups.forEach(function(group) {\n                        files.push.apply(files, group);\n                    });\n\n                    // done (filter out empty files)!\n                    resolve(\n                        files\n                            .filter(function(file) {\n                                return file;\n                            })\n                            .map(function(file) {\n                                if (!file._relativePath)\n                                    file._relativePath = file.webkitRelativePath;\n                                return file;\n                            })\n                    );\n                })\n                .catch(console.error);\n        });\n    };\n\n    var isFileSystemItem = function isFileSystemItem(item) {\n        if (isEntry(item)) {\n            var entry = getAsEntry(item);\n            if (entry) {\n                return entry.isFile || entry.isDirectory;\n            }\n        }\n        return item.kind === 'file';\n    };\n\n    var getFilesFromItem = function getFilesFromItem(item) {\n        return new Promise(function(resolve, reject) {\n            if (isDirectoryEntry(item)) {\n                getFilesInDirectory(getAsEntry(item))\n                    .then(resolve)\n                    .catch(reject);\n                return;\n            }\n\n            resolve([item.getAsFile()]);\n        });\n    };\n\n    var getFilesInDirectory = function getFilesInDirectory(entry) {\n        return new Promise(function(resolve, reject) {\n            var files = [];\n\n            // the total entries to read\n            var dirCounter = 0;\n            var fileCounter = 0;\n\n            var resolveIfDone = function resolveIfDone() {\n                if (fileCounter === 0 && dirCounter === 0) {\n                    resolve(files);\n                }\n            };\n\n            // the recursive function\n            var readEntries = function readEntries(dirEntry) {\n                dirCounter++;\n\n                var directoryReader = dirEntry.createReader();\n\n                // directories are returned in batches, we need to process all batches before we're done\n                var readBatch = function readBatch() {\n                    directoryReader.readEntries(function(entries) {\n                        if (entries.length === 0) {\n                            dirCounter--;\n                            resolveIfDone();\n                            return;\n                        }\n\n                        entries.forEach(function(entry) {\n                            // recursively read more directories\n                            if (entry.isDirectory) {\n                                readEntries(entry);\n                            } else {\n                                // read as file\n                                fileCounter++;\n\n                                entry.file(function(file) {\n                                    var correctedFile = correctMissingFileType(file);\n                                    if (entry.fullPath)\n                                        correctedFile._relativePath = entry.fullPath;\n                                    files.push(correctedFile);\n                                    fileCounter--;\n                                    resolveIfDone();\n                                });\n                            }\n                        });\n\n                        // try to get next batch of files\n                        readBatch();\n                    }, reject);\n                };\n\n                // read first batch of files\n                readBatch();\n            };\n\n            // go!\n            readEntries(entry);\n        });\n    };\n\n    var correctMissingFileType = function correctMissingFileType(file) {\n        if (file.type.length) return file;\n        var date = file.lastModifiedDate;\n        var name = file.name;\n        var type = guesstimateMimeType(getExtensionFromFilename(file.name));\n        if (!type.length) return file;\n        file = file.slice(0, file.size, type);\n        file.name = name;\n        file.lastModifiedDate = date;\n        return file;\n    };\n\n    var isDirectoryEntry = function isDirectoryEntry(item) {\n        return isEntry(item) && (getAsEntry(item) || {}).isDirectory;\n    };\n\n    var isEntry = function isEntry(item) {\n        return 'webkitGetAsEntry' in item;\n    };\n\n    var getAsEntry = function getAsEntry(item) {\n        return item.webkitGetAsEntry();\n    };\n\n    /**\n     * Extracts links from a DataTransfer object\n     */\n    var getLinks = function getLinks(dataTransfer) {\n        var links = [];\n        try {\n            // look in meta data property\n            links = getLinksFromTransferMetaData(dataTransfer);\n            if (links.length) {\n                return links;\n            }\n            links = getLinksFromTransferURLData(dataTransfer);\n        } catch (e) {\n            // nope nope nope (probably IE trouble)\n        }\n        return links;\n    };\n\n    var getLinksFromTransferURLData = function getLinksFromTransferURLData(dataTransfer) {\n        var data = dataTransfer.getData('url');\n        if (typeof data === 'string' && data.length) {\n            return [data];\n        }\n        return [];\n    };\n\n    var getLinksFromTransferMetaData = function getLinksFromTransferMetaData(dataTransfer) {\n        var data = dataTransfer.getData('text/html');\n        if (typeof data === 'string' && data.length) {\n            var matches = data.match(/src\\s*=\\s*\"(.+?)\"/);\n            if (matches) {\n                return [matches[1]];\n            }\n        }\n        return [];\n    };\n\n    var dragNDropObservers = [];\n\n    var eventPosition = function eventPosition(e) {\n        return {\n            pageLeft: e.pageX,\n            pageTop: e.pageY,\n            scopeLeft: e.offsetX || e.layerX,\n            scopeTop: e.offsetY || e.layerY,\n        };\n    };\n\n    var createDragNDropClient = function createDragNDropClient(\n        element,\n        scopeToObserve,\n        filterElement\n    ) {\n        var observer = getDragNDropObserver(scopeToObserve);\n\n        var client = {\n            element: element,\n            filterElement: filterElement,\n            state: null,\n            ondrop: function ondrop() {},\n            onenter: function onenter() {},\n            ondrag: function ondrag() {},\n            onexit: function onexit() {},\n            onload: function onload() {},\n            allowdrop: function allowdrop() {},\n        };\n\n        client.destroy = observer.addListener(client);\n\n        return client;\n    };\n\n    var getDragNDropObserver = function getDragNDropObserver(element) {\n        // see if already exists, if so, return\n        var observer = dragNDropObservers.find(function(item) {\n            return item.element === element;\n        });\n        if (observer) {\n            return observer;\n        }\n\n        // create new observer, does not yet exist for this element\n        var newObserver = createDragNDropObserver(element);\n        dragNDropObservers.push(newObserver);\n        return newObserver;\n    };\n\n    var createDragNDropObserver = function createDragNDropObserver(element) {\n        var clients = [];\n\n        var routes = {\n            dragenter: dragenter,\n            dragover: dragover,\n            dragleave: dragleave,\n            drop: drop,\n        };\n\n        var handlers = {};\n\n        forin(routes, function(event, createHandler) {\n            handlers[event] = createHandler(element, clients);\n            element.addEventListener(event, handlers[event], false);\n        });\n\n        var observer = {\n            element: element,\n            addListener: function addListener(client) {\n                // add as client\n                clients.push(client);\n\n                // return removeListener function\n                return function() {\n                    // remove client\n                    clients.splice(clients.indexOf(client), 1);\n\n                    // if no more clients, clean up observer\n                    if (clients.length === 0) {\n                        dragNDropObservers.splice(dragNDropObservers.indexOf(observer), 1);\n\n                        forin(routes, function(event) {\n                            element.removeEventListener(event, handlers[event], false);\n                        });\n                    }\n                };\n            },\n        };\n\n        return observer;\n    };\n\n    var elementFromPoint = function elementFromPoint(root, point) {\n        if (!('elementFromPoint' in root)) {\n            root = document;\n        }\n        return root.elementFromPoint(point.x, point.y);\n    };\n\n    var isEventTarget = function isEventTarget(e, target) {\n        // get root\n        var root = getRootNode(target);\n\n        // get element at position\n        // if root is not actual shadow DOM and does not have elementFromPoint method, use the one on document\n        var elementAtPosition = elementFromPoint(root, {\n            x: e.pageX - window.pageXOffset,\n            y: e.pageY - window.pageYOffset,\n        });\n\n        // test if target is the element or if one of its children is\n        return elementAtPosition === target || target.contains(elementAtPosition);\n    };\n\n    var initialTarget = null;\n\n    var setDropEffect = function setDropEffect(dataTransfer, effect) {\n        // is in try catch as IE11 will throw error if not\n        try {\n            dataTransfer.dropEffect = effect;\n        } catch (e) {}\n    };\n\n    var dragenter = function dragenter(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            initialTarget = e.target;\n\n            clients.forEach(function(client) {\n                var element = client.element,\n                    onenter = client.onenter;\n\n                if (isEventTarget(e, element)) {\n                    client.state = 'enter';\n\n                    // fire enter event\n                    onenter(eventPosition(e));\n                }\n            });\n        };\n    };\n\n    var dragover = function dragover(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                var overDropTarget = false;\n\n                clients.some(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        onenter = client.onenter,\n                        onexit = client.onexit,\n                        ondrag = client.ondrag,\n                        allowdrop = client.allowdrop;\n\n                    // by default we can drop\n                    setDropEffect(dataTransfer, 'copy');\n\n                    // allow transfer of these items\n                    var allowsTransfer = allowdrop(items);\n\n                    // only used when can be dropped on page\n                    if (!allowsTransfer) {\n                        setDropEffect(dataTransfer, 'none');\n                        return;\n                    }\n\n                    // targetting this client\n                    if (isEventTarget(e, element)) {\n                        overDropTarget = true;\n\n                        // had no previous state, means we are entering this client\n                        if (client.state === null) {\n                            client.state = 'enter';\n                            onenter(eventPosition(e));\n                            return;\n                        }\n\n                        // now over element (no matter if it allows the drop or not)\n                        client.state = 'over';\n\n                        // needs to allow transfer\n                        if (filterElement && !allowsTransfer) {\n                            setDropEffect(dataTransfer, 'none');\n                            return;\n                        }\n\n                        // dragging\n                        ondrag(eventPosition(e));\n                    } else {\n                        // should be over an element to drop\n                        if (filterElement && !overDropTarget) {\n                            setDropEffect(dataTransfer, 'none');\n                        }\n\n                        // might have just left this client?\n                        if (client.state) {\n                            client.state = null;\n                            onexit(eventPosition(e));\n                        }\n                    }\n                });\n            });\n        };\n    };\n\n    var drop = function drop(root, clients) {\n        return function(e) {\n            e.preventDefault();\n\n            var dataTransfer = e.dataTransfer;\n\n            requestDataTransferItems(dataTransfer).then(function(items) {\n                clients.forEach(function(client) {\n                    var filterElement = client.filterElement,\n                        element = client.element,\n                        ondrop = client.ondrop,\n                        onexit = client.onexit,\n                        allowdrop = client.allowdrop;\n\n                    client.state = null;\n\n                    // if we're filtering on element we need to be over the element to drop\n                    if (filterElement && !isEventTarget(e, element)) return;\n\n                    // no transfer for this client\n                    if (!allowdrop(items)) return onexit(eventPosition(e));\n\n                    // we can drop these items on this client\n                    ondrop(eventPosition(e), items);\n                });\n            });\n        };\n    };\n\n    var dragleave = function dragleave(root, clients) {\n        return function(e) {\n            if (initialTarget !== e.target) {\n                return;\n            }\n\n            clients.forEach(function(client) {\n                var onexit = client.onexit;\n\n                client.state = null;\n\n                onexit(eventPosition(e));\n            });\n        };\n    };\n\n    var createHopper = function createHopper(scope, validateItems, options) {\n        // is now hopper scope\n        scope.classList.add('filepond--hopper');\n\n        // shortcuts\n        var catchesDropsOnPage = options.catchesDropsOnPage,\n            requiresDropOnElement = options.requiresDropOnElement,\n            _options$filterItems = options.filterItems,\n            filterItems =\n                _options$filterItems === void 0\n                    ? function(items) {\n                          return items;\n                      }\n                    : _options$filterItems;\n\n        // create a dnd client\n        var client = createDragNDropClient(\n            scope,\n            catchesDropsOnPage ? document.documentElement : scope,\n            requiresDropOnElement\n        );\n\n        // current client state\n        var lastState = '';\n        var currentState = '';\n\n        // determines if a file may be dropped\n        client.allowdrop = function(items) {\n            // TODO: if we can, throw error to indicate the items cannot by dropped\n\n            return validateItems(filterItems(items));\n        };\n\n        client.ondrop = function(position, items) {\n            var filteredItems = filterItems(items);\n\n            if (!validateItems(filteredItems)) {\n                api.ondragend(position);\n                return;\n            }\n\n            currentState = 'drag-drop';\n\n            api.onload(filteredItems, position);\n        };\n\n        client.ondrag = function(position) {\n            api.ondrag(position);\n        };\n\n        client.onenter = function(position) {\n            currentState = 'drag-over';\n\n            api.ondragstart(position);\n        };\n\n        client.onexit = function(position) {\n            currentState = 'drag-exit';\n\n            api.ondragend(position);\n        };\n\n        var api = {\n            updateHopperState: function updateHopperState() {\n                if (lastState !== currentState) {\n                    scope.dataset.hopperState = currentState;\n                    lastState = currentState;\n                }\n            },\n            onload: function onload() {},\n            ondragstart: function ondragstart() {},\n            ondrag: function ondrag() {},\n            ondragend: function ondragend() {},\n            destroy: function destroy() {\n                // destroy client\n                client.destroy();\n            },\n        };\n\n        return api;\n    };\n\n    var listening = false;\n    var listeners$1 = [];\n\n    var handlePaste = function handlePaste(e) {\n        // if is pasting in input or textarea and the target is outside of a filepond scope, ignore\n        var activeEl = document.activeElement;\n        if (activeEl && /textarea|input/i.test(activeEl.nodeName)) {\n            // test textarea or input is contained in filepond root\n            var inScope = false;\n            var element = activeEl;\n            while (element !== document.body) {\n                if (element.classList.contains('filepond--root')) {\n                    inScope = true;\n                    break;\n                }\n                element = element.parentNode;\n            }\n\n            if (!inScope) return;\n        }\n\n        requestDataTransferItems(e.clipboardData).then(function(files) {\n            // no files received\n            if (!files.length) {\n                return;\n            }\n\n            // notify listeners of received files\n            listeners$1.forEach(function(listener) {\n                return listener(files);\n            });\n        });\n    };\n\n    var listen = function listen(cb) {\n        // can't add twice\n        if (listeners$1.includes(cb)) {\n            return;\n        }\n\n        // add initial listener\n        listeners$1.push(cb);\n\n        // setup paste listener for entire page\n        if (listening) {\n            return;\n        }\n\n        listening = true;\n        document.addEventListener('paste', handlePaste);\n    };\n\n    var unlisten = function unlisten(listener) {\n        arrayRemove(listeners$1, listeners$1.indexOf(listener));\n\n        // clean up\n        if (listeners$1.length === 0) {\n            document.removeEventListener('paste', handlePaste);\n            listening = false;\n        }\n    };\n\n    var createPaster = function createPaster() {\n        var cb = function cb(files) {\n            api.onload(files);\n        };\n\n        var api = {\n            destroy: function destroy() {\n                unlisten(cb);\n            },\n            onload: function onload() {},\n        };\n\n        listen(cb);\n\n        return api;\n    };\n\n    /**\n     * Creates the file view\n     */\n    var create$d = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        root.element.id = 'filepond--assistant-' + props.id;\n        attr(root.element, 'role', 'status');\n        attr(root.element, 'aria-live', 'polite');\n        attr(root.element, 'aria-relevant', 'additions');\n    };\n\n    var addFilesNotificationTimeout = null;\n    var notificationClearTimeout = null;\n\n    var filenames = [];\n\n    var assist = function assist(root, message) {\n        root.element.textContent = message;\n    };\n\n    var clear$1 = function clear(root) {\n        root.element.textContent = '';\n    };\n\n    var listModified = function listModified(root, filename, label) {\n        var total = root.query('GET_TOTAL_ITEMS');\n        assist(\n            root,\n            label +\n                ' ' +\n                filename +\n                ', ' +\n                total +\n                ' ' +\n                (total === 1\n                    ? root.query('GET_LABEL_FILE_COUNT_SINGULAR')\n                    : root.query('GET_LABEL_FILE_COUNT_PLURAL'))\n        );\n\n        // clear group after set amount of time so the status is not read twice\n        clearTimeout(notificationClearTimeout);\n        notificationClearTimeout = setTimeout(function() {\n            clear$1(root);\n        }, 1500);\n    };\n\n    var isUsingFilePond = function isUsingFilePond(root) {\n        return root.element.parentNode.contains(document.activeElement);\n    };\n\n    var itemAdded = function itemAdded(_ref2) {\n        var root = _ref2.root,\n            action = _ref2.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        root.element.textContent = '';\n        var item = root.query('GET_ITEM', action.id);\n        filenames.push(item.filename);\n\n        clearTimeout(addFilesNotificationTimeout);\n        addFilesNotificationTimeout = setTimeout(function() {\n            listModified(root, filenames.join(', '), root.query('GET_LABEL_FILE_ADDED'));\n\n            filenames.length = 0;\n        }, 750);\n    };\n\n    var itemRemoved = function itemRemoved(_ref3) {\n        var root = _ref3.root,\n            action = _ref3.action;\n        if (!isUsingFilePond(root)) {\n            return;\n        }\n\n        var item = action.item;\n        listModified(root, item.filename, root.query('GET_LABEL_FILE_REMOVED'));\n    };\n\n    var itemProcessed = function itemProcessed(_ref4) {\n        var root = _ref4.root,\n            action = _ref4.action;\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_COMPLETE');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemProcessedUndo = function itemProcessedUndo(_ref5) {\n        var root = _ref5.root,\n            action = _ref5.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n        var label = root.query('GET_LABEL_FILE_PROCESSING_ABORTED');\n\n        assist(root, filename + ' ' + label);\n    };\n\n    var itemError = function itemError(_ref6) {\n        var root = _ref6.root,\n            action = _ref6.action;\n        var item = root.query('GET_ITEM', action.id);\n        var filename = item.filename;\n\n        // will also notify the user when FilePond is not being used, as the user might be occupied with other activities while uploading a file\n\n        assist(root, action.status.main + ' ' + filename + ' ' + action.status.sub);\n    };\n\n    var assistant = createView({\n        create: create$d,\n        ignoreRect: true,\n        ignoreRectUpdate: true,\n        write: createRoute({\n            DID_LOAD_ITEM: itemAdded,\n            DID_REMOVE_ITEM: itemRemoved,\n            DID_COMPLETE_ITEM_PROCESSING: itemProcessed,\n\n            DID_ABORT_ITEM_PROCESSING: itemProcessedUndo,\n            DID_REVERT_ITEM_PROCESSING: itemProcessedUndo,\n\n            DID_THROW_ITEM_REMOVE_ERROR: itemError,\n            DID_THROW_ITEM_LOAD_ERROR: itemError,\n            DID_THROW_ITEM_INVALID: itemError,\n            DID_THROW_ITEM_PROCESSING_ERROR: itemError,\n        }),\n\n        tag: 'span',\n        name: 'assistant',\n    });\n\n    var toCamels = function toCamels(string) {\n        var separator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '-';\n        return string.replace(new RegExp(separator + '.', 'g'), function(sub) {\n            return sub.charAt(1).toUpperCase();\n        });\n    };\n\n    var debounce = function debounce(func) {\n        var interval = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 16;\n        var immidiateOnly =\n            arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n        var last = Date.now();\n        var timeout = null;\n\n        return function() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            clearTimeout(timeout);\n\n            var dist = Date.now() - last;\n\n            var fn = function fn() {\n                last = Date.now();\n                func.apply(void 0, args);\n            };\n\n            if (dist < interval) {\n                // we need to delay by the difference between interval and dist\n                // for example: if distance is 10 ms and interval is 16 ms,\n                // we need to wait an additional 6ms before calling the function)\n                if (!immidiateOnly) {\n                    timeout = setTimeout(fn, interval - dist);\n                }\n            } else {\n                // go!\n                fn();\n            }\n        };\n    };\n\n    var MAX_FILES_LIMIT = 1000000;\n\n    var prevent = function prevent(e) {\n        return e.preventDefault();\n    };\n\n    var create$e = function create(_ref) {\n        var root = _ref.root,\n            props = _ref.props;\n        // Add id\n        var id = root.query('GET_ID');\n        if (id) {\n            root.element.id = id;\n        }\n\n        // Add className\n        var className = root.query('GET_CLASS_NAME');\n        if (className) {\n            className\n                .split(' ')\n                .filter(function(name) {\n                    return name.length;\n                })\n                .forEach(function(name) {\n                    root.element.classList.add(name);\n                });\n        }\n\n        // Field label\n        root.ref.label = root.appendChildView(\n            root.createChildView(\n                dropLabel,\n                Object.assign({}, props, {\n                    translateY: null,\n                    caption: root.query('GET_LABEL_IDLE'),\n                })\n            )\n        );\n\n        // List of items\n        root.ref.list = root.appendChildView(\n            root.createChildView(listScroller, { translateY: null })\n        );\n\n        // Background panel\n        root.ref.panel = root.appendChildView(root.createChildView(panel, { name: 'panel-root' }));\n\n        // Assistant notifies assistive tech when content changes\n        root.ref.assistant = root.appendChildView(\n            root.createChildView(assistant, Object.assign({}, props))\n        );\n\n        // Data\n        root.ref.data = root.appendChildView(root.createChildView(data, Object.assign({}, props)));\n\n        // Measure (tests if fixed height was set)\n        // DOCTYPE needs to be set for this to work\n        root.ref.measure = createElement$1('div');\n        root.ref.measure.style.height = '100%';\n        root.element.appendChild(root.ref.measure);\n\n        // information on the root height or fixed height status\n        root.ref.bounds = null;\n\n        // apply initial style properties\n        root.query('GET_STYLES')\n            .filter(function(style) {\n                return !isEmpty(style.value);\n            })\n            .map(function(_ref2) {\n                var name = _ref2.name,\n                    value = _ref2.value;\n                root.element.dataset[name] = value;\n            });\n\n        // determine if width changed\n        root.ref.widthPrevious = null;\n        root.ref.widthUpdated = debounce(function() {\n            root.ref.updateHistory = [];\n            root.dispatch('DID_RESIZE_ROOT');\n        }, 250);\n\n        // history of updates\n        root.ref.previousAspectRatio = null;\n        root.ref.updateHistory = [];\n\n        // prevent scrolling and zooming on iOS (only if supports pointer events, for then we can enable reorder)\n        var canHover = window.matchMedia('(pointer: fine) and (hover: hover)').matches;\n        var hasPointerEvents = 'PointerEvent' in window;\n        if (root.query('GET_ALLOW_REORDER') && hasPointerEvents && !canHover) {\n            root.element.addEventListener('touchmove', prevent, { passive: false });\n            root.element.addEventListener('gesturestart', prevent);\n        }\n\n        // add credits\n        var credits = root.query('GET_CREDITS');\n        var hasCredits = credits.length === 2;\n        if (hasCredits) {\n            var frag = document.createElement('a');\n            frag.className = 'filepond--credits';\n            frag.href = credits[0];\n            frag.tabIndex = -1;\n            frag.target = '_blank';\n            frag.rel = 'noopener noreferrer';\n            frag.textContent = credits[1];\n            root.element.appendChild(frag);\n            root.ref.credits = frag;\n        }\n    };\n\n    var write$9 = function write(_ref3) {\n        var root = _ref3.root,\n            props = _ref3.props,\n            actions = _ref3.actions;\n        // route actions\n        route$5({ root: root, props: props, actions: actions });\n\n        // apply style properties\n        actions\n            .filter(function(action) {\n                return /^DID_SET_STYLE_/.test(action.type);\n            })\n            .filter(function(action) {\n                return !isEmpty(action.data.value);\n            })\n            .map(function(_ref4) {\n                var type = _ref4.type,\n                    data = _ref4.data;\n                var name = toCamels(type.substring(8).toLowerCase(), '_');\n                root.element.dataset[name] = data.value;\n                root.invalidateLayout();\n            });\n\n        if (root.rect.element.hidden) return;\n\n        if (root.rect.element.width !== root.ref.widthPrevious) {\n            root.ref.widthPrevious = root.rect.element.width;\n            root.ref.widthUpdated();\n        }\n\n        // get box bounds, we do this only once\n        var bounds = root.ref.bounds;\n        if (!bounds) {\n            bounds = root.ref.bounds = calculateRootBoundingBoxHeight(root);\n\n            // destroy measure element\n            root.element.removeChild(root.ref.measure);\n            root.ref.measure = null;\n        }\n\n        // get quick references to various high level parts of the upload tool\n        var _root$ref = root.ref,\n            hopper = _root$ref.hopper,\n            label = _root$ref.label,\n            list = _root$ref.list,\n            panel = _root$ref.panel;\n\n        // sets correct state to hopper scope\n        if (hopper) {\n            hopper.updateHopperState();\n        }\n\n        // bool to indicate if we're full or not\n        var aspectRatio = root.query('GET_PANEL_ASPECT_RATIO');\n        var isMultiItem = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = isMultiItem ? root.query('GET_MAX_FILES') || MAX_FILES_LIMIT : 1;\n        var atMaxCapacity = totalItems === maxItems;\n\n        // action used to add item\n        var addAction = actions.find(function(action) {\n            return action.type === 'DID_ADD_ITEM';\n        });\n\n        // if reached max capacity and we've just reached it\n        if (atMaxCapacity && addAction) {\n            // get interaction type\n            var interactionMethod = addAction.data.interactionMethod;\n\n            // hide label\n            label.opacity = 0;\n\n            if (isMultiItem) {\n                label.translateY = -40;\n            } else {\n                if (interactionMethod === InteractionMethod.API) {\n                    label.translateX = 40;\n                } else if (interactionMethod === InteractionMethod.BROWSE) {\n                    label.translateY = 40;\n                } else {\n                    label.translateY = 30;\n                }\n            }\n        } else if (!atMaxCapacity) {\n            label.opacity = 1;\n            label.translateX = 0;\n            label.translateY = 0;\n        }\n\n        var listItemMargin = calculateListItemMargin(root);\n\n        var listHeight = calculateListHeight(root);\n\n        var labelHeight = label.rect.element.height;\n        var currentLabelHeight = !isMultiItem || atMaxCapacity ? 0 : labelHeight;\n\n        var listMarginTop = atMaxCapacity ? list.rect.element.marginTop : 0;\n        var listMarginBottom = totalItems === 0 ? 0 : list.rect.element.marginBottom;\n\n        var visualHeight =\n            currentLabelHeight + listMarginTop + listHeight.visual + listMarginBottom;\n        var boundsHeight =\n            currentLabelHeight + listMarginTop + listHeight.bounds + listMarginBottom;\n\n        // link list to label bottom position\n        list.translateY =\n            Math.max(0, currentLabelHeight - list.rect.element.marginTop) - listItemMargin.top;\n\n        if (aspectRatio) {\n            // fixed aspect ratio\n\n            // calculate height based on width\n            var width = root.rect.element.width;\n            var height = width * aspectRatio;\n\n            // clear history if aspect ratio has changed\n            if (aspectRatio !== root.ref.previousAspectRatio) {\n                root.ref.previousAspectRatio = aspectRatio;\n                root.ref.updateHistory = [];\n            }\n\n            // remember this width\n            var history = root.ref.updateHistory;\n            history.push(width);\n\n            var MAX_BOUNCES = 2;\n            if (history.length > MAX_BOUNCES * 2) {\n                var l = history.length;\n                var bottom = l - 10;\n                var bounces = 0;\n                for (var i = l; i >= bottom; i--) {\n                    if (history[i] === history[i - 2]) {\n                        bounces++;\n                    }\n\n                    if (bounces >= MAX_BOUNCES) {\n                        // dont adjust height\n                        return;\n                    }\n                }\n            }\n\n            // fix height of panel so it adheres to aspect ratio\n            panel.scalable = false;\n            panel.height = height;\n\n            // available height for list\n            var listAvailableHeight =\n                // the height of the panel minus the label height\n                height -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            if (listHeight.visual > listAvailableHeight) {\n                list.overflow = listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = height;\n        } else if (bounds.fixedHeight) {\n            // fixed height\n\n            // fix height of panel\n            panel.scalable = false;\n\n            // available height for list\n            var _listAvailableHeight =\n                // the height of the panel minus the label height\n                bounds.fixedHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height\n            if (listHeight.visual > _listAvailableHeight) {\n                list.overflow = _listAvailableHeight;\n            } else {\n                list.overflow = null;\n            }\n\n            // no need to set container bounds as these are handles by CSS fixed height\n        } else if (bounds.cappedHeight) {\n            // max-height\n\n            // not a fixed height panel\n            var isCappedHeight = visualHeight >= bounds.cappedHeight;\n            var panelHeight = Math.min(bounds.cappedHeight, visualHeight);\n            panel.scalable = true;\n            panel.height = isCappedHeight\n                ? panelHeight\n                : panelHeight - listItemMargin.top - listItemMargin.bottom;\n\n            // available height for list\n            var _listAvailableHeight2 =\n                // the height of the panel minus the label height\n                panelHeight -\n                currentLabelHeight -\n                // the room we leave open between the end of the list and the panel bottom\n                (listMarginBottom - listItemMargin.bottom) -\n                // if we're full we need to leave some room between the top of the panel and the list\n                (atMaxCapacity ? listMarginTop : 0);\n\n            // set list height (if is overflowing)\n            if (visualHeight > bounds.cappedHeight && listHeight.visual > _listAvailableHeight2) {\n                list.overflow = _listAvailableHeight2;\n            } else {\n                list.overflow = null;\n            }\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.min(\n                bounds.cappedHeight,\n                boundsHeight - listItemMargin.top - listItemMargin.bottom\n            );\n        } else {\n            // flexible height\n\n            // not a fixed height panel\n            var itemMargin = totalItems > 0 ? listItemMargin.top + listItemMargin.bottom : 0;\n            panel.scalable = true;\n            panel.height = Math.max(labelHeight, visualHeight - itemMargin);\n\n            // set container bounds (so pushes siblings downwards)\n            root.height = Math.max(labelHeight, boundsHeight - itemMargin);\n        }\n\n        // move credits to bottom\n        if (root.ref.credits && panel.heightCurrent)\n            root.ref.credits.style.transform = 'translateY(' + panel.heightCurrent + 'px)';\n    };\n\n    var calculateListItemMargin = function calculateListItemMargin(root) {\n        var item = root.ref.list.childViews[0].childViews[0];\n        return item\n            ? {\n                  top: item.rect.element.marginTop,\n                  bottom: item.rect.element.marginBottom,\n              }\n            : {\n                  top: 0,\n                  bottom: 0,\n              };\n    };\n\n    var calculateListHeight = function calculateListHeight(root) {\n        var visual = 0;\n        var bounds = 0;\n\n        // get file list reference\n        var scrollList = root.ref.list;\n        var itemList = scrollList.childViews[0];\n        var visibleChildren = itemList.childViews.filter(function(child) {\n            return child.rect.element.height;\n        });\n        var children = root\n            .query('GET_ACTIVE_ITEMS')\n            .map(function(item) {\n                return visibleChildren.find(function(child) {\n                    return child.id === item.id;\n                });\n            })\n            .filter(function(item) {\n                return item;\n            });\n\n        // no children, done!\n        if (children.length === 0) return { visual: visual, bounds: bounds };\n\n        var horizontalSpace = itemList.rect.element.width;\n        var dragIndex = getItemIndexByPosition(itemList, children, scrollList.dragCoordinates);\n\n        var childRect = children[0].rect.element;\n\n        var itemVerticalMargin = childRect.marginTop + childRect.marginBottom;\n        var itemHorizontalMargin = childRect.marginLeft + childRect.marginRight;\n\n        var itemWidth = childRect.width + itemHorizontalMargin;\n        var itemHeight = childRect.height + itemVerticalMargin;\n\n        var newItem = typeof dragIndex !== 'undefined' && dragIndex >= 0 ? 1 : 0;\n        var removedItem = children.find(function(child) {\n            return child.markedForRemoval && child.opacity < 0.45;\n        })\n            ? -1\n            : 0;\n        var verticalItemCount = children.length + newItem + removedItem;\n        var itemsPerRow = getItemsPerRow(horizontalSpace, itemWidth);\n\n        // stack\n        if (itemsPerRow === 1) {\n            children.forEach(function(item) {\n                var height = item.rect.element.height + itemVerticalMargin;\n                bounds += height;\n                visual += height * item.opacity;\n            });\n        }\n        // grid\n        else {\n            bounds = Math.ceil(verticalItemCount / itemsPerRow) * itemHeight;\n            visual = bounds;\n        }\n\n        return { visual: visual, bounds: bounds };\n    };\n\n    var calculateRootBoundingBoxHeight = function calculateRootBoundingBoxHeight(root) {\n        var height = root.ref.measureHeight || null;\n        var cappedHeight = parseInt(root.style.maxHeight, 10) || null;\n        var fixedHeight = height === 0 ? null : height;\n\n        return {\n            cappedHeight: cappedHeight,\n            fixedHeight: fixedHeight,\n        };\n    };\n\n    var exceedsMaxFiles = function exceedsMaxFiles(root, items) {\n        var allowReplace = root.query('GET_ALLOW_REPLACE');\n        var allowMultiple = root.query('GET_ALLOW_MULTIPLE');\n        var totalItems = root.query('GET_TOTAL_ITEMS');\n        var maxItems = root.query('GET_MAX_FILES');\n\n        // total amount of items being dragged\n        var totalBrowseItems = items.length;\n\n        // if does not allow multiple items and dragging more than one item\n        if (!allowMultiple && totalBrowseItems > 1) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        // limit max items to one if not allowed to drop multiple items\n        maxItems = allowMultiple ? maxItems : 1;\n\n        if (!allowMultiple && allowReplace) {\n            // There is only one item, so there is room to replace or add an item\n            return false;\n        }\n\n        // no more room?\n        var hasMaxItems = isInt(maxItems);\n        if (hasMaxItems && totalItems + totalBrowseItems > maxItems) {\n            root.dispatch('DID_THROW_MAX_FILES', {\n                source: items,\n                error: createResponse('warning', 0, 'Max files'),\n            });\n\n            return true;\n        }\n\n        return false;\n    };\n\n    var getDragIndex = function getDragIndex(list, children, position) {\n        var itemList = list.childViews[0];\n        return getItemIndexByPosition(itemList, children, {\n            left: position.scopeLeft - itemList.rect.element.left,\n            top:\n                position.scopeTop -\n                (list.rect.outer.top + list.rect.element.marginTop + list.rect.element.scrollTop),\n        });\n    };\n\n    /**\n     * Enable or disable file drop functionality\n     */\n    var toggleDrop = function toggleDrop(root) {\n        var isAllowed = root.query('GET_ALLOW_DROP');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.hopper) {\n            var hopper = createHopper(\n                root.element,\n                function(items) {\n                    // allow quick validation of dropped items\n                    var beforeDropFile =\n                        root.query('GET_BEFORE_DROP_FILE') ||\n                        function() {\n                            return true;\n                        };\n\n                    // all items should be validated by all filters as valid\n                    var dropValidation = root.query('GET_DROP_VALIDATION');\n                    return dropValidation\n                        ? items.every(function(item) {\n                              return (\n                                  applyFilters('ALLOW_HOPPER_ITEM', item, {\n                                      query: root.query,\n                                  }).every(function(result) {\n                                      return result === true;\n                                  }) && beforeDropFile(item)\n                              );\n                          })\n                        : true;\n                },\n                {\n                    filterItems: function filterItems(items) {\n                        var ignoredFiles = root.query('GET_IGNORED_FILES');\n                        return items.filter(function(item) {\n                            if (isFile(item)) {\n                                return !ignoredFiles.includes(item.name.toLowerCase());\n                            }\n                            return true;\n                        });\n                    },\n                    catchesDropsOnPage: root.query('GET_DROP_ON_PAGE'),\n                    requiresDropOnElement: root.query('GET_DROP_ON_ELEMENT'),\n                }\n            );\n\n            hopper.onload = function(items, position) {\n                // get item children elements and sort based on list sort\n                var list = root.ref.list.childViews[0];\n                var visibleChildren = list.childViews.filter(function(child) {\n                    return child.rect.element.height;\n                });\n                var children = root\n                    .query('GET_ACTIVE_ITEMS')\n                    .map(function(item) {\n                        return visibleChildren.find(function(child) {\n                            return child.id === item.id;\n                        });\n                    })\n                    .filter(function(item) {\n                        return item;\n                    });\n\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // go\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: getDragIndex(root.ref.list, children, position),\n                        interactionMethod: InteractionMethod.DROP,\n                    });\n                });\n\n                root.dispatch('DID_DROP', { position: position });\n\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            hopper.ondragstart = function(position) {\n                root.dispatch('DID_START_DRAG', { position: position });\n            };\n\n            hopper.ondrag = debounce(function(position) {\n                root.dispatch('DID_DRAG', { position: position });\n            });\n\n            hopper.ondragend = function(position) {\n                root.dispatch('DID_END_DRAG', { position: position });\n            };\n\n            root.ref.hopper = hopper;\n\n            root.ref.drip = root.appendChildView(root.createChildView(drip));\n        } else if (!enabled && root.ref.hopper) {\n            root.ref.hopper.destroy();\n            root.ref.hopper = null;\n            root.removeChildView(root.ref.drip);\n        }\n    };\n\n    /**\n     * Enable or disable browse functionality\n     */\n    var toggleBrowse = function toggleBrowse(root, props) {\n        var isAllowed = root.query('GET_ALLOW_BROWSE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.browser) {\n            root.ref.browser = root.appendChildView(\n                root.createChildView(\n                    browser,\n                    Object.assign({}, props, {\n                        onload: function onload(items) {\n                            applyFilterChain('ADD_ITEMS', items, {\n                                dispatch: root.dispatch,\n                            }).then(function(queue) {\n                                // these files don't fit so stop here\n                                if (exceedsMaxFiles(root, queue)) return false;\n\n                                // add items!\n                                root.dispatch('ADD_ITEMS', {\n                                    items: queue,\n                                    index: -1,\n                                    interactionMethod: InteractionMethod.BROWSE,\n                                });\n                            });\n                        },\n                    })\n                ),\n\n                0\n            );\n        } else if (!enabled && root.ref.browser) {\n            root.removeChildView(root.ref.browser);\n            root.ref.browser = null;\n        }\n    };\n\n    /**\n     * Enable or disable paste functionality\n     */\n    var togglePaste = function togglePaste(root) {\n        var isAllowed = root.query('GET_ALLOW_PASTE');\n        var isDisabled = root.query('GET_DISABLED');\n        var enabled = isAllowed && !isDisabled;\n        if (enabled && !root.ref.paster) {\n            root.ref.paster = createPaster();\n            root.ref.paster.onload = function(items) {\n                applyFilterChain('ADD_ITEMS', items, { dispatch: root.dispatch }).then(function(\n                    queue\n                ) {\n                    // these files don't fit so stop here\n                    if (exceedsMaxFiles(root, queue)) return false;\n\n                    // add items!\n                    root.dispatch('ADD_ITEMS', {\n                        items: queue,\n                        index: -1,\n                        interactionMethod: InteractionMethod.PASTE,\n                    });\n                });\n            };\n        } else if (!enabled && root.ref.paster) {\n            root.ref.paster.destroy();\n            root.ref.paster = null;\n        }\n    };\n\n    /**\n     * Route actions\n     */\n    var route$5 = createRoute({\n        DID_SET_ALLOW_BROWSE: function DID_SET_ALLOW_BROWSE(_ref5) {\n            var root = _ref5.root,\n                props = _ref5.props;\n            toggleBrowse(root, props);\n        },\n        DID_SET_ALLOW_DROP: function DID_SET_ALLOW_DROP(_ref6) {\n            var root = _ref6.root;\n            toggleDrop(root);\n        },\n        DID_SET_ALLOW_PASTE: function DID_SET_ALLOW_PASTE(_ref7) {\n            var root = _ref7.root;\n            togglePaste(root);\n        },\n        DID_SET_DISABLED: function DID_SET_DISABLED(_ref8) {\n            var root = _ref8.root,\n                props = _ref8.props;\n            toggleDrop(root);\n            togglePaste(root);\n            toggleBrowse(root, props);\n            var isDisabled = root.query('GET_DISABLED');\n            if (isDisabled) {\n                root.element.dataset.disabled = 'disabled';\n            } else {\n                // delete root.element.dataset.disabled; <= this does not work on iOS 10\n                root.element.removeAttribute('data-disabled');\n            }\n        },\n    });\n\n    var root = createView({\n        name: 'root',\n        read: function read(_ref9) {\n            var root = _ref9.root;\n            if (root.ref.measure) {\n                root.ref.measureHeight = root.ref.measure.offsetHeight;\n            }\n        },\n        create: create$e,\n        write: write$9,\n        destroy: function destroy(_ref10) {\n            var root = _ref10.root;\n            if (root.ref.paster) {\n                root.ref.paster.destroy();\n            }\n            if (root.ref.hopper) {\n                root.ref.hopper.destroy();\n            }\n            root.element.removeEventListener('touchmove', prevent);\n            root.element.removeEventListener('gesturestart', prevent);\n        },\n        mixins: {\n            styles: ['height'],\n        },\n    });\n\n    // creates the app\n    var createApp = function createApp() {\n        var initialOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // let element\n        var originalElement = null;\n\n        // get default options\n        var defaultOptions = getOptions();\n\n        // create the data store, this will contain all our app info\n        var store = createStore(\n            // initial state (should be serializable)\n            createInitialState(defaultOptions),\n\n            // queries\n            [queries, createOptionQueries(defaultOptions)],\n\n            // action handlers\n            [actions, createOptionActions(defaultOptions)]\n        );\n\n        // set initial options\n        store.dispatch('SET_OPTIONS', { options: initialOptions });\n\n        // kick thread if visibility changes\n        var visibilityHandler = function visibilityHandler() {\n            if (document.hidden) return;\n            store.dispatch('KICK');\n        };\n        document.addEventListener('visibilitychange', visibilityHandler);\n\n        // re-render on window resize start and finish\n        var resizeDoneTimer = null;\n        var isResizing = false;\n        var isResizingHorizontally = false;\n        var initialWindowWidth = null;\n        var currentWindowWidth = null;\n        var resizeHandler = function resizeHandler() {\n            if (!isResizing) {\n                isResizing = true;\n            }\n            clearTimeout(resizeDoneTimer);\n            resizeDoneTimer = setTimeout(function() {\n                isResizing = false;\n                initialWindowWidth = null;\n                currentWindowWidth = null;\n                if (isResizingHorizontally) {\n                    isResizingHorizontally = false;\n                    store.dispatch('DID_STOP_RESIZE');\n                }\n            }, 500);\n        };\n        window.addEventListener('resize', resizeHandler);\n\n        // render initial view\n        var view = root(store, { id: getUniqueId() });\n\n        //\n        // PRIVATE API -------------------------------------------------------------------------------------\n        //\n        var isResting = false;\n        var isHidden = false;\n\n        var readWriteApi = {\n            // necessary for update loop\n\n            /**\n             * Reads from dom (never call manually)\n             * @private\n             */\n            _read: function _read() {\n                // test if we're resizing horizontally\n                // TODO: see if we can optimize this by measuring root rect\n                if (isResizing) {\n                    currentWindowWidth = window.innerWidth;\n                    if (!initialWindowWidth) {\n                        initialWindowWidth = currentWindowWidth;\n                    }\n\n                    if (!isResizingHorizontally && currentWindowWidth !== initialWindowWidth) {\n                        store.dispatch('DID_START_RESIZE');\n                        isResizingHorizontally = true;\n                    }\n                }\n\n                if (isHidden && isResting) {\n                    // test if is no longer hidden\n                    isResting = view.element.offsetParent === null;\n                }\n\n                // if resting, no need to read as numbers will still all be correct\n                if (isResting) return;\n\n                // read view data\n                view._read();\n\n                // if is hidden we need to know so we exit rest mode when revealed\n                isHidden = view.rect.element.hidden;\n            },\n\n            /**\n             * Writes to dom (never call manually)\n             * @private\n             */\n            _write: function _write(ts) {\n                // get all actions from store\n                var actions = store\n                    .processActionQueue()\n\n                    // filter out set actions (these will automatically trigger DID_SET)\n                    .filter(function(action) {\n                        return !/^SET_/.test(action.type);\n                    });\n\n                // if was idling and no actions stop here\n                if (isResting && !actions.length) return;\n\n                // some actions might trigger events\n                routeActionsToEvents(actions);\n\n                // update the view\n                isResting = view._write(ts, actions, isResizingHorizontally);\n\n                // will clean up all archived items\n                removeReleasedItems(store.query('GET_ITEMS'));\n\n                // now idling\n                if (isResting) {\n                    store.processDispatchQueue();\n                }\n            },\n        };\n\n        //\n        // EXPOSE EVENTS -------------------------------------------------------------------------------------\n        //\n        var createEvent = function createEvent(name) {\n            return function(data) {\n                // create default event\n                var event = {\n                    type: name,\n                };\n\n                // no data to add\n                if (!data) {\n                    return event;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('error')) {\n                    event.error = data.error ? Object.assign({}, data.error) : null;\n                }\n\n                if (data.status) {\n                    event.status = Object.assign({}, data.status);\n                }\n\n                if (data.file) {\n                    event.output = data.file;\n                }\n\n                // only source is available, else add item if possible\n                if (data.source) {\n                    event.file = data.source;\n                } else if (data.item || data.id) {\n                    var item = data.item ? data.item : store.query('GET_ITEM', data.id);\n                    event.file = item ? createItemAPI(item) : null;\n                }\n\n                // map all items in a possible items array\n                if (data.items) {\n                    event.items = data.items.map(createItemAPI);\n                }\n\n                // if this is a progress event add the progress amount\n                if (/progress/.test(name)) {\n                    event.progress = data.progress;\n                }\n\n                // copy relevant props\n                if (data.hasOwnProperty('origin') && data.hasOwnProperty('target')) {\n                    event.origin = data.origin;\n                    event.target = data.target;\n                }\n\n                return event;\n            };\n        };\n\n        var eventRoutes = {\n            DID_DESTROY: createEvent('destroy'),\n\n            DID_INIT: createEvent('init'),\n\n            DID_THROW_MAX_FILES: createEvent('warning'),\n\n            DID_INIT_ITEM: createEvent('initfile'),\n            DID_START_ITEM_LOAD: createEvent('addfilestart'),\n            DID_UPDATE_ITEM_LOAD_PROGRESS: createEvent('addfileprogress'),\n            DID_LOAD_ITEM: createEvent('addfile'),\n\n            DID_THROW_ITEM_INVALID: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_LOAD_ERROR: [createEvent('error'), createEvent('addfile')],\n\n            DID_THROW_ITEM_REMOVE_ERROR: [createEvent('error'), createEvent('removefile')],\n\n            DID_PREPARE_OUTPUT: createEvent('preparefile'),\n\n            DID_START_ITEM_PROCESSING: createEvent('processfilestart'),\n            DID_UPDATE_ITEM_PROCESS_PROGRESS: createEvent('processfileprogress'),\n            DID_ABORT_ITEM_PROCESSING: createEvent('processfileabort'),\n            DID_COMPLETE_ITEM_PROCESSING: createEvent('processfile'),\n            DID_COMPLETE_ITEM_PROCESSING_ALL: createEvent('processfiles'),\n            DID_REVERT_ITEM_PROCESSING: createEvent('processfilerevert'),\n\n            DID_THROW_ITEM_PROCESSING_ERROR: [createEvent('error'), createEvent('processfile')],\n\n            DID_REMOVE_ITEM: createEvent('removefile'),\n\n            DID_UPDATE_ITEMS: createEvent('updatefiles'),\n\n            DID_ACTIVATE_ITEM: createEvent('activatefile'),\n\n            DID_REORDER_ITEMS: createEvent('reorderfiles'),\n        };\n\n        var exposeEvent = function exposeEvent(event) {\n            // create event object to be dispatched\n            var detail = Object.assign({ pond: exports }, event);\n            delete detail.type;\n            view.element.dispatchEvent(\n                new CustomEvent('FilePond:' + event.type, {\n                    // event info\n                    detail: detail,\n\n                    // event behaviour\n                    bubbles: true,\n                    cancelable: true,\n                    composed: true, // triggers listeners outside of shadow root\n                })\n            );\n\n            // event object to params used for `on()` event handlers and callbacks `oninit()`\n            var params = [];\n\n            // if is possible error event, make it the first param\n            if (event.hasOwnProperty('error')) {\n                params.push(event.error);\n            }\n\n            // file is always section\n            if (event.hasOwnProperty('file')) {\n                params.push(event.file);\n            }\n\n            // append other props\n            var filtered = ['type', 'error', 'file'];\n            Object.keys(event)\n                .filter(function(key) {\n                    return !filtered.includes(key);\n                })\n                .forEach(function(key) {\n                    return params.push(event[key]);\n                });\n\n            // on(type, () => { })\n            exports.fire.apply(exports, [event.type].concat(params));\n\n            // oninit = () => {}\n            var handler = store.query('GET_ON' + event.type.toUpperCase());\n            if (handler) {\n                handler.apply(void 0, params);\n            }\n        };\n\n        var routeActionsToEvents = function routeActionsToEvents(actions) {\n            if (!actions.length) return;\n            actions\n                .filter(function(action) {\n                    return eventRoutes[action.type];\n                })\n                .forEach(function(action) {\n                    var routes = eventRoutes[action.type];\n                    (Array.isArray(routes) ? routes : [routes]).forEach(function(route) {\n                        // this isn't fantastic, but because of the stacking of settimeouts plugins can handle the did_load before the did_init\n                        if (action.type === 'DID_INIT_ITEM') {\n                            exposeEvent(route(action.data));\n                        } else {\n                            setTimeout(function() {\n                                exposeEvent(route(action.data));\n                            }, 0);\n                        }\n                    });\n                });\n        };\n\n        //\n        // PUBLIC API -------------------------------------------------------------------------------------\n        //\n        var setOptions = function setOptions(options) {\n            return store.dispatch('SET_OPTIONS', { options: options });\n        };\n\n        var getFile = function getFile(query) {\n            return store.query('GET_ACTIVE_ITEM', query);\n        };\n\n        var prepareFile = function prepareFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PREPARE', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var addFile = function addFile(source) {\n            var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n            return new Promise(function(resolve, reject) {\n                addFiles([{ source: source, options: options }], { index: options.index })\n                    .then(function(items) {\n                        return resolve(items && items[0]);\n                    })\n                    .catch(reject);\n            });\n        };\n\n        var isFilePondFile = function isFilePondFile(obj) {\n            return obj.file && obj.id;\n        };\n\n        var removeFile = function removeFile(query, options) {\n            // if only passed options\n            if (typeof query === 'object' && !isFilePondFile(query) && !options) {\n                options = query;\n                query = undefined;\n            }\n\n            // request item removal\n            store.dispatch('REMOVE_ITEM', Object.assign({}, options, { query: query }));\n\n            // see if item has been removed\n            return store.query('GET_ACTIVE_ITEM', query) === null;\n        };\n\n        var addFiles = function addFiles() {\n            for (\n                var _len = arguments.length, args = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                args[_key] = arguments[_key];\n            }\n            return new Promise(function(resolve, reject) {\n                var sources = [];\n                var options = {};\n\n                // user passed a sources array\n                if (isArray(args[0])) {\n                    sources.push.apply(sources, args[0]);\n                    Object.assign(options, args[1] || {});\n                } else {\n                    // user passed sources as arguments, last one might be options object\n                    var lastArgument = args[args.length - 1];\n                    if (typeof lastArgument === 'object' && !(lastArgument instanceof Blob)) {\n                        Object.assign(options, args.pop());\n                    }\n\n                    // add rest to sources\n                    sources.push.apply(sources, args);\n                }\n\n                store.dispatch('ADD_ITEMS', {\n                    items: sources,\n                    index: options.index,\n                    interactionMethod: InteractionMethod.API,\n                    success: resolve,\n                    failure: reject,\n                });\n            });\n        };\n\n        var getFiles = function getFiles() {\n            return store.query('GET_ACTIVE_ITEMS');\n        };\n\n        var processFile = function processFile(query) {\n            return new Promise(function(resolve, reject) {\n                store.dispatch('REQUEST_ITEM_PROCESSING', {\n                    query: query,\n                    success: function success(item) {\n                        resolve(item);\n                    },\n                    failure: function failure(error) {\n                        reject(error);\n                    },\n                });\n            });\n        };\n\n        var prepareFiles = function prepareFiles() {\n            for (\n                var _len2 = arguments.length, args = new Array(_len2), _key2 = 0;\n                _key2 < _len2;\n                _key2++\n            ) {\n                args[_key2] = arguments[_key2];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            var items = queries.length ? queries : getFiles();\n            return Promise.all(items.map(prepareFile));\n        };\n\n        var processFiles = function processFiles() {\n            for (\n                var _len3 = arguments.length, args = new Array(_len3), _key3 = 0;\n                _key3 < _len3;\n                _key3++\n            ) {\n                args[_key3] = arguments[_key3];\n            }\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n            if (!queries.length) {\n                var files = getFiles().filter(function(item) {\n                    return (\n                        !(item.status === ItemStatus.IDLE && item.origin === FileOrigin.LOCAL) &&\n                        item.status !== ItemStatus.PROCESSING &&\n                        item.status !== ItemStatus.PROCESSING_COMPLETE &&\n                        item.status !== ItemStatus.PROCESSING_REVERT_ERROR\n                    );\n                });\n\n                return Promise.all(files.map(processFile));\n            }\n            return Promise.all(queries.map(processFile));\n        };\n\n        var removeFiles = function removeFiles() {\n            for (\n                var _len4 = arguments.length, args = new Array(_len4), _key4 = 0;\n                _key4 < _len4;\n                _key4++\n            ) {\n                args[_key4] = arguments[_key4];\n            }\n\n            var queries = Array.isArray(args[0]) ? args[0] : args;\n\n            var options;\n            if (typeof queries[queries.length - 1] === 'object') {\n                options = queries.pop();\n            } else if (Array.isArray(args[0])) {\n                options = args[1];\n            }\n\n            var files = getFiles();\n\n            if (!queries.length)\n                return Promise.all(\n                    files.map(function(file) {\n                        return removeFile(file, options);\n                    })\n                );\n\n            // when removing by index the indexes shift after each file removal so we need to convert indexes to ids\n            var mappedQueries = queries\n                .map(function(query) {\n                    return isNumber(query) ? (files[query] ? files[query].id : null) : query;\n                })\n                .filter(function(query) {\n                    return query;\n                });\n\n            return mappedQueries.map(function(q) {\n                return removeFile(q, options);\n            });\n        };\n\n        var exports = Object.assign(\n            {},\n\n            on(),\n            {},\n\n            readWriteApi,\n            {},\n\n            createOptionAPI(store, defaultOptions),\n            {\n                /**\n                 * Override options defined in options object\n                 * @param options\n                 */\n                setOptions: setOptions,\n\n                /**\n                 * Load the given file\n                 * @param source - the source of the file (either a File, base64 data uri or url)\n                 * @param options - object, { index: 0 }\n                 */\n                addFile: addFile,\n\n                /**\n                 * Load the given files\n                 * @param sources - the sources of the files to load\n                 * @param options - object, { index: 0 }\n                 */\n                addFiles: addFiles,\n\n                /**\n                 * Returns the file objects matching the given query\n                 * @param query { string, number, null }\n                 */\n                getFile: getFile,\n\n                /**\n                 * Upload file with given name\n                 * @param query { string, number, null  }\n                 */\n                processFile: processFile,\n\n                /**\n                 * Request prepare output for file with given name\n                 * @param query { string, number, null  }\n                 */\n                prepareFile: prepareFile,\n\n                /**\n                 * Removes a file by its name\n                 * @param query { string, number, null  }\n                 */\n                removeFile: removeFile,\n\n                /**\n                 * Moves a file to a new location in the files list\n                 */\n                moveFile: function moveFile(query, index) {\n                    return store.dispatch('MOVE_ITEM', { query: query, index: index });\n                },\n\n                /**\n                 * Returns all files (wrapped in public api)\n                 */\n                getFiles: getFiles,\n\n                /**\n                 * Starts uploading all files\n                 */\n                processFiles: processFiles,\n\n                /**\n                 * Clears all files from the files list\n                 */\n                removeFiles: removeFiles,\n\n                /**\n                 * Starts preparing output of all files\n                 */\n                prepareFiles: prepareFiles,\n\n                /**\n                 * Sort list of files\n                 */\n                sort: function sort(compare) {\n                    return store.dispatch('SORT', { compare: compare });\n                },\n\n                /**\n                 * Browse the file system for a file\n                 */\n                browse: function browse() {\n                    // needs to be trigger directly as user action needs to be traceable (is not traceable in requestAnimationFrame)\n                    var input = view.element.querySelector('input[type=file]');\n                    if (input) {\n                        input.click();\n                    }\n                },\n\n                /**\n                 * Destroys the app\n                 */\n                destroy: function destroy() {\n                    // request destruction\n                    exports.fire('destroy', view.element);\n\n                    // stop active processes (file uploads, fetches, stuff like that)\n                    // loop over items and depending on states call abort for ongoing processes\n                    store.dispatch('ABORT_ALL');\n\n                    // destroy view\n                    view._destroy();\n\n                    // stop listening to resize\n                    window.removeEventListener('resize', resizeHandler);\n\n                    // stop listening to the visiblitychange event\n                    document.removeEventListener('visibilitychange', visibilityHandler);\n\n                    // dispatch destroy\n                    store.dispatch('DID_DESTROY');\n                },\n\n                /**\n                 * Inserts the plugin before the target element\n                 */\n                insertBefore: function insertBefore$1(element) {\n                    return insertBefore(view.element, element);\n                },\n\n                /**\n                 * Inserts the plugin after the target element\n                 */\n                insertAfter: function insertAfter$1(element) {\n                    return insertAfter(view.element, element);\n                },\n\n                /**\n                 * Appends the plugin to the target element\n                 */\n                appendTo: function appendTo(element) {\n                    return element.appendChild(view.element);\n                },\n\n                /**\n                 * Replaces an element with the app\n                 */\n                replaceElement: function replaceElement(element) {\n                    // insert the app before the element\n                    insertBefore(view.element, element);\n\n                    // remove the original element\n                    element.parentNode.removeChild(element);\n\n                    // remember original element\n                    originalElement = element;\n                },\n\n                /**\n                 * Restores the original element\n                 */\n                restoreElement: function restoreElement() {\n                    if (!originalElement) {\n                        return; // no element to restore\n                    }\n\n                    // restore original element\n                    insertAfter(originalElement, view.element);\n\n                    // remove our element\n                    view.element.parentNode.removeChild(view.element);\n\n                    // remove reference\n                    originalElement = null;\n                },\n\n                /**\n                 * Returns true if the app root is attached to given element\n                 * @param element\n                 */\n                isAttachedTo: function isAttachedTo(element) {\n                    return view.element === element || originalElement === element;\n                },\n\n                /**\n                 * Returns the root element\n                 */\n                element: {\n                    get: function get() {\n                        return view.element;\n                    },\n                },\n\n                /**\n                 * Returns the current pond status\n                 */\n                status: {\n                    get: function get() {\n                        return store.query('GET_STATUS');\n                    },\n                },\n            }\n        );\n\n        // Done!\n        store.dispatch('DID_INIT');\n\n        // create actual api object\n        return createObject(exports);\n    };\n\n    var createAppObject = function createAppObject() {\n        var customOptions = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n        // default options\n        var defaultOptions = {};\n        forin(getOptions(), function(key, value) {\n            defaultOptions[key] = value[0];\n        });\n\n        // set app options\n        var app = createApp(\n            Object.assign(\n                {},\n\n                defaultOptions,\n                {},\n\n                customOptions\n            )\n        );\n\n        // return the plugin instance\n        return app;\n    };\n\n    var lowerCaseFirstLetter = function lowerCaseFirstLetter(string) {\n        return string.charAt(0).toLowerCase() + string.slice(1);\n    };\n\n    var attributeNameToPropertyName = function attributeNameToPropertyName(attributeName) {\n        return toCamels(attributeName.replace(/^data-/, ''));\n    };\n\n    var mapObject = function mapObject(object, propertyMap) {\n        // remove unwanted\n        forin(propertyMap, function(selector, mapping) {\n            forin(object, function(property, value) {\n                // create regexp shortcut\n                var selectorRegExp = new RegExp(selector);\n\n                // tests if\n                var matches = selectorRegExp.test(property);\n\n                // no match, skip\n                if (!matches) {\n                    return;\n                }\n\n                // if there's a mapping, the original property is always removed\n                delete object[property];\n\n                // should only remove, we done!\n                if (mapping === false) {\n                    return;\n                }\n\n                // move value to new property\n                if (isString(mapping)) {\n                    object[mapping] = value;\n                    return;\n                }\n\n                // move to group\n                var group = mapping.group;\n                if (isObject(mapping) && !object[group]) {\n                    object[group] = {};\n                }\n\n                object[group][lowerCaseFirstLetter(property.replace(selectorRegExp, ''))] = value;\n            });\n\n            // do submapping\n            if (mapping.mapping) {\n                mapObject(object[mapping.group], mapping.mapping);\n            }\n        });\n    };\n\n    var getAttributesAsObject = function getAttributesAsObject(node) {\n        var attributeMapping =\n            arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n        // turn attributes into object\n        var attributes = [];\n        forin(node.attributes, function(index) {\n            attributes.push(node.attributes[index]);\n        });\n\n        var output = attributes\n            .filter(function(attribute) {\n                return attribute.name;\n            })\n            .reduce(function(obj, attribute) {\n                var value = attr(node, attribute.name);\n\n                obj[attributeNameToPropertyName(attribute.name)] =\n                    value === attribute.name ? true : value;\n                return obj;\n            }, {});\n\n        // do mapping of object properties\n        mapObject(output, attributeMapping);\n\n        return output;\n    };\n\n    var createAppAtElement = function createAppAtElement(element) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        // how attributes of the input element are mapped to the options for the plugin\n        var attributeMapping = {\n            // translate to other name\n            '^class$': 'className',\n            '^multiple$': 'allowMultiple',\n            '^capture$': 'captureMethod',\n            '^webkitdirectory$': 'allowDirectoriesOnly',\n\n            // group under single property\n            '^server': {\n                group: 'server',\n                mapping: {\n                    '^process': {\n                        group: 'process',\n                    },\n\n                    '^revert': {\n                        group: 'revert',\n                    },\n\n                    '^fetch': {\n                        group: 'fetch',\n                    },\n\n                    '^restore': {\n                        group: 'restore',\n                    },\n\n                    '^load': {\n                        group: 'load',\n                    },\n                },\n            },\n\n            // don't include in object\n            '^type$': false,\n            '^files$': false,\n        };\n\n        // add additional option translators\n        applyFilters('SET_ATTRIBUTE_TO_OPTION_MAP', attributeMapping);\n\n        // create final options object by setting options object and then overriding options supplied on element\n        var mergedOptions = Object.assign({}, options);\n\n        var attributeOptions = getAttributesAsObject(\n            element.nodeName === 'FIELDSET' ? element.querySelector('input[type=file]') : element,\n            attributeMapping\n        );\n\n        // merge with options object\n        Object.keys(attributeOptions).forEach(function(key) {\n            if (isObject(attributeOptions[key])) {\n                if (!isObject(mergedOptions[key])) {\n                    mergedOptions[key] = {};\n                }\n                Object.assign(mergedOptions[key], attributeOptions[key]);\n            } else {\n                mergedOptions[key] = attributeOptions[key];\n            }\n        });\n\n        // if parent is a fieldset, get files from parent by selecting all input fields that are not file upload fields\n        // these will then be automatically set to the initial files\n        mergedOptions.files = (options.files || []).concat(\n            Array.from(element.querySelectorAll('input:not([type=file])')).map(function(input) {\n                return {\n                    source: input.value,\n                    options: {\n                        type: input.dataset.type,\n                    },\n                };\n            })\n        );\n\n        // build plugin\n        var app = createAppObject(mergedOptions);\n\n        // add already selected files\n        if (element.files) {\n            Array.from(element.files).forEach(function(file) {\n                app.addFile(file);\n            });\n        }\n\n        // replace the target element\n        app.replaceElement(element);\n\n        // expose\n        return app;\n    };\n\n    // if an element is passed, we create the instance at that element, if not, we just create an up object\n    var createApp$1 = function createApp() {\n        return isNode(arguments.length <= 0 ? undefined : arguments[0])\n            ? createAppAtElement.apply(void 0, arguments)\n            : createAppObject.apply(void 0, arguments);\n    };\n\n    var PRIVATE_METHODS = ['fire', '_read', '_write'];\n\n    var createAppAPI = function createAppAPI(app) {\n        var api = {};\n\n        copyObjectPropertiesToObject(app, api, PRIVATE_METHODS);\n\n        return api;\n    };\n\n    /**\n     * Replaces placeholders in given string with replacements\n     * @param string - \"Foo {bar}\"\"\n     * @param replacements - { \"bar\": 10 }\n     */\n    var replaceInString = function replaceInString(string, replacements) {\n        return string.replace(/(?:{([a-zA-Z]+)})/g, function(match, group) {\n            return replacements[group];\n        });\n    };\n\n    var createWorker = function createWorker(fn) {\n        var workerBlob = new Blob(['(', fn.toString(), ')()'], {\n            type: 'application/javascript',\n        });\n\n        var workerURL = URL.createObjectURL(workerBlob);\n        var worker = new Worker(workerURL);\n\n        return {\n            transfer: function transfer(message, cb) {},\n            post: function post(message, cb, transferList) {\n                var id = getUniqueId();\n\n                worker.onmessage = function(e) {\n                    if (e.data.id === id) {\n                        cb(e.data.message);\n                    }\n                };\n\n                worker.postMessage(\n                    {\n                        id: id,\n                        message: message,\n                    },\n\n                    transferList\n                );\n            },\n            terminate: function terminate() {\n                worker.terminate();\n                URL.revokeObjectURL(workerURL);\n            },\n        };\n    };\n\n    var loadImage = function loadImage(url) {\n        return new Promise(function(resolve, reject) {\n            var img = new Image();\n            img.onload = function() {\n                resolve(img);\n            };\n            img.onerror = function(e) {\n                reject(e);\n            };\n            img.src = url;\n        });\n    };\n\n    var renameFile = function renameFile(file, name) {\n        var renamedFile = file.slice(0, file.size, file.type);\n        renamedFile.lastModifiedDate = file.lastModifiedDate;\n        renamedFile.name = name;\n        return renamedFile;\n    };\n\n    var copyFile = function copyFile(file) {\n        return renameFile(file, file.name);\n    };\n\n    // already registered plugins (can't register twice)\n    var registeredPlugins = [];\n\n    // pass utils to plugin\n    var createAppPlugin = function createAppPlugin(plugin) {\n        // already registered\n        if (registeredPlugins.includes(plugin)) {\n            return;\n        }\n\n        // remember this plugin\n        registeredPlugins.push(plugin);\n\n        // setup!\n        var pluginOutline = plugin({\n            addFilter: addFilter,\n            utils: {\n                Type: Type,\n                forin: forin,\n                isString: isString,\n                isFile: isFile,\n                toNaturalFileSize: toNaturalFileSize,\n                replaceInString: replaceInString,\n                getExtensionFromFilename: getExtensionFromFilename,\n                getFilenameWithoutExtension: getFilenameWithoutExtension,\n                guesstimateMimeType: guesstimateMimeType,\n                getFileFromBlob: getFileFromBlob,\n                getFilenameFromURL: getFilenameFromURL,\n                createRoute: createRoute,\n                createWorker: createWorker,\n                createView: createView,\n                createItemAPI: createItemAPI,\n                loadImage: loadImage,\n                copyFile: copyFile,\n                renameFile: renameFile,\n                createBlob: createBlob,\n                applyFilterChain: applyFilterChain,\n                text: text,\n                getNumericAspectRatioFromString: getNumericAspectRatioFromString,\n            },\n\n            views: {\n                fileActionButton: fileActionButton,\n            },\n        });\n\n        // add plugin options to default options\n        extendDefaultOptions(pluginOutline.options);\n    };\n\n    // feature detection used by supported() method\n    var isOperaMini = function isOperaMini() {\n        return Object.prototype.toString.call(window.operamini) === '[object OperaMini]';\n    };\n    var hasPromises = function hasPromises() {\n        return 'Promise' in window;\n    };\n    var hasBlobSlice = function hasBlobSlice() {\n        return 'slice' in Blob.prototype;\n    };\n    var hasCreateObjectURL = function hasCreateObjectURL() {\n        return 'URL' in window && 'createObjectURL' in window.URL;\n    };\n    var hasVisibility = function hasVisibility() {\n        return 'visibilityState' in document;\n    };\n    var hasTiming = function hasTiming() {\n        return 'performance' in window;\n    }; // iOS 8.x\n    var hasCSSSupports = function hasCSSSupports() {\n        return 'supports' in (window.CSS || {});\n    }; // use to detect Safari 9+\n    var isIE11 = function isIE11() {\n        return /MSIE|Trident/.test(window.navigator.userAgent);\n    };\n\n    var supported = (function() {\n        // Runs immediately and then remembers result for subsequent calls\n        var isSupported =\n            // Has to be a browser\n            isBrowser() &&\n            // Can't run on Opera Mini due to lack of everything\n            !isOperaMini() &&\n            // Require these APIs to feature detect a modern browser\n            hasVisibility() &&\n            hasPromises() &&\n            hasBlobSlice() &&\n            hasCreateObjectURL() &&\n            hasTiming() &&\n            // doesn't need CSSSupports but is a good way to detect Safari 9+ (we do want to support IE11 though)\n            (hasCSSSupports() || isIE11());\n\n        return function() {\n            return isSupported;\n        };\n    })();\n\n    /**\n     * Plugin internal state (over all instances)\n     */\n    var state = {\n        // active app instances, used to redraw the apps and to find the later\n        apps: [],\n    };\n\n    // plugin name\n    var name = 'filepond';\n\n    /**\n     * Public Plugin methods\n     */\n    var fn = function fn() {};\n    exports.Status = {};\n    exports.FileStatus = {};\n    exports.FileOrigin = {};\n    exports.OptionTypes = {};\n    exports.create = fn;\n    exports.destroy = fn;\n    exports.parse = fn;\n    exports.find = fn;\n    exports.registerPlugin = fn;\n    exports.getOptions = fn;\n    exports.setOptions = fn;\n\n    // if not supported, no API\n    if (supported()) {\n        // start painter and fire load event\n        createPainter(\n            function() {\n                state.apps.forEach(function(app) {\n                    return app._read();\n                });\n            },\n            function(ts) {\n                state.apps.forEach(function(app) {\n                    return app._write(ts);\n                });\n            }\n        );\n\n        // fire loaded event so we know when FilePond is available\n        var dispatch = function dispatch() {\n            // let others know we have area ready\n            document.dispatchEvent(\n                new CustomEvent('FilePond:loaded', {\n                    detail: {\n                        supported: supported,\n                        create: exports.create,\n                        destroy: exports.destroy,\n                        parse: exports.parse,\n                        find: exports.find,\n                        registerPlugin: exports.registerPlugin,\n                        setOptions: exports.setOptions,\n                    },\n                })\n            );\n\n            // clean up event\n            document.removeEventListener('DOMContentLoaded', dispatch);\n        };\n\n        if (document.readyState !== 'loading') {\n            // move to back of execution queue, FilePond should have been exported by then\n            setTimeout(function() {\n                return dispatch();\n            }, 0);\n        } else {\n            document.addEventListener('DOMContentLoaded', dispatch);\n        }\n\n        // updates the OptionTypes object based on the current options\n        var updateOptionTypes = function updateOptionTypes() {\n            return forin(getOptions(), function(key, value) {\n                exports.OptionTypes[key] = value[1];\n            });\n        };\n\n        exports.Status = Object.assign({}, Status);\n        exports.FileOrigin = Object.assign({}, FileOrigin);\n        exports.FileStatus = Object.assign({}, ItemStatus);\n\n        exports.OptionTypes = {};\n        updateOptionTypes();\n\n        // create method, creates apps and adds them to the app array\n        exports.create = function create() {\n            var app = createApp$1.apply(void 0, arguments);\n            app.on('destroy', exports.destroy);\n            state.apps.push(app);\n            return createAppAPI(app);\n        };\n\n        // destroys apps and removes them from the app array\n        exports.destroy = function destroy(hook) {\n            // returns true if the app was destroyed successfully\n            var indexToRemove = state.apps.findIndex(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (indexToRemove >= 0) {\n                // remove from apps\n                var app = state.apps.splice(indexToRemove, 1)[0];\n\n                // restore original dom element\n                app.restoreElement();\n\n                return true;\n            }\n\n            return false;\n        };\n\n        // parses the given context for plugins (does not include the context element itself)\n        exports.parse = function parse(context) {\n            // get all possible hooks\n            var matchedHooks = Array.from(context.querySelectorAll('.' + name));\n\n            // filter out already active hooks\n            var newHooks = matchedHooks.filter(function(newHook) {\n                return !state.apps.find(function(app) {\n                    return app.isAttachedTo(newHook);\n                });\n            });\n\n            // create new instance for each hook\n            return newHooks.map(function(hook) {\n                return exports.create(hook);\n            });\n        };\n\n        // returns an app based on the given element hook\n        exports.find = function find(hook) {\n            var app = state.apps.find(function(app) {\n                return app.isAttachedTo(hook);\n            });\n            if (!app) {\n                return null;\n            }\n            return createAppAPI(app);\n        };\n\n        // adds a plugin extension\n        exports.registerPlugin = function registerPlugin() {\n            for (\n                var _len = arguments.length, plugins = new Array(_len), _key = 0;\n                _key < _len;\n                _key++\n            ) {\n                plugins[_key] = arguments[_key];\n            }\n\n            // register plugins\n            plugins.forEach(createAppPlugin);\n\n            // update OptionTypes, each plugin might have extended the default options\n            updateOptionTypes();\n        };\n\n        exports.getOptions = function getOptions$1() {\n            var opts = {};\n            forin(getOptions(), function(key, value) {\n                opts[key] = value[0];\n            });\n            return opts;\n        };\n\n        exports.setOptions = function setOptions$1(opts) {\n            if (isObject(opts)) {\n                // update existing plugins\n                state.apps.forEach(function(app) {\n                    app.setOptions(opts);\n                });\n\n                // override defaults\n                setOptions(opts);\n            }\n\n            // return new options\n            return exports.getOptions();\n        };\n    }\n\n    exports.supported = supported;\n\n    Object.defineProperty(exports, '__esModule', { value: true });\n});\n","!function(e){\"function\"==typeof define&&define.amd?define(e):e()}((function(){\"use strict\";var e,t=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e,t){var r;window,r=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){\"undefined\"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:\"Module\"}),Object.defineProperty(e,\"__esModule\",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&\"object\"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,\"default\",{enumerable:!0,value:e}),2&t&&\"string\"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,\"a\",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=\"\",r(r.s=44)}([function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(19);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(22),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(26);Object.defineProperty(t,\"closest\",{enumerable:!0,get:function(){return i(n).default}});var o=r(24);function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"requestNextAnimationFrame\",{enumerable:!0,get:function(){return i(o).default}})},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(42),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(35),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(1);Object.defineProperty(t,\"Sensor\",{enumerable:!0,get:function(){return c(n).default}});var o=r(21);Object.defineProperty(t,\"MouseSensor\",{enumerable:!0,get:function(){return c(o).default}});var i=r(18);Object.defineProperty(t,\"TouchSensor\",{enumerable:!0,get:function(){return c(i).default}});var s=r(16);Object.defineProperty(t,\"DragSensor\",{enumerable:!0,get:function(){return c(s).default}});var a=r(14);Object.defineProperty(t,\"ForceTouchSensor\",{enumerable:!0,get:function(){return c(a).default}});var l=r(0);function c(e){return e&&e.__esModule?e:{default:e}}Object.keys(l).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return l[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(37);Object.defineProperty(t,\"Announcement\",{enumerable:!0,get:function(){return a(n).default}}),Object.defineProperty(t,\"defaultAnnouncementOptions\",{enumerable:!0,get:function(){return n.defaultOptions}});var o=r(34);Object.defineProperty(t,\"Focusable\",{enumerable:!0,get:function(){return a(o).default}});var i=r(32);Object.defineProperty(t,\"Mirror\",{enumerable:!0,get:function(){return a(i).default}}),Object.defineProperty(t,\"defaultMirrorOptions\",{enumerable:!0,get:function(){return i.defaultOptions}});var s=r(28);function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"Scrollable\",{enumerable:!0,get:function(){return a(s).default}}),Object.defineProperty(t,\"defaultScrollableOptions\",{enumerable:!0,get:function(){return s.defaultOptions}})},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(38);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(39);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(43);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=class{constructor(){this.callbacks={}}on(e,...t){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(...t),this}off(e,t){if(!this.callbacks[e])return null;const r=this.callbacks[e].slice(0);for(let n=0;n<r.length;n++)t===r[n]&&this.callbacks[e].splice(n,1);return this}trigger(e){if(!this.callbacks[e.type])return null;const t=[...this.callbacks[e.type]],r=[];for(let n=t.length-1;n>=0;n--){const o=t[n];try{o(e)}catch(e){r.push(e)}}return r.length&&console.error(`Draggable caught errors while triggering '${e.type}'`,r),this}}},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(10),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(2),s=r(6),a=r(11),l=(n=a)&&n.__esModule?n:{default:n},c=r(5),u=r(7),d=r(8);const g=Symbol(\"onDragStart\"),h=Symbol(\"onDragMove\"),f=Symbol(\"onDragStop\"),v=Symbol(\"onDragPressure\"),m={\"drag:start\":e=>`Picked up ${e.source.textContent.trim()||e.source.id||\"draggable element\"}`,\"drag:stop\":e=>`Released ${e.source.textContent.trim()||e.source.id||\"draggable element\"}`},p={\"container:dragging\":\"draggable-container--is-dragging\",\"source:dragging\":\"draggable-source--is-dragging\",\"source:placed\":\"draggable-source--placed\",\"container:placed\":\"draggable-container--placed\",\"body:dragging\":\"draggable--is-dragging\",\"draggable:over\":\"draggable--over\",\"container:over\":\"draggable-container--over\",\"source:original\":\"draggable--original\",mirror:\"draggable-mirror\"},b=t.defaultOptions={draggable:\".draggable-source\",handle:null,delay:100,placedTimeout:800,plugins:[],sensors:[]};class E{constructor(e=[document.body],t={}){if(e instanceof NodeList||e instanceof Array)this.containers=[...e];else{if(!(e instanceof HTMLElement))throw new Error(\"Draggable containers are expected to be of type `NodeList`, `HTMLElement[]` or `HTMLElement`\");this.containers=[e]}this.options=o({},b,t,{classes:o({},p,t.classes||{}),announcements:o({},m,t.announcements||{})}),this.emitter=new l.default,this.dragging=!1,this.plugins=[],this.sensors=[],this[g]=this[g].bind(this),this[h]=this[h].bind(this),this[f]=this[f].bind(this),this[v]=this[v].bind(this),document.addEventListener(\"drag:start\",this[g],!0),document.addEventListener(\"drag:move\",this[h],!0),document.addEventListener(\"drag:stop\",this[f],!0),document.addEventListener(\"drag:pressure\",this[v],!0);const r=Object.values(E.Plugins).map(e=>e),n=[c.MouseSensor,c.TouchSensor];this.addPlugin(...r,...this.options.plugins),this.addSensor(...n,...this.options.sensors);const i=new u.DraggableInitializedEvent({draggable:this});this.on(\"mirror:created\",({mirror:e})=>this.mirror=e),this.on(\"mirror:destroy\",()=>this.mirror=null),this.trigger(i)}destroy(){document.removeEventListener(\"drag:start\",this[g],!0),document.removeEventListener(\"drag:move\",this[h],!0),document.removeEventListener(\"drag:stop\",this[f],!0),document.removeEventListener(\"drag:pressure\",this[v],!0);const e=new u.DraggableDestroyEvent({draggable:this});this.trigger(e),this.removePlugin(...this.plugins.map(e=>e.constructor)),this.removeSensor(...this.sensors.map(e=>e.constructor))}addPlugin(...e){const t=e.map(e=>new e(this));return t.forEach(e=>e.attach()),this.plugins=[...this.plugins,...t],this}removePlugin(...e){return this.plugins.filter(t=>e.includes(t.constructor)).forEach(e=>e.detach()),this.plugins=this.plugins.filter(t=>!e.includes(t.constructor)),this}addSensor(...e){const t=e.map(e=>new e(this.containers,this.options));return t.forEach(e=>e.attach()),this.sensors=[...this.sensors,...t],this}removeSensor(...e){return this.sensors.filter(t=>e.includes(t.constructor)).forEach(e=>e.detach()),this.sensors=this.sensors.filter(t=>!e.includes(t.constructor)),this}addContainer(...e){return this.containers=[...this.containers,...e],this.sensors.forEach(t=>t.addContainer(...e)),this}removeContainer(...e){return this.containers=this.containers.filter(t=>!e.includes(t)),this.sensors.forEach(t=>t.removeContainer(...e)),this}on(e,...t){return this.emitter.on(e,...t),this}off(e,t){return this.emitter.off(e,t),this}trigger(e){return this.emitter.trigger(e),this}getClassNameFor(e){return this.options.classes[e]}isDragging(){return Boolean(this.dragging)}getDraggableElements(){return this.containers.reduce((e,t)=>[...e,...this.getDraggableElementsForContainer(t)],[])}getDraggableElementsForContainer(e){return[...e.querySelectorAll(this.options.draggable)].filter(e=>e!==this.originalSource&&e!==this.mirror)}[g](e){const t=y(e),{target:r,container:n}=t;if(!this.containers.includes(n))return;if(this.options.handle&&r&&!(0,i.closest)(r,this.options.handle))return void t.cancel();if(this.originalSource=(0,i.closest)(r,this.options.draggable),this.sourceContainer=n,!this.originalSource)return void t.cancel();this.lastPlacedSource&&this.lastPlacedContainer&&(clearTimeout(this.placedTimeoutID),this.lastPlacedSource.classList.remove(this.getClassNameFor(\"source:placed\")),this.lastPlacedContainer.classList.remove(this.getClassNameFor(\"container:placed\"))),this.source=this.originalSource.cloneNode(!0),this.originalSource.parentNode.insertBefore(this.source,this.originalSource),this.originalSource.style.display=\"none\";const s=new d.DragStartEvent({source:this.source,originalSource:this.originalSource,sourceContainer:n,sensorEvent:t});if(this.trigger(s),this.dragging=!s.canceled(),s.canceled())return this.source.parentNode.removeChild(this.source),void(this.originalSource.style.display=null);this.originalSource.classList.add(this.getClassNameFor(\"source:original\")),this.source.classList.add(this.getClassNameFor(\"source:dragging\")),this.sourceContainer.classList.add(this.getClassNameFor(\"container:dragging\")),document.body.classList.add(this.getClassNameFor(\"body:dragging\")),S(document.body,\"none\"),requestAnimationFrame(()=>{const t=y(e).clone({target:this.source});this[h](o({},e,{detail:t}))})}[h](e){if(!this.dragging)return;const t=y(e),{container:r}=t;let n=t.target;const o=new d.DragMoveEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t});this.trigger(o),o.canceled()&&t.cancel(),n=(0,i.closest)(n,this.options.draggable);const s=(0,i.closest)(t.target,this.containers),a=t.overContainer||s,l=this.currentOverContainer&&a!==this.currentOverContainer,c=this.currentOver&&n!==this.currentOver,u=a&&this.currentOverContainer!==a,g=s&&n&&this.currentOver!==n;if(c){const e=new d.DragOutEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t,over:this.currentOver});this.currentOver.classList.remove(this.getClassNameFor(\"draggable:over\")),this.currentOver=null,this.trigger(e)}if(l){const e=new d.DragOutContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t,overContainer:this.currentOverContainer});this.currentOverContainer.classList.remove(this.getClassNameFor(\"container:over\")),this.currentOverContainer=null,this.trigger(e)}if(u){a.classList.add(this.getClassNameFor(\"container:over\"));const e=new d.DragOverContainerEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t,overContainer:a});this.currentOverContainer=a,this.trigger(e)}if(g){n.classList.add(this.getClassNameFor(\"draggable:over\"));const e=new d.DragOverEvent({source:this.source,originalSource:this.originalSource,sourceContainer:r,sensorEvent:t,overContainer:a,over:n});this.currentOver=n,this.trigger(e)}}[f](e){if(!this.dragging)return;this.dragging=!1;const t=new d.DragStopEvent({source:this.source,originalSource:this.originalSource,sensorEvent:e.sensorEvent,sourceContainer:this.sourceContainer});this.trigger(t),this.source.parentNode.insertBefore(this.originalSource,this.source),this.source.parentNode.removeChild(this.source),this.originalSource.style.display=\"\",this.source.classList.remove(this.getClassNameFor(\"source:dragging\")),this.originalSource.classList.remove(this.getClassNameFor(\"source:original\")),this.originalSource.classList.add(this.getClassNameFor(\"source:placed\")),this.sourceContainer.classList.add(this.getClassNameFor(\"container:placed\")),this.sourceContainer.classList.remove(this.getClassNameFor(\"container:dragging\")),document.body.classList.remove(this.getClassNameFor(\"body:dragging\")),S(document.body,\"\"),this.currentOver&&this.currentOver.classList.remove(this.getClassNameFor(\"draggable:over\")),this.currentOverContainer&&this.currentOverContainer.classList.remove(this.getClassNameFor(\"container:over\")),this.lastPlacedSource=this.originalSource,this.lastPlacedContainer=this.sourceContainer,this.placedTimeoutID=setTimeout(()=>{this.lastPlacedSource&&this.lastPlacedSource.classList.remove(this.getClassNameFor(\"source:placed\")),this.lastPlacedContainer&&this.lastPlacedContainer.classList.remove(this.getClassNameFor(\"container:placed\")),this.lastPlacedSource=null,this.lastPlacedContainer=null},this.options.placedTimeout),this.source=null,this.originalSource=null,this.currentOverContainer=null,this.currentOver=null,this.sourceContainer=null}[v](e){if(!this.dragging)return;const t=y(e),r=this.source||(0,i.closest)(t.originalEvent.target,this.options.draggable),n=new d.DragPressureEvent({sensorEvent:t,source:r,pressure:t.pressure});this.trigger(n)}}function y(e){return e.detail}function S(e,t){e.style.webkitUserSelect=t,e.style.mozUserSelect=t,e.style.msUserSelect=t,e.style.oUserSelect=t,e.style.userSelect=t}t.default=E,E.Plugins={Announcement:s.Announcement,Focusable:s.Focusable,Mirror:s.Mirror,Scrollable:s.Scrollable}},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(1),i=(n=o)&&n.__esModule?n:{default:n},s=r(0);const a=Symbol(\"onMouseForceWillBegin\"),l=Symbol(\"onMouseForceDown\"),c=Symbol(\"onMouseDown\"),u=Symbol(\"onMouseForceChange\"),d=Symbol(\"onMouseMove\"),g=Symbol(\"onMouseUp\"),h=Symbol(\"onMouseForceGlobalChange\");class f extends i.default{constructor(e=[],t={}){super(e,t),this.mightDrag=!1,this[a]=this[a].bind(this),this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[g]=this[g].bind(this)}attach(){for(const e of this.containers)e.addEventListener(\"webkitmouseforcewillbegin\",this[a],!1),e.addEventListener(\"webkitmouseforcedown\",this[l],!1),e.addEventListener(\"mousedown\",this[c],!0),e.addEventListener(\"webkitmouseforcechanged\",this[u],!1);document.addEventListener(\"mousemove\",this[d]),document.addEventListener(\"mouseup\",this[g])}detach(){for(const e of this.containers)e.removeEventListener(\"webkitmouseforcewillbegin\",this[a],!1),e.removeEventListener(\"webkitmouseforcedown\",this[l],!1),e.removeEventListener(\"mousedown\",this[c],!0),e.removeEventListener(\"webkitmouseforcechanged\",this[u],!1);document.removeEventListener(\"mousemove\",this[d]),document.removeEventListener(\"mouseup\",this[g])}[a](e){e.preventDefault(),this.mightDrag=!0}[l](e){if(this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),r=e.currentTarget,n=new s.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:r,originalEvent:e});this.trigger(r,n),this.currentContainer=r,this.dragging=!n.canceled(),this.mightDrag=!1}[g](e){if(!this.dragging)return;const t=new s.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:null,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,t),this.currentContainer=null,this.dragging=!1,this.mightDrag=!1}[c](e){this.mightDrag&&(e.stopPropagation(),e.stopImmediatePropagation(),e.preventDefault())}[d](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),r=new s.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r)}[u](e){if(this.dragging)return;const t=e.target,r=e.currentTarget,n=new s.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:r,originalEvent:e});this.trigger(r,n)}[h](e){if(!this.dragging)return;const t=e.target,r=new s.DragPressureSensorEvent({pressure:e.webkitForce,clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r)}}t.default=f},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(13),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(2),i=r(1),s=(n=i)&&n.__esModule?n:{default:n},a=r(0);const l=Symbol(\"onMouseDown\"),c=Symbol(\"onMouseUp\"),u=Symbol(\"onDragStart\"),d=Symbol(\"onDragOver\"),g=Symbol(\"onDragEnd\"),h=Symbol(\"onDrop\"),f=Symbol(\"reset\");class v extends s.default{constructor(e=[],t={}){super(e,t),this.mouseDownTimeout=null,this.draggableElement=null,this.nativeDraggableElement=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[g]=this[g].bind(this),this[h]=this[h].bind(this)}attach(){document.addEventListener(\"mousedown\",this[l],!0)}detach(){document.removeEventListener(\"mousedown\",this[l],!0)}[u](e){e.dataTransfer.setData(\"text\",\"\"),e.dataTransfer.effectAllowed=this.options.type;const t=document.elementFromPoint(e.clientX,e.clientY);if(this.currentContainer=(0,o.closest)(e.target,this.containers),!this.currentContainer)return;const r=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});setTimeout(()=>{this.trigger(this.currentContainer,r),r.canceled()?this.dragging=!1:this.dragging=!0},0)}[d](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),r=this.currentContainer,n=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:r,originalEvent:e});this.trigger(r,n),n.canceled()||(e.preventDefault(),e.dataTransfer.dropEffect=this.options.type)}[g](e){if(!this.dragging)return;document.removeEventListener(\"mouseup\",this[c],!0);const t=document.elementFromPoint(e.clientX,e.clientY),r=this.currentContainer,n=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:r,originalEvent:e});this.trigger(r,n),this.dragging=!1,this[f]()}[h](e){e.preventDefault()}[l](e){if(e.target&&(e.target.form||e.target.contenteditable))return;const t=(0,o.closest)(e.target,e=>e.draggable);t&&(t.draggable=!1,this.nativeDraggableElement=t),document.addEventListener(\"mouseup\",this[c],!0),document.addEventListener(\"dragstart\",this[u],!1),document.addEventListener(\"dragover\",this[d],!1),document.addEventListener(\"dragend\",this[g],!1),document.addEventListener(\"drop\",this[h],!1);const r=(0,o.closest)(e.target,this.options.draggable);r&&(this.mouseDownTimeout=setTimeout(()=>{r.draggable=!0,this.draggableElement=r},this.options.delay))}[c](){this[f]()}[f](){clearTimeout(this.mouseDownTimeout),document.removeEventListener(\"mouseup\",this[c],!0),document.removeEventListener(\"dragstart\",this[u],!1),document.removeEventListener(\"dragover\",this[d],!1),document.removeEventListener(\"dragend\",this[g],!1),document.removeEventListener(\"drop\",this[h],!1),this.nativeDraggableElement&&(this.nativeDraggableElement.draggable=!0,this.nativeDraggableElement=null),this.draggableElement&&(this.draggableElement.draggable=!1,this.draggableElement=null)}}t.default=v},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(15),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(2),i=r(1),s=(n=i)&&n.__esModule?n:{default:n},a=r(0);const l=Symbol(\"onTouchStart\"),c=Symbol(\"onTouchHold\"),u=Symbol(\"onTouchEnd\"),d=Symbol(\"onTouchMove\");let g=!1;window.addEventListener(\"touchmove\",e=>{g&&e.preventDefault()},{passive:!1});class h extends s.default{constructor(e=[],t={}){super(e,t),this.currentScrollableParent=null,this.tapTimeout=null,this.touchMoved=!1,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){document.addEventListener(\"touchstart\",this[l])}detach(){document.removeEventListener(\"touchstart\",this[l])}[l](e){const t=(0,o.closest)(e.target,this.containers);t&&(document.addEventListener(\"touchmove\",this[d]),document.addEventListener(\"touchend\",this[u]),document.addEventListener(\"touchcancel\",this[u]),t.addEventListener(\"contextmenu\",f),this.currentContainer=t,this.tapTimeout=setTimeout(this[c](e,t),this.options.delay))}[c](e,t){return()=>{if(this.touchMoved)return;const r=e.touches[0]||e.changedTouches[0],n=e.target,o=new a.DragStartSensorEvent({clientX:r.pageX,clientY:r.pageY,target:n,container:t,originalEvent:e});this.trigger(t,o),this.dragging=!o.canceled(),g=this.dragging}}[d](e){if(this.touchMoved=!0,!this.dragging)return;const t=e.touches[0]||e.changedTouches[0],r=document.elementFromPoint(t.pageX-window.scrollX,t.pageY-window.scrollY),n=new a.DragMoveSensorEvent({clientX:t.pageX,clientY:t.pageY,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n)}[u](e){if(this.touchMoved=!1,g=!1,document.removeEventListener(\"touchend\",this[u]),document.removeEventListener(\"touchcancel\",this[u]),document.removeEventListener(\"touchmove\",this[d]),this.currentContainer&&this.currentContainer.removeEventListener(\"contextmenu\",f),clearTimeout(this.tapTimeout),!this.dragging)return;const t=e.touches[0]||e.changedTouches[0],r=document.elementFromPoint(t.pageX-window.scrollX,t.pageY-window.scrollY);e.preventDefault();const n=new a.DragStopSensorEvent({clientX:t.pageX,clientY:t.pageY,target:r,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,n),this.currentContainer=null,this.dragging=!1}}function f(e){e.preventDefault(),e.stopPropagation()}t.default=h},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(17),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.DragPressureSensorEvent=t.DragStopSensorEvent=t.DragMoveSensorEvent=t.DragStartSensorEvent=t.SensorEvent=void 0;var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};class s extends i.default{get originalEvent(){return this.data.originalEvent}get clientX(){return this.data.clientX}get clientY(){return this.data.clientY}get target(){return this.data.target}get container(){return this.data.container}get pressure(){return this.data.pressure}}t.SensorEvent=s;class a extends s{}t.DragStartSensorEvent=a,a.type=\"drag:start\";class l extends s{}t.DragMoveSensorEvent=l,l.type=\"drag:move\";class c extends s{}t.DragStopSensorEvent=c,c.type=\"drag:stop\";class u extends s{}t.DragPressureSensorEvent=u,u.type=\"drag:pressure\"},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(2),i=r(1),s=(n=i)&&n.__esModule?n:{default:n},a=r(0);const l=Symbol(\"onContextMenuWhileDragging\"),c=Symbol(\"onMouseDown\"),u=Symbol(\"onMouseMove\"),d=Symbol(\"onMouseUp\");class g extends s.default{constructor(e=[],t={}){super(e,t),this.mouseDown=!1,this.mouseDownTimeout=null,this.openedContextMenu=!1,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){document.addEventListener(\"mousedown\",this[c],!0)}detach(){document.removeEventListener(\"mousedown\",this[c],!0)}[c](e){if(0!==e.button||e.ctrlKey||e.metaKey)return;document.addEventListener(\"mouseup\",this[d]);const t=document.elementFromPoint(e.clientX,e.clientY),r=(0,o.closest)(t,this.containers);r&&(document.addEventListener(\"dragstart\",h),this.mouseDown=!0,clearTimeout(this.mouseDownTimeout),this.mouseDownTimeout=setTimeout(()=>{if(!this.mouseDown)return;const n=new a.DragStartSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:r,originalEvent:e});this.trigger(r,n),this.currentContainer=r,this.dragging=!n.canceled(),this.dragging&&(document.addEventListener(\"contextmenu\",this[l]),document.addEventListener(\"mousemove\",this[u]))},this.options.delay))}[u](e){if(!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),r=new a.DragMoveSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r)}[d](e){if(this.mouseDown=Boolean(this.openedContextMenu),this.openedContextMenu)return void(this.openedContextMenu=!1);if(document.removeEventListener(\"mouseup\",this[d]),document.removeEventListener(\"dragstart\",h),!this.dragging)return;const t=document.elementFromPoint(e.clientX,e.clientY),r=new a.DragStopSensorEvent({clientX:e.clientX,clientY:e.clientY,target:t,container:this.currentContainer,originalEvent:e});this.trigger(this.currentContainer,r),document.removeEventListener(\"contextmenu\",this[l]),document.removeEventListener(\"mousemove\",this[u]),this.currentContainer=null,this.dragging=!1}[l](e){e.preventDefault(),this.openedContextMenu=!0}}function h(e){e.preventDefault()}t.default=g},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(20),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.default=class{constructor(e=[],t={}){this.containers=[...e],this.options=n({},t),this.dragging=!1,this.currentContainer=null}attach(){return this}detach(){return this}addContainer(...e){this.containers=[...this.containers,...e]}removeContainer(...e){this.containers=this.containers.filter(t=>!e.includes(t))}trigger(e,t){const r=document.createEvent(\"Event\");return r.detail=t,r.initEvent(t.type,!0,!0),e.dispatchEvent(r),this.lastEvent=t,t}}},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e){return requestAnimationFrame(()=>{requestAnimationFrame(e)})}},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(23),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=function(e,t){if(!e)return null;const r=t,o=t,i=t,s=t,a=Boolean(\"string\"==typeof t),l=Boolean(\"function\"==typeof t),c=Boolean(t instanceof NodeList||t instanceof Array),u=Boolean(t instanceof HTMLElement);let d=e;do{if(d=d.correspondingUseElement||d.correspondingElement||d,(g=d)?a?n.call(g,r):c?[...i].includes(g):u?s===g:l&&o(g):g)return d;d=d.parentNode}while(d&&d!==document.body&&d!==document);var g;return null};const n=Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(25),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=t.scroll=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(4),s=(n=i)&&n.__esModule?n:{default:n},a=r(2);const l=t.onDragStart=Symbol(\"onDragStart\"),c=t.onDragMove=Symbol(\"onDragMove\"),u=t.onDragStop=Symbol(\"onDragStop\"),d=t.scroll=Symbol(\"scroll\"),g=t.defaultOptions={speed:6,sensitivity:50,scrollableElements:[]};class h extends s.default{constructor(e){super(e),this.options=o({},g,this.getOptions()),this.currentMousePosition=null,this.scrollAnimationFrame=null,this.scrollableElement=null,this.findScrollableElementFrame=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this)}attach(){this.draggable.on(\"drag:start\",this[l]).on(\"drag:move\",this[c]).on(\"drag:stop\",this[u])}detach(){this.draggable.off(\"drag:start\",this[l]).off(\"drag:move\",this[c]).off(\"drag:stop\",this[u])}getOptions(){return this.draggable.options.scrollable||{}}getScrollableElement(e){return this.hasDefinedScrollableElements()?(0,a.closest)(e,this.options.scrollableElements)||document.documentElement:function(e){if(!e)return f();const t=getComputedStyle(e).getPropertyValue(\"position\"),r=\"absolute\"===t,n=(0,a.closest)(e,e=>(!r||!function(e){return\"static\"===getComputedStyle(e).getPropertyValue(\"position\")}(e))&&function(e){const t=getComputedStyle(e,null),r=t.getPropertyValue(\"overflow\")+t.getPropertyValue(\"overflow-y\")+t.getPropertyValue(\"overflow-x\");return/(auto|scroll)/.test(r)}(e));return\"fixed\"!==t&&n?n:f()}(e)}hasDefinedScrollableElements(){return Boolean(0!==this.options.scrollableElements.length)}[l](e){this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.source)})}[c](e){if(this.findScrollableElementFrame=requestAnimationFrame(()=>{this.scrollableElement=this.getScrollableElement(e.sensorEvent.target)}),!this.scrollableElement)return;const t=e.sensorEvent,r={x:0,y:0};\"ontouchstart\"in window&&(r.y=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0,r.x=window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0),this.currentMousePosition={clientX:t.clientX-r.x,clientY:t.clientY-r.y},this.scrollAnimationFrame=requestAnimationFrame(this[d])}[u](){cancelAnimationFrame(this.scrollAnimationFrame),cancelAnimationFrame(this.findScrollableElementFrame),this.scrollableElement=null,this.scrollAnimationFrame=null,this.findScrollableElementFrame=null,this.currentMousePosition=null}[d](){if(!this.scrollableElement||!this.currentMousePosition)return;cancelAnimationFrame(this.scrollAnimationFrame);const{speed:e,sensitivity:t}=this.options,r=this.scrollableElement.getBoundingClientRect(),n=r.bottom>window.innerHeight,o=r.top<0||n,i=f(),s=this.scrollableElement,a=this.currentMousePosition.clientX,l=this.currentMousePosition.clientY;if(s===document.body||s===document.documentElement||o){const{innerHeight:r,innerWidth:n}=window;l<t?i.scrollTop-=e:r-l<t&&(i.scrollTop+=e),a<t?i.scrollLeft-=e:n-a<t&&(i.scrollLeft+=e)}else{const{offsetHeight:n,offsetWidth:o}=s;r.top+n-l<t?s.scrollTop+=e:l-r.top<t&&(s.scrollTop-=e),r.left+o-a<t?s.scrollLeft+=e:a-r.left<t&&(s.scrollLeft-=e)}this.scrollAnimationFrame=requestAnimationFrame(this[d])}}function f(){return document.scrollingElement||document.documentElement}t.default=h},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=void 0;var n,o=r(27),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default,t.defaultOptions=o.defaultOptions},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.MirrorDestroyEvent=t.MirrorMoveEvent=t.MirrorAttachedEvent=t.MirrorCreatedEvent=t.MirrorCreateEvent=t.MirrorEvent=void 0;var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};class s extends i.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get dragEvent(){return this.data.dragEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.MirrorEvent=s;class a extends s{}t.MirrorCreateEvent=a,a.type=\"mirror:create\";class l extends s{get mirror(){return this.data.mirror}}t.MirrorCreatedEvent=l,l.type=\"mirror:created\";class c extends s{get mirror(){return this.data.mirror}}t.MirrorAttachedEvent=c,c.type=\"mirror:attached\";class u extends s{get mirror(){return this.data.mirror}}t.MirrorMoveEvent=u,u.type=\"mirror:move\",u.cancelable=!0;class d extends s{get mirror(){return this.data.mirror}}t.MirrorDestroyEvent=d,d.type=\"mirror:destroy\",d.cancelable=!0},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(29);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}))},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=t.getAppendableContainer=t.onScroll=t.onMirrorMove=t.onMirrorCreated=t.onDragStop=t.onDragMove=t.onDragStart=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(4),s=(n=i)&&n.__esModule?n:{default:n},a=r(30);function l(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}const c=t.onDragStart=Symbol(\"onDragStart\"),u=t.onDragMove=Symbol(\"onDragMove\"),d=t.onDragStop=Symbol(\"onDragStop\"),g=t.onMirrorCreated=Symbol(\"onMirrorCreated\"),h=t.onMirrorMove=Symbol(\"onMirrorMove\"),f=t.onScroll=Symbol(\"onScroll\"),v=t.getAppendableContainer=Symbol(\"getAppendableContainer\"),m=t.defaultOptions={constrainDimensions:!1,xAxis:!0,yAxis:!0,cursorOffsetX:null,cursorOffsetY:null};class p extends s.default{constructor(e){super(e),this.options=o({},m,this.getOptions()),this.scrollOffset={x:0,y:0},this.initialScrollOffset={x:window.scrollX,y:window.scrollY},this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this[g]=this[g].bind(this),this[h]=this[h].bind(this),this[f]=this[f].bind(this)}attach(){this.draggable.on(\"drag:start\",this[c]).on(\"drag:move\",this[u]).on(\"drag:stop\",this[d]).on(\"mirror:created\",this[g]).on(\"mirror:move\",this[h])}detach(){this.draggable.off(\"drag:start\",this[c]).off(\"drag:move\",this[u]).off(\"drag:stop\",this[d]).off(\"mirror:created\",this[g]).off(\"mirror:move\",this[h])}getOptions(){return this.draggable.options.mirror||{}}[c](e){if(e.canceled())return;\"ontouchstart\"in window&&document.addEventListener(\"scroll\",this[f],!0),this.initialScrollOffset={x:window.scrollX,y:window.scrollY};const{source:t,originalSource:r,sourceContainer:n,sensorEvent:o}=e,i=new a.MirrorCreateEvent({source:t,originalSource:r,sourceContainer:n,sensorEvent:o,dragEvent:e});if(this.draggable.trigger(i),function(e){return/^drag/.test(e.originalEvent.type)}(o)||i.canceled())return;const s=this[v](t)||n;this.mirror=t.cloneNode(!0);const l=new a.MirrorCreatedEvent({source:t,originalSource:r,sourceContainer:n,sensorEvent:o,dragEvent:e,mirror:this.mirror}),c=new a.MirrorAttachedEvent({source:t,originalSource:r,sourceContainer:n,sensorEvent:o,dragEvent:e,mirror:this.mirror});this.draggable.trigger(l),s.appendChild(this.mirror),this.draggable.trigger(c)}[u](e){if(!this.mirror||e.canceled())return;const{source:t,originalSource:r,sourceContainer:n,sensorEvent:o}=e,i=new a.MirrorMoveEvent({source:t,originalSource:r,sourceContainer:n,sensorEvent:o,dragEvent:e,mirror:this.mirror});this.draggable.trigger(i)}[d](e){if(\"ontouchstart\"in window&&document.removeEventListener(\"scroll\",this[f],!0),this.initialScrollOffset={x:0,y:0},this.scrollOffset={x:0,y:0},!this.mirror)return;const{source:t,sourceContainer:r,sensorEvent:n}=e,o=new a.MirrorDestroyEvent({source:t,mirror:this.mirror,sourceContainer:r,sensorEvent:n,dragEvent:e});this.draggable.trigger(o),o.canceled()||this.mirror.parentNode.removeChild(this.mirror)}[f](){this.scrollOffset={x:window.scrollX-this.initialScrollOffset.x,y:window.scrollY-this.initialScrollOffset.y}}[g]({mirror:e,source:t,sensorEvent:r}){const n={mirror:e,source:t,sensorEvent:r,mirrorClass:this.draggable.getClassNameFor(\"mirror\"),scrollOffset:this.scrollOffset,options:this.options};return Promise.resolve(n).then(b).then(E).then(y).then(S).then(C({initial:!0})).then(O).then(e=>{let{mirrorOffset:t,initialX:r,initialY:n}=e,i=l(e,[\"mirrorOffset\",\"initialX\",\"initialY\"]);return this.mirrorOffset=t,this.initialX=r,this.initialY=n,o({mirrorOffset:t,initialX:r,initialY:n},i)})}[h](e){if(e.canceled())return null;const t={mirror:e.mirror,sensorEvent:e.sensorEvent,mirrorOffset:this.mirrorOffset,options:this.options,initialX:this.initialX,initialY:this.initialY,scrollOffset:this.scrollOffset};return Promise.resolve(t).then(C({raf:!0}))}[v](e){const t=this.options.appendTo;return\"string\"==typeof t?document.querySelector(t):t instanceof HTMLElement?t:\"function\"==typeof t?t(e):e.parentNode}}function b(e){let{source:t}=e,r=l(e,[\"source\"]);return w(e=>{const n=t.getBoundingClientRect();e(o({source:t,sourceRect:n},r))})}function E(e){let{sensorEvent:t,sourceRect:r,options:n}=e,i=l(e,[\"sensorEvent\",\"sourceRect\",\"options\"]);return w(e=>{const s=null===n.cursorOffsetY?t.clientY-r.top:n.cursorOffsetY,a=null===n.cursorOffsetX?t.clientX-r.left:n.cursorOffsetX;e(o({sensorEvent:t,sourceRect:r,mirrorOffset:{top:s,left:a},options:n},i))})}function y(e){let{mirror:t,source:r,options:n}=e,i=l(e,[\"mirror\",\"source\",\"options\"]);return w(e=>{let s,a;if(n.constrainDimensions){const e=getComputedStyle(r);s=e.getPropertyValue(\"height\"),a=e.getPropertyValue(\"width\")}t.style.position=\"fixed\",t.style.pointerEvents=\"none\",t.style.top=0,t.style.left=0,t.style.margin=0,n.constrainDimensions&&(t.style.height=s,t.style.width=a),e(o({mirror:t,source:r,options:n},i))})}function S(e){let{mirror:t,mirrorClass:r}=e,n=l(e,[\"mirror\",\"mirrorClass\"]);return w(e=>{t.classList.add(r),e(o({mirror:t,mirrorClass:r},n))})}function O(e){let{mirror:t}=e,r=l(e,[\"mirror\"]);return w(e=>{t.removeAttribute(\"id\"),delete t.id,e(o({mirror:t},r))})}function C({withFrame:e=!1,initial:t=!1}={}){return r=>{let{mirror:n,sensorEvent:i,mirrorOffset:s,initialY:a,initialX:c,scrollOffset:u,options:d}=r,g=l(r,[\"mirror\",\"sensorEvent\",\"mirrorOffset\",\"initialY\",\"initialX\",\"scrollOffset\",\"options\"]);return w(e=>{const r=o({mirror:n,sensorEvent:i,mirrorOffset:s,options:d},g);if(s){const e=i.clientX-s.left-u.x,o=i.clientY-s.top-u.y;d.xAxis&&d.yAxis||t?n.style.transform=`translate3d(${e}px, ${o}px, 0)`:d.xAxis&&!d.yAxis?n.style.transform=`translate3d(${e}px, ${a}px, 0)`:d.yAxis&&!d.xAxis&&(n.style.transform=`translate3d(${c}px, ${o}px, 0)`),t&&(r.initialX=e,r.initialY=o)}e(r)},{frame:e})}}function w(e,{raf:t=!1}={}){return new Promise((r,n)=>{t?requestAnimationFrame(()=>{e(r,n)}):e(r,n)})}t.default=p},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=void 0;var n,o=r(31),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default,t.defaultOptions=o.defaultOptions},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(4),s=(n=i)&&n.__esModule?n:{default:n};const a=Symbol(\"onInitialize\"),l=Symbol(\"onDestroy\"),c={};class u extends s.default{constructor(e){super(e),this.options=o({},c,this.getOptions()),this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on(\"draggable:initialize\",this[a]).on(\"draggable:destroy\",this[l])}detach(){this.draggable.off(\"draggable:initialize\",this[a]).off(\"draggable:destroy\",this[l])}getOptions(){return this.draggable.options.focusable||{}}getElements(){return[...this.draggable.containers,...this.draggable.getDraggableElements()]}[a](){requestAnimationFrame(()=>{this.getElements().forEach(e=>function(e){Boolean(!e.getAttribute(\"tabindex\")&&-1===e.tabIndex)&&(d.push(e),e.tabIndex=0)}(e))})}[l](){requestAnimationFrame(()=>{this.getElements().forEach(e=>function(e){const t=d.indexOf(e);-1!==t&&(e.tabIndex=-1,d.splice(t,1))}(e))})}}t.default=u;const d=[]},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=r(33),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.default=class{constructor(e){this.draggable=e}attach(){throw new Error(\"Not Implemented\")}detach(){throw new Error(\"Not Implemented\")}}},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=void 0;var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(4),s=(n=i)&&n.__esModule?n:{default:n};const a=Symbol(\"onInitialize\"),l=Symbol(\"onDestroy\"),c=Symbol(\"announceEvent\"),u=Symbol(\"announceMessage\"),d=t.defaultOptions={expire:7e3};class g extends s.default{constructor(e){super(e),this.options=o({},d,this.getOptions()),this.originalTriggerMethod=this.draggable.trigger,this[a]=this[a].bind(this),this[l]=this[l].bind(this)}attach(){this.draggable.on(\"draggable:initialize\",this[a])}detach(){this.draggable.off(\"draggable:destroy\",this[l])}getOptions(){return this.draggable.options.announcements||{}}[c](e){const t=this.options[e.type];t&&\"string\"==typeof t&&this[u](t),t&&\"function\"==typeof t&&this[u](t(e))}[u](e){!function(e,{expire:t}){const r=document.createElement(\"div\");r.textContent=e,h.appendChild(r),setTimeout(()=>{h.removeChild(r)},t)}(e,{expire:this.options.expire})}[a](){this.draggable.trigger=e=>{try{this[c](e)}finally{this.originalTriggerMethod.call(this.draggable,e)}}}[l](){this.draggable.trigger=this.originalTriggerMethod}}t.default=g;const h=function(){const e=document.createElement(\"div\");return e.setAttribute(\"id\",\"draggable-live-region\"),e.setAttribute(\"aria-relevant\",\"additions\"),e.setAttribute(\"aria-atomic\",\"true\"),e.setAttribute(\"aria-live\",\"assertive\"),e.setAttribute(\"role\",\"log\"),e.style.position=\"fixed\",e.style.width=\"1px\",e.style.height=\"1px\",e.style.top=\"-1px\",e.style.overflow=\"hidden\",e}();document.addEventListener(\"DOMContentLoaded\",()=>{document.body.appendChild(h)})},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.defaultOptions=void 0;var n,o=r(36),i=(n=o)&&n.__esModule?n:{default:n};t.default=i.default,t.defaultOptions=o.defaultOptions},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.DraggableDestroyEvent=t.DraggableInitializedEvent=t.DraggableEvent=void 0;var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};class s extends i.default{get draggable(){return this.data.draggable}}t.DraggableEvent=s,s.type=\"draggable\";class a extends s{}t.DraggableInitializedEvent=a,a.type=\"draggable:initialize\";class l extends s{}t.DraggableDestroyEvent=l,l.type=\"draggable:destroy\"},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.DragStopEvent=t.DragPressureEvent=t.DragOutContainerEvent=t.DragOverContainerEvent=t.DragOutEvent=t.DragOverEvent=t.DragMoveEvent=t.DragStartEvent=t.DragEvent=void 0;var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};class s extends i.default{get source(){return this.data.source}get originalSource(){return this.data.originalSource}get mirror(){return this.data.mirror}get sourceContainer(){return this.data.sourceContainer}get sensorEvent(){return this.data.sensorEvent}get originalEvent(){return this.sensorEvent?this.sensorEvent.originalEvent:null}}t.DragEvent=s,s.type=\"drag\";class a extends s{}t.DragStartEvent=a,a.type=\"drag:start\",a.cancelable=!0;class l extends s{}t.DragMoveEvent=l,l.type=\"drag:move\";class c extends s{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOverEvent=c,c.type=\"drag:over\",c.cancelable=!0;class u extends s{get overContainer(){return this.data.overContainer}get over(){return this.data.over}}t.DragOutEvent=u,u.type=\"drag:out\";class d extends s{get overContainer(){return this.data.overContainer}}t.DragOverContainerEvent=d,d.type=\"drag:over:container\";class g extends s{get overContainer(){return this.data.overContainer}}t.DragOutContainerEvent=g,g.type=\"drag:out:container\";class h extends s{get pressure(){return this.data.pressure}}t.DragPressureEvent=h,h.type=\"drag:pressure\";class f extends s{}t.DragStopEvent=f,f.type=\"drag:stop\"},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(8);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var o=r(7);Object.keys(o).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return o[e]}})}));var i=r(6);Object.keys(i).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return i[e]}})}));var s=r(5);Object.keys(s).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return s[e]}})}));var a,l=r(12),c=(a=l)&&a.__esModule?a:{default:a};t.default=c.default},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(40),s=(n=i)&&n.__esModule?n:{default:n},a=r(9);const l=Symbol(\"onDragStart\"),c=Symbol(\"onDragOverContainer\"),u=Symbol(\"onDragOver\"),d=Symbol(\"onDragStop\"),g={\"sortable:sorted\":function({dragEvent:e}){const t=e.source.textContent.trim()||e.source.id||\"sortable element\";if(e.over){const r=e.over.textContent.trim()||e.over.id||\"sortable element\";return e.source.compareDocumentPosition(e.over)&Node.DOCUMENT_POSITION_FOLLOWING?`Placed ${t} after ${r}`:`Placed ${t} before ${r}`}return`Placed ${t} into a different container`}};class h extends s.default{constructor(e=[],t={}){super(e,o({},t,{announcements:o({},g,t.announcements||{})})),this.startIndex=null,this.startContainer=null,this[l]=this[l].bind(this),this[c]=this[c].bind(this),this[u]=this[u].bind(this),this[d]=this[d].bind(this),this.on(\"drag:start\",this[l]).on(\"drag:over:container\",this[c]).on(\"drag:over\",this[u]).on(\"drag:stop\",this[d])}destroy(){super.destroy(),this.off(\"drag:start\",this[l]).off(\"drag:over:container\",this[c]).off(\"drag:over\",this[u]).off(\"drag:stop\",this[d])}index(e){return this.getDraggableElementsForContainer(e.parentNode).indexOf(e)}[l](e){this.startContainer=e.source.parentNode,this.startIndex=this.index(e.source);const t=new a.SortableStartEvent({dragEvent:e,startIndex:this.startIndex,startContainer:this.startContainer});this.trigger(t),t.canceled()&&e.cancel()}[c](e){if(e.canceled())return;const{source:t,over:r,overContainer:n}=e,o=this.index(t),i=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:r});if(this.trigger(i),i.canceled())return;const s=v({source:t,over:r,overContainer:n,children:this.getDraggableElementsForContainer(n)});if(!s)return;const{oldContainer:l,newContainer:c}=s,u=this.index(e.source),d=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:u,oldContainer:l,newContainer:c});this.trigger(d)}[u](e){if(e.over===e.originalSource||e.over===e.source)return;const{source:t,over:r,overContainer:n}=e,o=this.index(t),i=new a.SortableSortEvent({dragEvent:e,currentIndex:o,source:t,over:r});if(this.trigger(i),i.canceled())return;const s=v({source:t,over:r,overContainer:n,children:this.getDraggableElementsForContainer(n)});if(!s)return;const{oldContainer:l,newContainer:c}=s,u=this.index(t),d=new a.SortableSortedEvent({dragEvent:e,oldIndex:o,newIndex:u,oldContainer:l,newContainer:c});this.trigger(d)}[d](e){const t=new a.SortableStopEvent({dragEvent:e,oldIndex:this.startIndex,newIndex:this.index(e.source),oldContainer:this.startContainer,newContainer:e.source.parentNode});this.trigger(t),this.startIndex=null,this.startContainer=null}}function f(e){return Array.prototype.indexOf.call(e.parentNode.children,e)}function v({source:e,over:t,overContainer:r,children:n}){const o=!n.length,i=e.parentNode!==r,s=t&&!i;return o?function(e,t){const r=e.parentNode;return t.appendChild(e),{oldContainer:r,newContainer:t}}(e,r):s?function(e,t){const r=f(e),n=f(t);return r<n?e.parentNode.insertBefore(e,t.nextElementSibling):e.parentNode.insertBefore(e,t),{oldContainer:e.parentNode,newContainer:e.parentNode}}(e,t):i?function(e,t,r){const n=e.parentNode;return t?t.parentNode.insertBefore(e,t):r.appendChild(e),{oldContainer:n,newContainer:e.parentNode}}(e,t,r):null}t.default=h},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};const o=Symbol(\"canceled\");class i{constructor(e){this[o]=!1,this.data=e}get type(){return this.constructor.type}get cancelable(){return this.constructor.cancelable}cancel(){this[o]=!0}canceled(){return Boolean(this[o])}clone(e){return new this.constructor(n({},this.data,e))}}t.default=i,i.type=\"event\",i.cancelable=!1},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0}),t.SortableStopEvent=t.SortableSortedEvent=t.SortableSortEvent=t.SortableStartEvent=t.SortableEvent=void 0;var n,o=r(3),i=(n=o)&&n.__esModule?n:{default:n};class s extends i.default{get dragEvent(){return this.data.dragEvent}}t.SortableEvent=s,s.type=\"sortable\";class a extends s{get startIndex(){return this.data.startIndex}get startContainer(){return this.data.startContainer}}t.SortableStartEvent=a,a.type=\"sortable:start\",a.cancelable=!0;class l extends s{get currentIndex(){return this.data.currentIndex}get over(){return this.data.oldIndex}get overContainer(){return this.data.newIndex}}t.SortableSortEvent=l,l.type=\"sortable:sort\",l.cancelable=!0;class c extends s{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableSortedEvent=c,c.type=\"sortable:sorted\";class u extends s{get oldIndex(){return this.data.oldIndex}get newIndex(){return this.data.newIndex}get oldContainer(){return this.data.oldContainer}get newContainer(){return this.data.newContainer}}t.SortableStopEvent=u,u.type=\"sortable:stop\"},function(e,t,r){Object.defineProperty(t,\"__esModule\",{value:!0});var n=r(9);Object.keys(n).forEach((function(e){\"default\"!==e&&\"__esModule\"!==e&&Object.defineProperty(t,e,{enumerable:!0,get:function(){return n[e]}})}));var o,i=r(41),s=(o=i)&&o.__esModule?o:{default:o};t.default=s.default}])},e.exports=r()})),r=(e=t)&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,\"default\")?e.default:e;if(void 0===window.Livewire)throw\"Livewire Sortable Plugin: window.Livewire is undefined. Make sure @livewireScripts is placed above this script include\";window.Livewire.directive(\"sortable-group\",({el:e,directive:t,component:n})=>{if(t.modifiers.includes(\"item-group\")&&e.closest(\"[wire\\\\:sortable-group]\").livewire_sortable.addContainer(e),t.modifiers.length>0)return;let o={draggable:\"[wire\\\\:sortable-group\\\\.item]\"};e.querySelector(\"[wire\\\\:sortable-group\\\\.handle]\")&&(o.handle=\"[wire\\\\:sortable-group\\\\.handle]\"),(e.livewire_sortable=new r([],o)).on(\"sortable:stop\",()=>{setTimeout(()=>{let r=[];e.querySelectorAll(\"[wire\\\\:sortable-group\\\\.item-group]\").forEach((e,t)=>{let n=[];e.querySelectorAll(\"[wire\\\\:sortable-group\\\\.item]\").forEach((e,t)=>{n.push({order:t+1,value:e.getAttribute(\"wire:sortable-group.item\")})}),r.push({order:t+1,value:e.getAttribute(\"wire:sortable-group.item-group\"),items:n})}),n.$wire.call(t.method,r)},1)})}),window.Livewire.directive(\"sortable\",({el:e,directive:t,component:n})=>{if(t.modifiers.length>0)return;let o={draggable:\"[wire\\\\:sortable\\\\.item]\"};e.querySelector(\"[wire\\\\:sortable\\\\.handle]\")&&(o.handle=\"[wire\\\\:sortable\\\\.handle]\"),new r(e,o).on(\"sortable:stop\",()=>{setTimeout(()=>{let r=[];e.querySelectorAll(\"[wire\\\\:sortable\\\\.item]\").forEach((e,t)=>{r.push({order:t+1,value:e.getAttribute(\"wire:sortable.item\")})}),n.$wire.call(t.method,r)},1)})})}));\n//# sourceMappingURL=livewire-sortable.js.map\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","import * as FilePond from 'filepond';\nimport FilePondPluginFileValidateType from 'filepond-plugin-file-validate-type';\nimport FilePondPluginImagePreview from 'filepond-plugin-image-preview';\nimport FilePondPluginFileValidateSize from 'filepond-plugin-file-validate-size';\nimport 'livewire-sortable';\n\nwindow.FilePond = FilePond;\nwindow.FilePondPluginFileValidateType = FilePondPluginFileValidateType;\nwindow.FilePondPluginImagePreview = FilePondPluginImagePreview;\nwindow.FilePondPluginFileValidateSize = FilePondPluginFileValidateSize;\n// window.LivewireSortable = livewireSortable;\n"],"names":["module","exports","plugin","_ref","addFilter","utils","Type","replaceInString","toNaturalFileSize","file","_ref2","query","sizeMax","size","sizeMin","_ref3","Promise","resolve","reject","fileFilter","status","main","sub","filesize","totalSizeMax","reduce","total","item","fileSize","options","allowFileSizeValidation","BOOLEAN","maxFileSize","INT","minFileSize","maxTotalFileSize","fileValidateSizeFilter","FUNCTION","labelMinFileSizeExceeded","STRING","labelMinFileSize","labelMaxFileSizeExceeded","labelMaxFileSize","labelMaxTotalFileSizeExceeded","labelMaxTotalFileSize","window","document","dispatchEvent","CustomEvent","detail","factory","isString","guesstimateMimeType","getExtensionFromFilename","getFilenameFromURL","mimeTypeMatchesWildCard","mimeType","wildcard","exec","pop","slice","isValidMimeType","acceptedTypes","userInputType","some","acceptedType","test","getItemType","type","filename","extension","validateFile","acceptedFileTypes","typeDetector","length","then","detectedType","catch","applyMimeTypeMap","map","acceptedFileType","Object","assign","accept","validationResult","handleRejection","acceptedFileTypesMapped","filter","label","acceptedFileTypesMappedUnique","index","indexOf","allTypes","join","allButLastType","lastType","allowFileTypeValidation","ARRAY","labelFileTypeNotAllowed","fileValidateTypeLabelExpectedTypes","fileValidateTypeLabelExpectedTypesMap","OBJECT","fileValidateTypeDetectType","isPreviewableImage","_AwaitValue","value","this","wrapped","_AsyncGenerator","gen","front","back","send","key","arg","request","next","resume","result","wrappedAwait","settle","done","err","_invoke","return","undefined","_slicedToArray","arr","i","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","Array","isArray","_arr","_n","_d","_e","_s","_i","Symbol","iterator","push","TypeError","asyncIterator","prototype","throw","vectorMultiply","v","amount","createVector","x","y","vectorAdd","a","b","vectorNormalize","l","Math","sqrt","vectorRotate","radians","origin","cos","sin","t","arguments","getMarkupValue","scalar","axis","parseFloat","min","width","height","getMarkupStyles","markup","scale","lineStyle","borderStyle","fill","backgroundColor","fontColor","stroke","borderColor","lineColor","strokeWidth","borderWidth","lineWidth","lineCap","lineJoin","opacity","isDefined","getMarkupRect","rect","left","top","right","bottom","pointsToPathShape","points","point","concat","setAttributes","element","attr","keys","forEach","setAttribute","ns","svg","tag","createElementNS","updateRect","styles","updateEllipse","cx","cy","rx","ry","IMAGE_FIT_STYLE","contain","cover","updateImage","preserveAspectRatio","fit","TEXT_ANCHOR","center","updateText","fontSize","fontFamily","fontWeight","textAlign","text","textContent","updateLine","line","childNodes","begin","end","target","x1","y1","x2","y2","lineDecoration","style","display","arrowBeginRotationPoint","arrowBeginCenter","arrowBeginA","arrowBeginB","d","arrowEndRotationPoint","arrowEndCenter","arrowEndA","arrowEndB","updatePath","createShape","node","id","createLine","shape","appendChild","CREATE_TYPE_ROUTES","image","onload","setAttributeNS","src","ellipse","path","UPDATE_TYPE_ROUTES","createMarkupByType","updateMarkupByType","MARKUP_RECT","toOptionalFraction","prepareMarkup","_markup","props","prev","curr","zIndex","sortMarkupByZIndex","createMarkupView","_","createView","name","ignoreRect","mixins","apis","write","root","dirty","crop","resize","viewWidth","viewHeight","cropWidth","cropHeight","_size","outputWidth","outputHeight","outputFit","mode","outputUpscale","upscale","shouldUpscale","scalarWidth","scalarHeight","max","innerHTML","markupFilter","sort","settings","createVector$1","vectorDot","vectorSubtract","vectorDistanceSquared","vectorDistance","getOffsetPointOnEdge","rotation","A","B","C","sinA","sinB","sinC","cosC","ratio","getRotatedRectSize","w","h","hor","ver","tl","abs","tr","bl","calculateCanvasSize","canvasAspectRatio","zoom","imageAspectRatio","canvasWidth","canvasHeight","imgWidth","imgHeight","getImageRectZoomFactor","imageRect","cropRect","imageWidth","imageHeight","rotatedCropSize","getCenteredCropRect","container","aspectRatio","getCurrentCropSize","imageSize","canvasSize","canvasCenter","stage","shouldLimit","scaleToFit","widthFloat","heightFloat","round","IMAGE_SCALE_SPRING_PROPS","stiffness","damping","mass","createBitmapView","create","createImageCanvasWrapper","animations","originX","originY","scaleX","scaleY","translateX","translateY","rotateZ","ref","bitmap","appendChildView","createChildView","flip","horizontal","vertical","createClipView","duration","didWriteView","_ref4","background","_ref5","createMarkup","destroyMarkup","removeChildView","transparencyIndicator","dataset","_ref6","shouldOptimize","translation","PI","cropAspectRatio","stageZoomFactor","imageView","createImageView","_ref7","clip","_ref8","hidden","containerWidth","inner","containerHeight","fixedPreviewHeight","minPreviewHeight","maxPreviewHeight","panelAspectRatio","allowMultiple","clipHeight","clipWidth","SVG_MASK","SVGMaskUniqueId","createImageOverlayView","fpAPI","mask","querySelector","url","URL","location","href","replace","hash","classList","add","BitmapWorker","self","onmessage","e","createImageBitmap","data","message","postMessage","ColorMatrixWorker","imageData","matrix","colorMatrix","m11","m12","m13","m14","m15","m21","m22","m23","m24","m25","m31","m32","m33","m34","m35","m41","m42","m43","m44","m45","r","g","buffer","getImageSize","cb","Image","naturalWidth","naturalHeight","transforms","fixImageOrientation","ctx","orientation","transform","apply","createPreviewImage","canvas","createElement","getContext","drawImage","isBitmap","MAX_WIDTH","MAX_HEIGHT","calculateAverageColor","ceil","getImageData","averageColor","c","floor","cloneCanvas","cloneImageData","ImageData","createImageData","set","Uint8ClampedArray","loadImage","img","crossOrigin","onerror","createImageWrapperView","OverlayView","ImageView","createWorker","applyFilter","putImageData","worker","post","response","terminate","removeImageView","_destroy","shiftImage","images","shift","imageViewBin","pushImage","getMetadata","childViews","setTimeout","dispatch","didUpdateItemMetadata","action","change","_imageView","canCreateImageBitmap","isFirefox","navigator","userAgent","match","firefoxVersion","parseInt","didCreatePreviewContainer","fileURL","createObjectURL","drawPreview","loadPreviewFallback","previewImageLoaded","revokeObjectURL","pixelDensityFactor","devicePixelRatio","scaleFactor","previewImageRatio","previewContainerWidth","previewContainerHeight","previewImage","setMetadata","close","overlayShadow","imageBitmap","didDrawPreview","restoreOverlay","_ref9","overlayError","overlaySuccess","didThrowError","_ref10","didCompleteProcessing","_ref11","_ref12","destroy","_ref13","_ref14","createRoute","DID_IMAGE_PREVIEW_DRAW","DID_IMAGE_PREVIEW_CONTAINER_CREATE","DID_FINISH_CALCULATE_PREVIEWSIZE","DID_UPDATE_ITEM_METADATA","DID_THROW_ITEM_LOAD_ERROR","DID_THROW_ITEM_PROCESSING_ERROR","DID_THROW_ITEM_INVALID","DID_COMPLETE_ITEM_PROCESSING","DID_START_ITEM_PROCESSING","DID_REVERT_ITEM_PROCESSING","_ref15","viewsToRemove","isFile","imagePreviewView","viewAPI","is","view","didLoadItem","archived","supportsCreateImageBitmap","maxPreviewFileSize","imagePreview","queue","rescaleItem","itemPanelAspectRatio","fixedHeight","_root$ref","previewAspectRatio","previewHeightMax","itemWidth","previewHeight","didResizeView","shouldRescale","didCalculatePreviewSize","shouldDrawPreview","registerWriter","DID_RESIZE_ROOT","DID_STOP_RESIZE","DID_LOAD_ITEM","DID_IMAGE_PREVIEW_CALCULATE_SIZE","requestAnimationFrame","allowImagePreview","imagePreviewFilterItem","imagePreviewHeight","imagePreviewMinHeight","imagePreviewMaxHeight","imagePreviewMaxFileSize","imagePreviewZoomFactor","imagePreviewUpscale","imagePreviewMaxInstantPreviewFileSize","imagePreviewTransparencyIndicator","imagePreviewCalculateAverageImageColor","imagePreviewMarkupShow","imagePreviewMarkupFilter","isNode","HTMLElement","createStore","initialState","queries","actions","state","actionQueue","dispatchQueue","processDispatchQueue","isBlocking","actionHandlers","str","_queryHandles","_len","args","_key","queryHandles","api","getState","processActionQueue","defineProperty","obj","property","definition","forin","hasOwnProperty","createObject","getAttribute","hasAttribute","svgElements","isSVGElement","includes","className","attributes","parent","child","children","insertBefore","splice","parentNode","removeChild","IS_BROWSER","isBrowser","getChildCount","el","getViewRect","elementRect","offset","outer","childView","isRectIgnored","childViewRect","expandRect","calculateRectSize","marginBottom","marginRight","isNumber","thereYet","position","destination","velocity","errorMargin","spring","_ref$stiffness","_ref$damping","_ref$mass","resting","interpolate","ts","skipToEndState","onupdate","oncomplete","get","easeInOutQuad","tween","p","_ref$duration","_ref$easing","easing","_ref$delay","delay","start","reverse","animator","createAnimator","category","def","addGetSet","overwrite","o","getter","setter","addEvent","fn","addEventListener","removeEvent","removeEventListener","defaults","rotateX","rotateY","mixinConfig","viewProps","viewInternalAPI","viewExternalAPI","initialProps","currentProps","getOffset","getScale","getRect","propsHaveChanged","applyStyles","newProps","prop","perspective","elementCurrentStyle","cssText","Mixins","listeners","viewState","events","remove","on","off","findIndex","event","animation","layoutCalculated","paddingTop","marginTop","marginLeft","offsetLeft","offsetTop","offsetWidth","offsetHeight","scrollTop","offsetParent","_ref$tag","_ref$name","_ref$attributes","_ref$read","read","_ref$write","_ref$create","_ref$destroy","_ref$filterFrameActio","filterFrameActionsForChild","_ref$didCreateView","didCreateView","_ref$didWriteView","_ref$ignoreRect","_ref$ignoreRectUpdate","ignoreRectUpdate","_ref$mixins","store","getComputedStyle","frameRect","isResting","activeMixins","writers","readers","destroyers","getElement","getChildViews","getReference","_read","internalAPI","reader","_write","frameActions","writer","timestamp","mixin","destroyer","sharedAPIDefinition","internalAPIDefinition","needle","linkView","unlinkView","registerReader","registerDestroyer","invalidateLayout","externalAPIDefinition","mixinAPIDefinition","mixinAPI","childCount","createPainter","fps","painter","interval","last","requestTick","cancelTick","setTimerType","tick","performance","now","clearTimeout","cancelAnimationFrame","delta","pause","routes","_ref$actions","newNode","referenceNode","insertAfter","nextSibling","isEmpty","trim","toString","toArray","splitter","split","isBoolean","toBoolean","toNumber","toInt","toFloat","isInt","isFinite","toBytes","base","naturalFileSize","isFunction","toFunctionReference","string","levels","level","methods","process","patch","revert","fetch","restore","load","createServerAPI","outline","timeout","headers","createAction","method","withCredentials","ondata","parts","header","isNull","isObject","isAPI","getType","replaceSingleQuotes","conversionTable","array","boolean","int","number","float","bytes","function","serverapi","object","JSON","parse","convertTo","getValueByType","newValue","defaultValue","valueType","newValueType","convertedValue","option","createOption","currentValue","enumerable","createOptions","optionDefinition","createInitialState","items","listUpdateTimeout","itemUpdateTimeout","processingQueue","fromCamels","separator","part","toLowerCase","createOptionAPI","toUpperCase","createOptionActions","createOptionQueries","InteractionMethod","API","DROP","BROWSE","PASTE","NONE","getUniqueId","random","substring","_objectWithoutPropertiesLoose","source","excluded","sourceKeys","_objectWithoutProperties","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","call","_toConsumableArray","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","arr2","iter","from","arrayRemove","run","sync","listener","_fire","fireSync","fire","_len2","_key2","onOnce","_cb","copyObjectPropertiesToObject","getOwnPropertyNames","getOwnPropertyDescriptor","PRIVATE","createItemAPI","removeReleasedItems","released","ItemStatus","INIT","IDLE","PROCESSING_QUEUED","PROCESSING","PROCESSING_COMPLETE","PROCESSING_ERROR","PROCESSING_REVERT_ERROR","LOADING","LOAD_ERROR","FileOrigin","INPUT","LIMBO","LOCAL","getNonNumeric","getDecimalSeparator","toLocaleString","getThousandsSeparator","decimalSeparator","thousandsStringWithSeparator","NUMBER","ACTION","SERVER_API","REGEX","filters","applyFilterChain","matchingFilters","f","initialFilter","current","error","applyFilters","extendDefaultOptions","additionalOptions","defaultOptions","getOptions","setOptions","opts","disabled","required","captureMethod","allowSyncAcceptAttribute","allowDrop","allowBrowse","allowPaste","allowReplace","allowRevert","allowRemove","allowProcess","allowReorder","allowDirectoriesOnly","storeAsFile","forceRevert","maxFiles","checkValidity","itemInsertLocationFreedom","itemInsertLocation","itemInsertInterval","dropOnPage","dropOnElement","dropValidation","ignoredFiles","instantUpload","maxParallelUploads","allowMinimumUploadDuration","chunkUploads","chunkForce","chunkSize","chunkRetryDelays","server","fileSizeBase","labelFileSizeBytes","labelFileSizeKilobytes","labelFileSizeMegabytes","labelFileSizeGigabytes","labelDecimalSeparator","labelThousandsSeparator","labelIdle","labelInvalidField","labelFileWaitingForSize","labelFileSizeNotAvailable","labelFileCountSingular","labelFileCountPlural","labelFileLoading","labelFileAdded","labelFileLoadError","labelFileRemoved","labelFileRemoveError","labelFileProcessing","labelFileProcessingComplete","labelFileProcessingAborted","labelFileProcessingError","labelFileProcessingRevertError","labelTapToCancel","labelTapToRetry","labelTapToUndo","labelButtonRemoveItem","labelButtonAbortItemLoad","labelButtonRetryItemLoad","labelButtonAbortItemProcessing","labelButtonUndoItemProcessing","labelButtonRetryItemProcessing","labelButtonProcessItem","iconRemove","iconProcess","iconRetry","iconUndo","iconDone","oninit","onwarning","onactivatefile","oninitfile","onaddfilestart","onaddfileprogress","onaddfile","onprocessfilestart","onprocessfileprogress","onprocessfileabort","onprocessfilerevert","onprocessfile","onprocessfiles","onremovefile","onpreparefile","onupdatefiles","onreorderfiles","beforeDropFile","beforeAddFile","beforeRemoveFile","beforePrepareFile","stylePanelLayout","stylePanelAspectRatio","styleItemPanelAspectRatio","styleButtonRemoveItemPosition","styleButtonProcessItemPosition","styleLoadIndicatorPosition","styleProgressIndicatorPosition","styleButtonRemoveItemAlign","files","credits","getItemByQuery","find","getNumericAspectRatioFromString","getActiveItems","Status","EMPTY","ERROR","BUSY","READY","res","canUpdateFileInput","dataTransfer","DataTransfer","File","ITEM_ERROR","ITEM_BUSY","ITEM_READY","isItemInErrorState","isItemInBusyState","isItemInReadyState","isAsync","GET_STATUS","GET_ITEM","GET_ACTIVE_ITEM","GET_ACTIVE_ITEMS","GET_ITEMS","GET_ITEM_NAME","GET_ITEM_SIZE","GET_STYLES","GET_PANEL_ASPECT_RATIO","GET_ITEM_PANEL_ASPECT_RATIO","GET_ITEMS_BY_STATUS","GET_TOTAL_ITEMS","SHOULD_UPDATE_FILE_INPUT","IS_ASYNC","GET_FILE_SIZE_LABELS","labelBytes","labelKilobytes","labelMegabytes","labelGigabytes","hasRoomForItem","count","maxFileCount","limit","arrayInsert","insertItem","isBase64DataURI","guesstimateExtension","subtype","leftPad","padding","getDateString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","getFileFromBlob","blob","lastModifiedDate","_relativePath","getBlobBuilder","BlobBuilder","WebKitBlobBuilder","MozBlobBuilder","MSBlobBuilder","createBlob","arrayBuffer","BB","bb","append","getBlob","Blob","getBlobFromByteStringWithMimeType","byteString","ab","ArrayBuffer","ia","Uint8Array","charCodeAt","getMimeTypeFromBase64DataURI","dataURI","getBase64DataFromBase64DataURI","getByteStringFromBase64DataURI","atob","getBlobFromBase64DataURI","getFileFromBase64DataURI","getFileNameFromHeader","matches","decodeURI","getFileSizeFromHeader","getTranfserIdFromHeader","getFileInfoFromHeaders","info","rows","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","createFileLoader","fetchFn","complete","progress","getProgress","abort","loadURL","body","code","computable","fileinfo","setSource","isGet","sendRequest","onheaders","onprogress","ontimeout","onabort","aborted","xhr","headersReceived","encodeURI","encodeURIComponent","stringify","XMLHttpRequest","upload","lengthComputable","loaded","onreadystatechange","readyState","open","unescape","setRequestHeader","responseType","createResponse","createTimeoutResponse","getAllResponseHeaders","hasQS","buildURL","createFetchFunction","apiUrl","statusText","ChunkStatus","QUEUED","COMPLETE","WAITING","processFileChunked","metadata","transfer","chunks","chunkTransferId","chunkServer","serverId","fd","getResponseHeader","requestTransferId","formData","FormData","requestParams","requestTransferOffset","requestUrl","lastChunkIndex","retries","completeProcessingChunks","canProcessChunk","chunk","processChunk","processChunks","updateTotalProgress","retryProcessChunk","every","totalBytesTransfered","totalSize","abortChunks","createFileProcessorFunction","canChunkUpload","shouldChunkUpload","willChunkUpload","createProcessorFunction","params","createRevertFunction","uniqueFileId","getRandomNumber","createPerceivedPerformanceUpdater","tickMin","tickMax","runtime","clear","createFileProcessor","processFn","perceivedProgress","perceivedPerformanceUpdater","perceivedDuration","progressFn","completeFn","transferId","reset","getDuration","getFilenameWithoutExtension","lastIndexOf","createFileStub","deepCloneObject","createItem","serverFileReference","frozen","processingAborted","activeLoader","activeProcessor","abortProcessingRequestComplete","setStatus","getFileExtension","getFileType","getFileSize","getFile","loader","meta","success","retryLoad","abortLoad","processor","onprocess","console","requestProcessing","abortProcessing","revertFileUpload","serverTransferId","_setMetadata","silent","filenameWithoutExtension","fileExtension","fileType","relativePath","extend","handler","itemAPI","freeze","release","archive","setFile","getItemIndexByQuery","getItemById","itemId","fetchBlob","getDomainFromURL","protocol","isExternalURL","dynamicLabel","isMockItem","listUpdated","optionalPromise","sortItems","compare","getItemByQueryFromState","itemHandler","_ref$success","_ref$failure","failure","ABORT_ALL","DID_SET_FILES","_ref2$value","activeItems","interactionMethod","doUpload","shouldPrepareOutput","MOVE_ITEM","currentIndex","SORT","ADD_ITEMS","_ref6$success","_ref6$failure","insertLocation","totalItems","isValidFile","promises","all","ADD_ITEM","_ref7$index","_ref7$success","_ref7$failure","_ref7$options","_item","mainStatus","handleAdd","shouldAdd","loadComplete","REQUEST_PREPARE_OUTPUT","_ref9$failure","COMPLETE_LOAD_ITEM","RETRY_ITEM_LOAD","REQUEST_ITEM_PREPARE","_success","output","REQUEST_ITEM_PROCESSING","processNow","PROCESS_ITEM","processNext","queueEntry","itemReference","noop","RETRY_ITEM_PROCESSING","REQUEST_REMOVE_ITEM","shouldRemove","RELEASE_ITEM","REMOVE_ITEM","removeFromView","ABORT_ITEM_LOAD","ABORT_ITEM_PROCESSING","REQUEST_REVERT_ITEM_PROCESSING","handleRevert","shouldRevert","requestRemoveResult","REVERT_ITEM_PROCESSING","SET_OPTIONS","optionKeys","prioritizedOptionKeys","PrioritizedOptions","formatFilename","createElement$1","tagName","textNode","nodeValue","createTextNode","polarToCartesian","centerX","centerY","radius","angleInDegrees","angleInRadians","describeArc","startAngle","endAngle","arcSweep","percentageArc","to","progressIndicator","spin","align","ringStrokeWidth","ringFrom","ringTo","coordinates","fileActionButton","icon","isDisabled","shouldDisable","removeAttribute","_options$labelBytes","_options$labelKilobyt","_options$labelMegabyt","_options$labelGigabyt","KB","MB","GB","removeDecimalsWhenZero","decimalCount","toFixed","create$2","fileName","updateFile","updateFileSizeOnError","fileInfo","DID_UPDATE_ITEM_META","toPercentage","create$3","didSetItemLoadProgress","title","fileStatus","DID_REQUEST_ITEM_PROCESSING","DID_ABORT_ITEM_PROCESSING","DID_UPDATE_ITEM_PROCESS_PROGRESS","DID_UPDATE_ITEM_LOAD_PROGRESS","DID_THROW_ITEM_PROCESSING_REVERT_ERROR","DID_THROW_ITEM_REMOVE_ERROR","Buttons","AbortItemLoad","RetryItemLoad","RemoveItem","ProcessItem","AbortItemProcessing","RetryItemProcessing","RevertItemProcessing","ButtonKeys","isSupported","calculateFileInfoOffset","getRemoveIndicatorAligment","buttonRect","buttonRemoveItem","calculateButtonWidth","buttonAbortItemLoad","calculateFileVerticalCenterOffset","calculateFileHorizontalCenterOffset","DefaultStyle","buttonRetryItemLoad","buttonProcessItem","buttonAbortItemProcessing","buttonRetryItemProcessing","buttonRevertItemProcessing","loadProgressIndicator","processProgressIndicator","processingCompleteIndicator","IdleStyle","ProcessingStyle","StyleMap","DID_START_ITEM_LOAD","DID_START_ITEM_REMOVE","DID_LOAD_LOCAL_ITEM","processingCompleteIndicatorView","create$4","buttonFilter","LocalButtons","alignRemoveItemButton","enabledButtons","_map","buttonView","stopPropagation","loadIndicatorView","progressIndicatorView","activeStyles","write$2","route","stylesToApply","defaultStyles","control","DID_SET_LABEL_BUTTON_ABORT_ITEM_PROCESSING","DID_SET_LABEL_BUTTON_ABORT_ITEM_LOAD","DID_SET_LABEL_BUTTON_ABORT_ITEM_REMOVAL","buttonAbortItemRemoval","fileWrapper","PANEL_SPRING_PROPS","create$6","section","createSection","scalable","viewConstructor","panel","heightCurrent","topRect","bottomRect","createDragHelper","itemIds","prevIndex","setIndex","getIndex","getItemIndex","ITEM_TRANSLATE_SPRING","ITEM_SCALE_SPRING","StateMap","create$7","handleClick","markedForRemoval","dragState","grab","isPrimary","removedActivateListener","pageX","pageY","dragOrigin","dragCenter","offsetX","offsetY","drag","preventDefault","dragOffset","drop","cancel","route$1","DID_UPDATE_PANEL_HEIGHT","write$4","DID_GRAB_ITEM","DID_DRAG_ITEM","DID_DROP_ITEM","currentState","filepondItemState","getItemsPerRow","horizontalSpace","getItemIndexByPosition","positionInView","itemRect","itemHorizontalMargin","itemsPerRow","childMid","itemVerticalMargin","itemHeight","_index","itemTop","itemRight","itemBottom","dropAreaDimensions","getHeight","setHeight","val","getWidth","setWidth","setDimensions","create$8","lastItemSpanwDate","moveItem","vx","vy","spawnDate","introItemView","getItemHeight","getItemWidth","route$2","DID_ADD_ITEM","addIndex","cooldown","dist","DID_REMOVE_ITEM","numItems","oldIndex","dragPosition","dragHeight","dragWidth","cols","getGridIndex","getColIndex","visibleChildren","idx","childBottom","childTop","list","dragCoordinates","dragIndex","dragIndexOffset","removeIndexOffset","addIndexOffset","childRect","visualHeight","prevX","prevY","visualIndex","indexX","indexY","vectorX","sign","vectorY","create$9","overflowing","route$3","DID_DRAG","scopeLeft","scopeTop","DID_END_DRAG","listScroller","overflow","newHeight","attrToggle","resetFileInput","input","form","create$a","setAcceptedFileTypes","toggleAllowMultiple","toggleDirectoryFilter","toggleDisabled","toggleRequired","setCaptureMethod","handleChange","webkitRelativePath","doesAllowBrowse","disableField","updateRequiredStatus","setCustomValidity","browser","DID_SET_DISABLED","DID_SET_ALLOW_BROWSE","DID_SET_ALLOW_DIRECTORIES_ONLY","DID_SET_ALLOW_MULTIPLE","DID_SET_ACCEPTED_FILE_TYPES","DID_SET_CAPTURE_METHOD","DID_SET_REQUIRED","Key","ENTER","SPACE","create$b","handleKeyDown","keyCode","click","contains","updateLabelValue","caption","clickable","dropLabel","DID_SET_LABEL_IDLE","addBlob","write$7","route$4","DID_DROP","drip","setInputFiles","create$c","fields","getField","syncFieldPositionsWithItems","didReorderItems","write$8","shouldUseFileInput","dataContainer","field","fileItem","DID_DEFINE_VALUE","DID_PREPARE_OUTPUT","DID_REORDER_ITEMS","DID_SORT_ITEMS","getRootNode","text$1","zip","epub","requestDataTransferItems","links","getLinks","hasFiles","getFiles","promisedFiles","isFileSystemItem","getFilesFromItem","returnedFileGroups","group","isEntry","entry","getAsEntry","isDirectory","kind","isDirectoryEntry","getFilesInDirectory","getAsFile","dirCounter","fileCounter","resolveIfDone","readEntries","dirEntry","directoryReader","createReader","readBatch","entries","correctedFile","correctMissingFileType","fullPath","webkitGetAsEntry","getLinksFromTransferMetaData","getLinksFromTransferURLData","getData","dragNDropObservers","eventPosition","pageLeft","pageTop","layerX","layerY","createDragNDropClient","scopeToObserve","filterElement","observer","getDragNDropObserver","client","ondrop","onenter","ondrag","onexit","allowdrop","addListener","newObserver","createDragNDropObserver","clients","dragenter","dragover","dragleave","handlers","createHandler","elementFromPoint","isEventTarget","elementAtPosition","pageXOffset","pageYOffset","initialTarget","setDropEffect","effect","dropEffect","overDropTarget","allowsTransfer","createHopper","scope","validateItems","catchesDropsOnPage","requiresDropOnElement","_options$filterItems","filterItems","documentElement","lastState","filteredItems","ondragend","ondragstart","updateHopperState","hopperState","listening","listeners$1","handlePaste","activeEl","activeElement","nodeName","inScope","clipboardData","listen","unlisten","createPaster","addFilesNotificationTimeout","notificationClearTimeout","filenames","assist","clear$1","listModified","isUsingFilePond","itemProcessedUndo","itemError","assistant","toCamels","RegExp","charAt","debounce","func","immidiateOnly","MAX_FILES_LIMIT","prevent","create$e","measure","bounds","widthPrevious","widthUpdated","updateHistory","previousAspectRatio","canHover","matchMedia","hasPointerEvents","passive","frag","tabIndex","rel","write$9","route$5","calculateRootBoundingBoxHeight","hopper","isMultiItem","atMaxCapacity","addAction","listItemMargin","calculateListItemMargin","listHeight","calculateListHeight","labelHeight","currentLabelHeight","listMarginTop","listMarginBottom","visual","boundsHeight","history","MAX_BOUNCES","bounces","listAvailableHeight","_listAvailableHeight","cappedHeight","isCappedHeight","panelHeight","_listAvailableHeight2","itemMargin","scrollList","itemList","newItem","removedItem","verticalItemCount","measureHeight","maxHeight","exceedsMaxFiles","maxItems","totalBrowseItems","getDragIndex","toggleDrop","isAllowed","enabled","toggleBrowse","togglePaste","paster","DID_SET_ALLOW_DROP","DID_SET_ALLOW_PASTE","createApp","initialOptions","originalElement","visibilityHandler","resizeDoneTimer","isResizing","isResizingHorizontally","initialWindowWidth","currentWindowWidth","resizeHandler","isHidden","readWriteApi","innerWidth","routeActionsToEvents","createEvent","eventRoutes","DID_DESTROY","DID_INIT","DID_THROW_MAX_FILES","DID_INIT_ITEM","DID_COMPLETE_ITEM_PROCESSING_ALL","DID_UPDATE_ITEMS","DID_ACTIVATE_ITEM","exposeEvent","pond","bubbles","cancelable","composed","filtered","prepareFile","addFile","addFiles","isFilePondFile","removeFile","sources","lastArgument","processFile","prepareFiles","processFiles","_len3","_key3","removeFiles","_len4","_key4","q","moveFile","browse","appendTo","replaceElement","restoreElement","isAttachedTo","createAppObject","customOptions","lowerCaseFirstLetter","attributeNameToPropertyName","attributeName","mapObject","propertyMap","selector","mapping","selectorRegExp","getAttributesAsObject","attributeMapping","attribute","createAppAtElement","mergedOptions","attributeOptions","querySelectorAll","app","createApp$1","PRIVATE_METHODS","createAppAPI","replacements","workerBlob","workerURL","Worker","transferList","renameFile","renamedFile","copyFile","registeredPlugins","createAppPlugin","pluginOutline","views","isOperaMini","operamini","hasPromises","hasBlobSlice","hasCreateObjectURL","hasVisibility","hasTiming","hasCSSSupports","CSS","isIE11","supported","apps","FileStatus","OptionTypes","registerPlugin","updateOptionTypes","hook","indexToRemove","context","newHook","plugins","n","m","toStringTag","__esModule","bind","default","s","constructor","callbacks","trigger","u","mirror","draggable","handle","placedTimeout","sensors","E","NodeList","containers","Error","classes","announcements","emitter","dragging","values","Plugins","MouseSensor","TouchSensor","addPlugin","addSensor","DraggableInitializedEvent","DraggableDestroyEvent","removePlugin","removeSensor","attach","detach","addContainer","removeContainer","getClassNameFor","isDragging","Boolean","getDraggableElements","getDraggableElementsForContainer","originalSource","closest","sourceContainer","lastPlacedSource","lastPlacedContainer","placedTimeoutID","cloneNode","DragStartEvent","sensorEvent","canceled","S","clone","DragMoveEvent","overContainer","currentOverContainer","currentOver","DragOutEvent","over","DragOutContainerEvent","DragOverContainerEvent","DragOverEvent","DragStopEvent","originalEvent","DragPressureEvent","pressure","webkitUserSelect","mozUserSelect","msUserSelect","oUserSelect","userSelect","Announcement","Focusable","Mirror","Scrollable","super","mightDrag","clientX","clientY","currentTarget","DragStartSensorEvent","currentContainer","DragStopSensorEvent","stopImmediatePropagation","DragMoveSensorEvent","DragPressureSensorEvent","webkitForce","mouseDownTimeout","draggableElement","nativeDraggableElement","setData","effectAllowed","contenteditable","currentScrollableParent","tapTimeout","touchMoved","touches","changedTouches","scrollX","scrollY","SensorEvent","mouseDown","openedContextMenu","button","ctrlKey","metaKey","initEvent","lastEvent","correspondingUseElement","correspondingElement","Element","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","scroll","onDragStop","onDragMove","onDragStart","speed","sensitivity","scrollableElements","currentMousePosition","scrollAnimationFrame","scrollableElement","findScrollableElementFrame","scrollable","getScrollableElement","hasDefinedScrollableElements","getPropertyValue","scrollLeft","getBoundingClientRect","innerHeight","scrollingElement","MirrorDestroyEvent","MirrorMoveEvent","MirrorAttachedEvent","MirrorCreatedEvent","MirrorCreateEvent","MirrorEvent","dragEvent","getAppendableContainer","onScroll","onMirrorMove","onMirrorCreated","constrainDimensions","xAxis","yAxis","cursorOffsetX","cursorOffsetY","scrollOffset","initialScrollOffset","mirrorClass","initial","O","mirrorOffset","initialX","initialY","raf","sourceRect","pointerEvents","margin","withFrame","frame","focusable","getElements","expire","originalTriggerMethod","DraggableEvent","DragEvent","compareDocumentPosition","Node","DOCUMENT_POSITION_FOLLOWING","startIndex","startContainer","SortableStartEvent","SortableSortEvent","oldContainer","newContainer","SortableSortedEvent","newIndex","SortableStopEvent","nextElementSibling","SortableEvent","Livewire","directive","component","modifiers","livewire_sortable","order","$wire","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","FilePond","FilePondPluginFileValidateType","FilePondPluginImagePreview","FilePondPluginFileValidateSize"],"sourceRoot":""}